var wx=Object.defineProperty;var xx=t=>{throw TypeError(t)};var _x=(t,e,n)=>e in t?wx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var En=(t,e,n)=>_x(t,typeof e!="symbol"?e+"":e,n);var Po=(t,e,n)=>e.has(t)?xx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n);function bx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function nh(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var rg={exports:{}},Qu={},ig={exports:{}},Be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=Symbol.for("react.element"),kx=Symbol.for("react.portal"),Sx=Symbol.for("react.fragment"),Ex=Symbol.for("react.strict_mode"),Cx=Symbol.for("react.profiler"),Rx=Symbol.for("react.provider"),Ix=Symbol.for("react.context"),Tx=Symbol.for("react.forward_ref"),Mx=Symbol.for("react.suspense"),Ax=Symbol.for("react.memo"),Bx=Symbol.for("react.lazy"),Lp=Symbol.iterator;function Px(t){return t===null||typeof t!="object"?null:(t=Lp&&t[Lp]||t["@@iterator"],typeof t=="function"?t:null)}var sg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},og=Object.assign,ag={};function So(t,e,n){this.props=t,this.context=e,this.refs=ag,this.updater=n||sg}So.prototype.isReactComponent={};So.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};So.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lg(){}lg.prototype=So.prototype;function rh(t,e,n){this.props=t,this.context=e,this.refs=ag,this.updater=n||sg}var ih=rh.prototype=new lg;ih.constructor=rh;og(ih,So.prototype);ih.isPureReactComponent=!0;var jp=Array.isArray,ug=Object.prototype.hasOwnProperty,sh={current:null},cg={key:!0,ref:!0,__self:!0,__source:!0};function fg(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ug.call(e,r)&&!cg.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:za,type:t,key:s,ref:o,props:i,_owner:sh.current}}function Nx(t,e){return{$$typeof:za,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oh(t){return typeof t=="object"&&t!==null&&t.$$typeof===za}function Ox(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dp=/\/+/g;function Fc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ox(""+t.key):e.toString(36)}function Ml(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case za:case kx:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fc(o,0):r,jp(i)?(n="",t!=null&&(n=t.replace(Dp,"$&/")+"/"),Ml(i,e,n,"",function(c){return c})):i!=null&&(oh(i)&&(i=Nx(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Dp,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",jp(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Fc(s,a);o+=Ml(s,e,n,l,i)}else if(l=Px(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Fc(s,a++),o+=Ml(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function il(t,e,n){if(t==null)return t;var r=[],i=0;return Ml(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Lx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bn={current:null},Al={transition:null},jx={ReactCurrentDispatcher:bn,ReactCurrentBatchConfig:Al,ReactCurrentOwner:sh};function dg(){throw Error("act(...) is not supported in production builds of React.")}Be.Children={map:il,forEach:function(t,e,n){il(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return il(t,function(){e++}),e},toArray:function(t){return il(t,function(e){return e})||[]},only:function(t){if(!oh(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Be.Component=So;Be.Fragment=Sx;Be.Profiler=Cx;Be.PureComponent=rh;Be.StrictMode=Ex;Be.Suspense=Mx;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jx;Be.act=dg;Be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=og({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sh.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ug.call(e,l)&&!cg.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:za,type:t.type,key:i,ref:s,props:r,_owner:o}};Be.createContext=function(t){return t={$$typeof:Ix,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Rx,_context:t},t.Consumer=t};Be.createElement=fg;Be.createFactory=function(t){var e=fg.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:Tx,render:t}};Be.isValidElement=oh;Be.lazy=function(t){return{$$typeof:Bx,_payload:{_status:-1,_result:t},_init:Lx}};Be.memo=function(t,e){return{$$typeof:Ax,type:t,compare:e===void 0?null:e}};Be.startTransition=function(t){var e=Al.transition;Al.transition={};try{t()}finally{Al.transition=e}};Be.unstable_act=dg;Be.useCallback=function(t,e){return bn.current.useCallback(t,e)};Be.useContext=function(t){return bn.current.useContext(t)};Be.useDebugValue=function(){};Be.useDeferredValue=function(t){return bn.current.useDeferredValue(t)};Be.useEffect=function(t,e){return bn.current.useEffect(t,e)};Be.useId=function(){return bn.current.useId()};Be.useImperativeHandle=function(t,e,n){return bn.current.useImperativeHandle(t,e,n)};Be.useInsertionEffect=function(t,e){return bn.current.useInsertionEffect(t,e)};Be.useLayoutEffect=function(t,e){return bn.current.useLayoutEffect(t,e)};Be.useMemo=function(t,e){return bn.current.useMemo(t,e)};Be.useReducer=function(t,e,n){return bn.current.useReducer(t,e,n)};Be.useRef=function(t){return bn.current.useRef(t)};Be.useState=function(t){return bn.current.useState(t)};Be.useSyncExternalStore=function(t,e,n){return bn.current.useSyncExternalStore(t,e,n)};Be.useTransition=function(){return bn.current.useTransition()};Be.version="18.3.1";ig.exports=Be;var me=ig.exports;const Dx=Fa(me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=me,Fx=Symbol.for("react.element"),zx=Symbol.for("react.fragment"),$x=Object.prototype.hasOwnProperty,Vx=Ux.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kx={key:!0,ref:!0,__self:!0,__source:!0};function hg(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)$x.call(e,r)&&!Kx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Fx,type:t,key:s,ref:o,props:i,_owner:Vx.current}}Qu.Fragment=zx;Qu.jsx=hg;Qu.jsxs=hg;rg.exports=Qu;var N=rg.exports,Bf={},pg={exports:{}},Wn={},mg={exports:{}},gg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_,T){var B=_.length;_.push(T);e:for(;0<B;){var x=B-1>>>1,d=_[x];if(0<i(d,T))_[x]=T,_[B]=d,B=x;else break e}}function n(_){return _.length===0?null:_[0]}function r(_){if(_.length===0)return null;var T=_[0],B=_.pop();if(B!==T){_[0]=B;e:for(var x=0,d=_.length,A=d>>>1;x<A;){var te=2*(x+1)-1,J=_[te],re=te+1,we=_[re];if(0>i(J,B))re<d&&0>i(we,J)?(_[x]=we,_[re]=B,x=re):(_[x]=J,_[te]=B,x=te);else if(re<d&&0>i(we,B))_[x]=we,_[re]=B,x=re;else break e}}return T}function i(_,T){var B=_.sortIndex-T.sortIndex;return B!==0?B:_.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],m=1,g=null,y=3,k=!1,M=!1,P=!1,L=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(_){for(var T=n(c);T!==null;){if(T.callback===null)r(c);else if(T.startTime<=_)r(c),T.sortIndex=T.expirationTime,e(l,T);else break;T=n(c)}}function j(_){if(P=!1,C(_),!M)if(n(l)!==null)M=!0,v(V);else{var T=n(c);T!==null&&E(j,T.startTime-_)}}function V(_,T){M=!1,P&&(P=!1,S(q),q=-1),k=!0;var B=y;try{for(C(T),g=n(l);g!==null&&(!(g.expirationTime>T)||_&&!ee());){var x=g.callback;if(typeof x=="function"){g.callback=null,y=g.priorityLevel;var d=x(g.expirationTime<=T);T=t.unstable_now(),typeof d=="function"?g.callback=d:g===n(l)&&r(l),C(T)}else r(l);g=n(l)}if(g!==null)var A=!0;else{var te=n(c);te!==null&&E(j,te.startTime-T),A=!1}return A}finally{g=null,y=B,k=!1}}var W=!1,Z=null,q=-1,$=5,H=-1;function ee(){return!(t.unstable_now()-H<$)}function Q(){if(Z!==null){var _=t.unstable_now();H=_;var T=!0;try{T=Z(!0,_)}finally{T?b():(W=!1,Z=null)}}else W=!1}var b;if(typeof R=="function")b=function(){R(Q)};else if(typeof MessageChannel<"u"){var u=new MessageChannel,p=u.port2;u.port1.onmessage=Q,b=function(){p.postMessage(null)}}else b=function(){L(Q,0)};function v(_){Z=_,W||(W=!0,b())}function E(_,T){q=L(function(){_(t.unstable_now())},T)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_){_.callback=null},t.unstable_continueExecution=function(){M||k||(M=!0,v(V))},t.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<_?Math.floor(1e3/_):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(_){switch(y){case 1:case 2:case 3:var T=3;break;default:T=y}var B=y;y=T;try{return _()}finally{y=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_,T){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var B=y;y=_;try{return T()}finally{y=B}},t.unstable_scheduleCallback=function(_,T,B){var x=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?x+B:x):B=x,_){case 1:var d=-1;break;case 2:d=250;break;case 5:d=1073741823;break;case 4:d=1e4;break;default:d=5e3}return d=B+d,_={id:m++,callback:T,priorityLevel:_,startTime:B,expirationTime:d,sortIndex:-1},B>x?(_.sortIndex=B,e(c,_),n(l)===null&&_===n(c)&&(P?(S(q),q=-1):P=!0,E(j,B-x))):(_.sortIndex=d,e(l,_),M||k||(M=!0,v(V))),_},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(_){var T=y;return function(){var B=y;y=T;try{return _.apply(this,arguments)}finally{y=B}}}})(gg);mg.exports=gg;var Wx=mg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hx=me,Vn=Wx;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yg=new Set,oa={};function hs(t,e){lo(t,e),lo(t+"Capture",e)}function lo(t,e){for(oa[t]=e,t=0;t<e.length;t++)yg.add(e[t])}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pf=Object.prototype.hasOwnProperty,Zx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Up={},Fp={};function qx(t){return Pf.call(Fp,t)?!0:Pf.call(Up,t)?!1:Zx.test(t)?Fp[t]=!0:(Up[t]=!0,!1)}function Gx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yx(t,e,n,r){if(e===null||typeof e>"u"||Gx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Yt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yt[t]=new kn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yt[e]=new kn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yt[t]=new kn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yt[t]=new kn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yt[t]=new kn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Yt[t]=new kn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Yt[t]=new kn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Yt[t]=new kn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Yt[t]=new kn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ah=/[\-:]([a-z])/g;function lh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ah,lh);Yt[e]=new kn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ah,lh);Yt[e]=new kn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ah,lh);Yt[e]=new kn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Yt[t]=new kn(t,1,!1,t.toLowerCase(),null,!1,!1)});Yt.xlinkHref=new kn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Yt[t]=new kn(t,1,!1,t.toLowerCase(),null,!0,!0)});function uh(t,e,n,r){var i=Yt.hasOwnProperty(e)?Yt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yx(e,n,i,r)&&(n=null),r||i===null?qx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xr=Hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sl=Symbol.for("react.element"),js=Symbol.for("react.portal"),Ds=Symbol.for("react.fragment"),ch=Symbol.for("react.strict_mode"),Nf=Symbol.for("react.profiler"),vg=Symbol.for("react.provider"),wg=Symbol.for("react.context"),fh=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Lf=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),xg=Symbol.for("react.offscreen"),zp=Symbol.iterator;function No(t){return t===null||typeof t!="object"?null:(t=zp&&t[zp]||t["@@iterator"],typeof t=="function"?t:null)}var wt=Object.assign,zc;function Vo(t){if(zc===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zc=e&&e[1]||""}return`
`+zc+t}var $c=!1;function Vc(t,e){if(!t||$c)return"";$c=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{$c=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vo(t):""}function Jx(t){switch(t.tag){case 5:return Vo(t.type);case 16:return Vo("Lazy");case 13:return Vo("Suspense");case 19:return Vo("SuspenseList");case 0:case 2:case 15:return t=Vc(t.type,!1),t;case 11:return t=Vc(t.type.render,!1),t;case 1:return t=Vc(t.type,!0),t;default:return""}}function jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ds:return"Fragment";case js:return"Portal";case Nf:return"Profiler";case ch:return"StrictMode";case Of:return"Suspense";case Lf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wg:return(t.displayName||"Context")+".Consumer";case vg:return(t._context.displayName||"Context")+".Provider";case fh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dh:return e=t.displayName||null,e!==null?e:jf(t.type)||"Memo";case ci:e=t._payload,t=t._init;try{return jf(t(e))}catch{}}return null}function Xx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jf(e);case 8:return e===ch?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _g(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Qx(t){var e=_g(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ol(t){t._valueTracker||(t._valueTracker=Qx(t))}function bg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=_g(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Df(t,e){var n=e.checked;return wt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $p(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kg(t,e){e=e.checked,e!=null&&uh(t,"checked",e,!1)}function Uf(t,e){kg(t,e);var n=Bi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ff(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ff(t,e.type,Bi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Vp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ff(t,e,n){(e!=="number"||Jl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ko=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bi(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return wt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Kp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Ko(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bi(n)}}function Sg(t,e){var n=Bi(e.value),r=Bi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Wp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Eg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $f(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Eg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var al,Cg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(al=al||document.createElement("div"),al.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=al.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function aa(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},e_=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(t){e_.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Go[e]=Go[t]})});function Rg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Go.hasOwnProperty(t)&&Go[t]?(""+e).trim():e+"px"}function Ig(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Rg(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var t_=wt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vf(t,e){if(e){if(t_[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Kf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wf=null;function hh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Hf=null,Xs=null,Qs=null;function Hp(t){if(t=Ka(t)){if(typeof Hf!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=ic(e),Hf(t.stateNode,t.type,e))}}function Tg(t){Xs?Qs?Qs.push(t):Qs=[t]:Xs=t}function Mg(){if(Xs){var t=Xs,e=Qs;if(Qs=Xs=null,Hp(t),e)for(t=0;t<e.length;t++)Hp(e[t])}}function Ag(t,e){return t(e)}function Bg(){}var Kc=!1;function Pg(t,e,n){if(Kc)return t(e,n);Kc=!0;try{return Ag(t,e,n)}finally{Kc=!1,(Xs!==null||Qs!==null)&&(Bg(),Mg())}}function la(t,e){var n=t.stateNode;if(n===null)return null;var r=ic(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Zf=!1;if(Zr)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){Zf=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{Zf=!1}function n_(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(m){this.onError(m)}}var Yo=!1,Xl=null,Ql=!1,qf=null,r_={onError:function(t){Yo=!0,Xl=t}};function i_(t,e,n,r,i,s,o,a,l){Yo=!1,Xl=null,n_.apply(r_,arguments)}function s_(t,e,n,r,i,s,o,a,l){if(i_.apply(this,arguments),Yo){if(Yo){var c=Xl;Yo=!1,Xl=null}else throw Error(Y(198));Ql||(Ql=!0,qf=c)}}function ps(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ng(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Zp(t){if(ps(t)!==t)throw Error(Y(188))}function o_(t){var e=t.alternate;if(!e){if(e=ps(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Zp(i),t;if(s===r)return Zp(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function Og(t){return t=o_(t),t!==null?Lg(t):null}function Lg(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Lg(t);if(e!==null)return e;t=t.sibling}return null}var jg=Vn.unstable_scheduleCallback,qp=Vn.unstable_cancelCallback,a_=Vn.unstable_shouldYield,l_=Vn.unstable_requestPaint,Mt=Vn.unstable_now,u_=Vn.unstable_getCurrentPriorityLevel,ph=Vn.unstable_ImmediatePriority,Dg=Vn.unstable_UserBlockingPriority,eu=Vn.unstable_NormalPriority,c_=Vn.unstable_LowPriority,Ug=Vn.unstable_IdlePriority,ec=null,Cr=null;function f_(t){if(Cr&&typeof Cr.onCommitFiberRoot=="function")try{Cr.onCommitFiberRoot(ec,t,void 0,(t.current.flags&128)===128)}catch{}}var dr=Math.clz32?Math.clz32:p_,d_=Math.log,h_=Math.LN2;function p_(t){return t>>>=0,t===0?32:31-(d_(t)/h_|0)|0}var ll=64,ul=4194304;function Wo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Wo(a):(s&=o,s!==0&&(r=Wo(s)))}else o=n&~i,o!==0?r=Wo(o):s!==0&&(r=Wo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dr(e),i=1<<n,r|=t[n],e&=~i;return r}function m_(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g_(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=m_(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Gf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fg(){var t=ll;return ll<<=1,!(ll&4194240)&&(ll=64),t}function Wc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $a(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dr(e),t[e]=n}function y_(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function mh(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var qe=0;function zg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $g,gh,Vg,Kg,Wg,Yf=!1,cl=[],bi=null,ki=null,Si=null,ua=new Map,ca=new Map,hi=[],v_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gp(t,e){switch(t){case"focusin":case"focusout":bi=null;break;case"dragenter":case"dragleave":ki=null;break;case"mouseover":case"mouseout":Si=null;break;case"pointerover":case"pointerout":ua.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(e.pointerId)}}function Lo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ka(e),e!==null&&gh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function w_(t,e,n,r,i){switch(e){case"focusin":return bi=Lo(bi,t,e,n,r,i),!0;case"dragenter":return ki=Lo(ki,t,e,n,r,i),!0;case"mouseover":return Si=Lo(Si,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ua.set(s,Lo(ua.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ca.set(s,Lo(ca.get(s)||null,t,e,n,r,i)),!0}return!1}function Hg(t){var e=Hi(t.target);if(e!==null){var n=ps(e);if(n!==null){if(e=n.tag,e===13){if(e=Ng(n),e!==null){t.blockedOn=e,Wg(t.priority,function(){Vg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wf=r,n.target.dispatchEvent(r),Wf=null}else return e=Ka(n),e!==null&&gh(e),t.blockedOn=n,!1;e.shift()}return!0}function Yp(t,e,n){Bl(t)&&n.delete(e)}function x_(){Yf=!1,bi!==null&&Bl(bi)&&(bi=null),ki!==null&&Bl(ki)&&(ki=null),Si!==null&&Bl(Si)&&(Si=null),ua.forEach(Yp),ca.forEach(Yp)}function jo(t,e){t.blockedOn===e&&(t.blockedOn=null,Yf||(Yf=!0,Vn.unstable_scheduleCallback(Vn.unstable_NormalPriority,x_)))}function fa(t){function e(i){return jo(i,t)}if(0<cl.length){jo(cl[0],t);for(var n=1;n<cl.length;n++){var r=cl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bi!==null&&jo(bi,t),ki!==null&&jo(ki,t),Si!==null&&jo(Si,t),ua.forEach(e),ca.forEach(e),n=0;n<hi.length;n++)r=hi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<hi.length&&(n=hi[0],n.blockedOn===null);)Hg(n),n.blockedOn===null&&hi.shift()}var eo=Xr.ReactCurrentBatchConfig,nu=!0;function __(t,e,n,r){var i=qe,s=eo.transition;eo.transition=null;try{qe=1,yh(t,e,n,r)}finally{qe=i,eo.transition=s}}function b_(t,e,n,r){var i=qe,s=eo.transition;eo.transition=null;try{qe=4,yh(t,e,n,r)}finally{qe=i,eo.transition=s}}function yh(t,e,n,r){if(nu){var i=Jf(t,e,n,r);if(i===null)tf(t,e,r,ru,n),Gp(t,r);else if(w_(i,t,e,n,r))r.stopPropagation();else if(Gp(t,r),e&4&&-1<v_.indexOf(t)){for(;i!==null;){var s=Ka(i);if(s!==null&&$g(s),s=Jf(t,e,n,r),s===null&&tf(t,e,r,ru,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tf(t,e,r,null,n)}}var ru=null;function Jf(t,e,n,r){if(ru=null,t=hh(r),t=Hi(t),t!==null)if(e=ps(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ng(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ru=t,null}function Zg(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(u_()){case ph:return 1;case Dg:return 4;case eu:case c_:return 16;case Ug:return 536870912;default:return 16}default:return 16}}var mi=null,vh=null,Pl=null;function qg(){if(Pl)return Pl;var t,e=vh,n=e.length,r,i="value"in mi?mi.value:mi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Pl=i.slice(t,1<r?1-r:void 0)}function Nl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function fl(){return!0}function Jp(){return!1}function Hn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?fl:Jp,this.isPropagationStopped=Jp,this}return wt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fl)},persist:function(){},isPersistent:fl}),e}var Eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wh=Hn(Eo),Va=wt({},Eo,{view:0,detail:0}),k_=Hn(Va),Hc,Zc,Do,tc=wt({},Va,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Do&&(Do&&t.type==="mousemove"?(Hc=t.screenX-Do.screenX,Zc=t.screenY-Do.screenY):Zc=Hc=0,Do=t),Hc)},movementY:function(t){return"movementY"in t?t.movementY:Zc}}),Xp=Hn(tc),S_=wt({},tc,{dataTransfer:0}),E_=Hn(S_),C_=wt({},Va,{relatedTarget:0}),qc=Hn(C_),R_=wt({},Eo,{animationName:0,elapsedTime:0,pseudoElement:0}),I_=Hn(R_),T_=wt({},Eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M_=Hn(T_),A_=wt({},Eo,{data:0}),Qp=Hn(A_),B_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},N_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=N_[t])?!!e[t]:!1}function xh(){return O_}var L_=wt({},Va,{key:function(t){if(t.key){var e=B_[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Nl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P_[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xh,charCode:function(t){return t.type==="keypress"?Nl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Nl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),j_=Hn(L_),D_=wt({},tc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),e0=Hn(D_),U_=wt({},Va,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xh}),F_=Hn(U_),z_=wt({},Eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$_=Hn(z_),V_=wt({},tc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),K_=Hn(V_),W_=[9,13,27,32],_h=Zr&&"CompositionEvent"in window,Jo=null;Zr&&"documentMode"in document&&(Jo=document.documentMode);var H_=Zr&&"TextEvent"in window&&!Jo,Gg=Zr&&(!_h||Jo&&8<Jo&&11>=Jo),t0=" ",n0=!1;function Yg(t,e){switch(t){case"keyup":return W_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Us=!1;function Z_(t,e){switch(t){case"compositionend":return Jg(e);case"keypress":return e.which!==32?null:(n0=!0,t0);case"textInput":return t=e.data,t===t0&&n0?null:t;default:return null}}function q_(t,e){if(Us)return t==="compositionend"||!_h&&Yg(t,e)?(t=qg(),Pl=vh=mi=null,Us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Gg&&e.locale!=="ko"?null:e.data;default:return null}}var G_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function r0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!G_[t.type]:e==="textarea"}function Xg(t,e,n,r){Tg(r),e=iu(e,"onChange"),0<e.length&&(n=new wh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xo=null,da=null;function Y_(t){uy(t,0)}function nc(t){var e=$s(t);if(bg(e))return t}function J_(t,e){if(t==="change")return e}var Qg=!1;if(Zr){var Gc;if(Zr){var Yc="oninput"in document;if(!Yc){var i0=document.createElement("div");i0.setAttribute("oninput","return;"),Yc=typeof i0.oninput=="function"}Gc=Yc}else Gc=!1;Qg=Gc&&(!document.documentMode||9<document.documentMode)}function s0(){Xo&&(Xo.detachEvent("onpropertychange",ey),da=Xo=null)}function ey(t){if(t.propertyName==="value"&&nc(da)){var e=[];Xg(e,da,t,hh(t)),Pg(Y_,e)}}function X_(t,e,n){t==="focusin"?(s0(),Xo=e,da=n,Xo.attachEvent("onpropertychange",ey)):t==="focusout"&&s0()}function Q_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(da)}function eb(t,e){if(t==="click")return nc(e)}function tb(t,e){if(t==="input"||t==="change")return nc(e)}function nb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gr=typeof Object.is=="function"?Object.is:nb;function ha(t,e){if(gr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Pf.call(e,i)||!gr(t[i],e[i]))return!1}return!0}function o0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function a0(t,e){var n=o0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=o0(n)}}function ty(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ty(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ny(){for(var t=window,e=Jl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jl(t.document)}return e}function bh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rb(t){var e=ny(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ty(n.ownerDocument.documentElement,n)){if(r!==null&&bh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=a0(n,s);var o=a0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ib=Zr&&"documentMode"in document&&11>=document.documentMode,Fs=null,Xf=null,Qo=null,Qf=!1;function l0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qf||Fs==null||Fs!==Jl(r)||(r=Fs,"selectionStart"in r&&bh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qo&&ha(Qo,r)||(Qo=r,r=iu(Xf,"onSelect"),0<r.length&&(e=new wh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fs)))}function dl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zs={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionend:dl("Transition","TransitionEnd")},Jc={},ry={};Zr&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function rc(t){if(Jc[t])return Jc[t];if(!zs[t])return t;var e=zs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ry)return Jc[t]=e[n];return t}var iy=rc("animationend"),sy=rc("animationiteration"),oy=rc("animationstart"),ay=rc("transitionend"),ly=new Map,u0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Li(t,e){ly.set(t,e),hs(e,[t])}for(var Xc=0;Xc<u0.length;Xc++){var Qc=u0[Xc],sb=Qc.toLowerCase(),ob=Qc[0].toUpperCase()+Qc.slice(1);Li(sb,"on"+ob)}Li(iy,"onAnimationEnd");Li(sy,"onAnimationIteration");Li(oy,"onAnimationStart");Li("dblclick","onDoubleClick");Li("focusin","onFocus");Li("focusout","onBlur");Li(ay,"onTransitionEnd");lo("onMouseEnter",["mouseout","mouseover"]);lo("onMouseLeave",["mouseout","mouseover"]);lo("onPointerEnter",["pointerout","pointerover"]);lo("onPointerLeave",["pointerout","pointerover"]);hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ab=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ho));function c0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,s_(r,e,void 0,t),t.currentTarget=null}function uy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;c0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;c0(i,a,c),s=l}}}if(Ql)throw t=qf,Ql=!1,qf=null,t}function it(t,e){var n=e[id];n===void 0&&(n=e[id]=new Set);var r=t+"__bubble";n.has(r)||(cy(e,t,2,!1),n.add(r))}function ef(t,e,n){var r=0;e&&(r|=4),cy(n,t,r,e)}var hl="_reactListening"+Math.random().toString(36).slice(2);function pa(t){if(!t[hl]){t[hl]=!0,yg.forEach(function(n){n!=="selectionchange"&&(ab.has(n)||ef(n,!1,t),ef(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[hl]||(e[hl]=!0,ef("selectionchange",!1,e))}}function cy(t,e,n,r){switch(Zg(e)){case 1:var i=__;break;case 4:i=b_;break;default:i=yh}n=i.bind(null,e,n,t),i=void 0,!Zf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Hi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Pg(function(){var c=s,m=hh(n),g=[];e:{var y=ly.get(t);if(y!==void 0){var k=wh,M=t;switch(t){case"keypress":if(Nl(n)===0)break e;case"keydown":case"keyup":k=j_;break;case"focusin":M="focus",k=qc;break;case"focusout":M="blur",k=qc;break;case"beforeblur":case"afterblur":k=qc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Xp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=E_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=F_;break;case iy:case sy:case oy:k=I_;break;case ay:k=$_;break;case"scroll":k=k_;break;case"wheel":k=K_;break;case"copy":case"cut":case"paste":k=M_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=e0}var P=(e&4)!==0,L=!P&&t==="scroll",S=P?y!==null?y+"Capture":null:y;P=[];for(var R=c,C;R!==null;){C=R;var j=C.stateNode;if(C.tag===5&&j!==null&&(C=j,S!==null&&(j=la(R,S),j!=null&&P.push(ma(R,j,C)))),L)break;R=R.return}0<P.length&&(y=new k(y,M,null,n,m),g.push({event:y,listeners:P}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",y&&n!==Wf&&(M=n.relatedTarget||n.fromElement)&&(Hi(M)||M[qr]))break e;if((k||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,k?(M=n.relatedTarget||n.toElement,k=c,M=M?Hi(M):null,M!==null&&(L=ps(M),M!==L||M.tag!==5&&M.tag!==6)&&(M=null)):(k=null,M=c),k!==M)){if(P=Xp,j="onMouseLeave",S="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(P=e0,j="onPointerLeave",S="onPointerEnter",R="pointer"),L=k==null?y:$s(k),C=M==null?y:$s(M),y=new P(j,R+"leave",k,n,m),y.target=L,y.relatedTarget=C,j=null,Hi(m)===c&&(P=new P(S,R+"enter",M,n,m),P.target=C,P.relatedTarget=L,j=P),L=j,k&&M)t:{for(P=k,S=M,R=0,C=P;C;C=Rs(C))R++;for(C=0,j=S;j;j=Rs(j))C++;for(;0<R-C;)P=Rs(P),R--;for(;0<C-R;)S=Rs(S),C--;for(;R--;){if(P===S||S!==null&&P===S.alternate)break t;P=Rs(P),S=Rs(S)}P=null}else P=null;k!==null&&f0(g,y,k,P,!1),M!==null&&L!==null&&f0(g,L,M,P,!0)}}e:{if(y=c?$s(c):window,k=y.nodeName&&y.nodeName.toLowerCase(),k==="select"||k==="input"&&y.type==="file")var V=J_;else if(r0(y))if(Qg)V=tb;else{V=Q_;var W=X_}else(k=y.nodeName)&&k.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(V=eb);if(V&&(V=V(t,c))){Xg(g,V,n,m);break e}W&&W(t,y,c),t==="focusout"&&(W=y._wrapperState)&&W.controlled&&y.type==="number"&&Ff(y,"number",y.value)}switch(W=c?$s(c):window,t){case"focusin":(r0(W)||W.contentEditable==="true")&&(Fs=W,Xf=c,Qo=null);break;case"focusout":Qo=Xf=Fs=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,l0(g,n,m);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":l0(g,n,m)}var Z;if(_h)e:{switch(t){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Us?Yg(t,n)&&(q="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(Gg&&n.locale!=="ko"&&(Us||q!=="onCompositionStart"?q==="onCompositionEnd"&&Us&&(Z=qg()):(mi=m,vh="value"in mi?mi.value:mi.textContent,Us=!0)),W=iu(c,q),0<W.length&&(q=new Qp(q,t,null,n,m),g.push({event:q,listeners:W}),Z?q.data=Z:(Z=Jg(n),Z!==null&&(q.data=Z)))),(Z=H_?Z_(t,n):q_(t,n))&&(c=iu(c,"onBeforeInput"),0<c.length&&(m=new Qp("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:c}),m.data=Z))}uy(g,e)})}function ma(t,e,n){return{instance:t,listener:e,currentTarget:n}}function iu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=la(t,n),s!=null&&r.unshift(ma(t,s,i)),s=la(t,e),s!=null&&r.push(ma(t,s,i))),t=t.return}return r}function Rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function f0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=la(n,s),l!=null&&o.unshift(ma(n,l,a))):i||(l=la(n,s),l!=null&&o.push(ma(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var lb=/\r\n?/g,ub=/\u0000|\uFFFD/g;function d0(t){return(typeof t=="string"?t:""+t).replace(lb,`
`).replace(ub,"")}function pl(t,e,n){if(e=d0(e),d0(t)!==e&&n)throw Error(Y(425))}function su(){}var ed=null,td=null;function nd(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var rd=typeof setTimeout=="function"?setTimeout:void 0,cb=typeof clearTimeout=="function"?clearTimeout:void 0,h0=typeof Promise=="function"?Promise:void 0,fb=typeof queueMicrotask=="function"?queueMicrotask:typeof h0<"u"?function(t){return h0.resolve(null).then(t).catch(db)}:rd;function db(t){setTimeout(function(){throw t})}function nf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),fa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);fa(e)}function Ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function p0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Co=Math.random().toString(36).slice(2),kr="__reactFiber$"+Co,ga="__reactProps$"+Co,qr="__reactContainer$"+Co,id="__reactEvents$"+Co,hb="__reactListeners$"+Co,pb="__reactHandles$"+Co;function Hi(t){var e=t[kr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[qr]||n[kr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=p0(t);t!==null;){if(n=t[kr])return n;t=p0(t)}return e}t=n,n=t.parentNode}return null}function Ka(t){return t=t[kr]||t[qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function ic(t){return t[ga]||null}var sd=[],Vs=-1;function ji(t){return{current:t}}function ot(t){0>Vs||(t.current=sd[Vs],sd[Vs]=null,Vs--)}function et(t,e){Vs++,sd[Vs]=t.current,t.current=e}var Pi={},fn=ji(Pi),An=ji(!1),rs=Pi;function uo(t,e){var n=t.type.contextTypes;if(!n)return Pi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Bn(t){return t=t.childContextTypes,t!=null}function ou(){ot(An),ot(fn)}function m0(t,e,n){if(fn.current!==Pi)throw Error(Y(168));et(fn,e),et(An,n)}function fy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,Xx(t)||"Unknown",i));return wt({},n,r)}function au(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pi,rs=fn.current,et(fn,t),et(An,An.current),!0}function g0(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=fy(t,e,rs),r.__reactInternalMemoizedMergedChildContext=t,ot(An),ot(fn),et(fn,t)):ot(An),et(An,n)}var Dr=null,sc=!1,rf=!1;function dy(t){Dr===null?Dr=[t]:Dr.push(t)}function mb(t){sc=!0,dy(t)}function Di(){if(!rf&&Dr!==null){rf=!0;var t=0,e=qe;try{var n=Dr;for(qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,sc=!1}catch(i){throw Dr!==null&&(Dr=Dr.slice(t+1)),jg(ph,Di),i}finally{qe=e,rf=!1}}return null}var Ks=[],Ws=0,lu=null,uu=0,Jn=[],Xn=0,is=null,$r=1,Vr="";function Fi(t,e){Ks[Ws++]=uu,Ks[Ws++]=lu,lu=t,uu=e}function hy(t,e,n){Jn[Xn++]=$r,Jn[Xn++]=Vr,Jn[Xn++]=is,is=t;var r=$r;t=Vr;var i=32-dr(r)-1;r&=~(1<<i),n+=1;var s=32-dr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$r=1<<32-dr(e)+i|n<<i|r,Vr=s+t}else $r=1<<s|n<<i|r,Vr=t}function kh(t){t.return!==null&&(Fi(t,1),hy(t,1,0))}function Sh(t){for(;t===lu;)lu=Ks[--Ws],Ks[Ws]=null,uu=Ks[--Ws],Ks[Ws]=null;for(;t===is;)is=Jn[--Xn],Jn[Xn]=null,Vr=Jn[--Xn],Jn[Xn]=null,$r=Jn[--Xn],Jn[Xn]=null}var $n=null,zn=null,dt=!1,cr=null;function py(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function y0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,$n=t,zn=Ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,$n=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=is!==null?{id:$r,overflow:Vr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,$n=t,zn=null,!0):!1;default:return!1}}function od(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ad(t){if(dt){var e=zn;if(e){var n=e;if(!y0(t,e)){if(od(t))throw Error(Y(418));e=Ei(n.nextSibling);var r=$n;e&&y0(t,e)?py(r,n):(t.flags=t.flags&-4097|2,dt=!1,$n=t)}}else{if(od(t))throw Error(Y(418));t.flags=t.flags&-4097|2,dt=!1,$n=t}}}function v0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;$n=t}function ml(t){if(t!==$n)return!1;if(!dt)return v0(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nd(t.type,t.memoizedProps)),e&&(e=zn)){if(od(t))throw my(),Error(Y(418));for(;e;)py(t,e),e=Ei(e.nextSibling)}if(v0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=Ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=$n?Ei(t.stateNode.nextSibling):null;return!0}function my(){for(var t=zn;t;)t=Ei(t.nextSibling)}function co(){zn=$n=null,dt=!1}function Eh(t){cr===null?cr=[t]:cr.push(t)}var gb=Xr.ReactCurrentBatchConfig;function Uo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function gl(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function w0(t){var e=t._init;return e(t._payload)}function gy(t){function e(S,R){if(t){var C=S.deletions;C===null?(S.deletions=[R],S.flags|=16):C.push(R)}}function n(S,R){if(!t)return null;for(;R!==null;)e(S,R),R=R.sibling;return null}function r(S,R){for(S=new Map;R!==null;)R.key!==null?S.set(R.key,R):S.set(R.index,R),R=R.sibling;return S}function i(S,R){return S=Ti(S,R),S.index=0,S.sibling=null,S}function s(S,R,C){return S.index=C,t?(C=S.alternate,C!==null?(C=C.index,C<R?(S.flags|=2,R):C):(S.flags|=2,R)):(S.flags|=1048576,R)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,R,C,j){return R===null||R.tag!==6?(R=ff(C,S.mode,j),R.return=S,R):(R=i(R,C),R.return=S,R)}function l(S,R,C,j){var V=C.type;return V===Ds?m(S,R,C.props.children,j,C.key):R!==null&&(R.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ci&&w0(V)===R.type)?(j=i(R,C.props),j.ref=Uo(S,R,C),j.return=S,j):(j=zl(C.type,C.key,C.props,null,S.mode,j),j.ref=Uo(S,R,C),j.return=S,j)}function c(S,R,C,j){return R===null||R.tag!==4||R.stateNode.containerInfo!==C.containerInfo||R.stateNode.implementation!==C.implementation?(R=df(C,S.mode,j),R.return=S,R):(R=i(R,C.children||[]),R.return=S,R)}function m(S,R,C,j,V){return R===null||R.tag!==7?(R=Qi(C,S.mode,j,V),R.return=S,R):(R=i(R,C),R.return=S,R)}function g(S,R,C){if(typeof R=="string"&&R!==""||typeof R=="number")return R=ff(""+R,S.mode,C),R.return=S,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case sl:return C=zl(R.type,R.key,R.props,null,S.mode,C),C.ref=Uo(S,null,R),C.return=S,C;case js:return R=df(R,S.mode,C),R.return=S,R;case ci:var j=R._init;return g(S,j(R._payload),C)}if(Ko(R)||No(R))return R=Qi(R,S.mode,C,null),R.return=S,R;gl(S,R)}return null}function y(S,R,C,j){var V=R!==null?R.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return V!==null?null:a(S,R,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case sl:return C.key===V?l(S,R,C,j):null;case js:return C.key===V?c(S,R,C,j):null;case ci:return V=C._init,y(S,R,V(C._payload),j)}if(Ko(C)||No(C))return V!==null?null:m(S,R,C,j,null);gl(S,C)}return null}function k(S,R,C,j,V){if(typeof j=="string"&&j!==""||typeof j=="number")return S=S.get(C)||null,a(R,S,""+j,V);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case sl:return S=S.get(j.key===null?C:j.key)||null,l(R,S,j,V);case js:return S=S.get(j.key===null?C:j.key)||null,c(R,S,j,V);case ci:var W=j._init;return k(S,R,C,W(j._payload),V)}if(Ko(j)||No(j))return S=S.get(C)||null,m(R,S,j,V,null);gl(R,j)}return null}function M(S,R,C,j){for(var V=null,W=null,Z=R,q=R=0,$=null;Z!==null&&q<C.length;q++){Z.index>q?($=Z,Z=null):$=Z.sibling;var H=y(S,Z,C[q],j);if(H===null){Z===null&&(Z=$);break}t&&Z&&H.alternate===null&&e(S,Z),R=s(H,R,q),W===null?V=H:W.sibling=H,W=H,Z=$}if(q===C.length)return n(S,Z),dt&&Fi(S,q),V;if(Z===null){for(;q<C.length;q++)Z=g(S,C[q],j),Z!==null&&(R=s(Z,R,q),W===null?V=Z:W.sibling=Z,W=Z);return dt&&Fi(S,q),V}for(Z=r(S,Z);q<C.length;q++)$=k(Z,S,q,C[q],j),$!==null&&(t&&$.alternate!==null&&Z.delete($.key===null?q:$.key),R=s($,R,q),W===null?V=$:W.sibling=$,W=$);return t&&Z.forEach(function(ee){return e(S,ee)}),dt&&Fi(S,q),V}function P(S,R,C,j){var V=No(C);if(typeof V!="function")throw Error(Y(150));if(C=V.call(C),C==null)throw Error(Y(151));for(var W=V=null,Z=R,q=R=0,$=null,H=C.next();Z!==null&&!H.done;q++,H=C.next()){Z.index>q?($=Z,Z=null):$=Z.sibling;var ee=y(S,Z,H.value,j);if(ee===null){Z===null&&(Z=$);break}t&&Z&&ee.alternate===null&&e(S,Z),R=s(ee,R,q),W===null?V=ee:W.sibling=ee,W=ee,Z=$}if(H.done)return n(S,Z),dt&&Fi(S,q),V;if(Z===null){for(;!H.done;q++,H=C.next())H=g(S,H.value,j),H!==null&&(R=s(H,R,q),W===null?V=H:W.sibling=H,W=H);return dt&&Fi(S,q),V}for(Z=r(S,Z);!H.done;q++,H=C.next())H=k(Z,S,q,H.value,j),H!==null&&(t&&H.alternate!==null&&Z.delete(H.key===null?q:H.key),R=s(H,R,q),W===null?V=H:W.sibling=H,W=H);return t&&Z.forEach(function(Q){return e(S,Q)}),dt&&Fi(S,q),V}function L(S,R,C,j){if(typeof C=="object"&&C!==null&&C.type===Ds&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case sl:e:{for(var V=C.key,W=R;W!==null;){if(W.key===V){if(V=C.type,V===Ds){if(W.tag===7){n(S,W.sibling),R=i(W,C.props.children),R.return=S,S=R;break e}}else if(W.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===ci&&w0(V)===W.type){n(S,W.sibling),R=i(W,C.props),R.ref=Uo(S,W,C),R.return=S,S=R;break e}n(S,W);break}else e(S,W);W=W.sibling}C.type===Ds?(R=Qi(C.props.children,S.mode,j,C.key),R.return=S,S=R):(j=zl(C.type,C.key,C.props,null,S.mode,j),j.ref=Uo(S,R,C),j.return=S,S=j)}return o(S);case js:e:{for(W=C.key;R!==null;){if(R.key===W)if(R.tag===4&&R.stateNode.containerInfo===C.containerInfo&&R.stateNode.implementation===C.implementation){n(S,R.sibling),R=i(R,C.children||[]),R.return=S,S=R;break e}else{n(S,R);break}else e(S,R);R=R.sibling}R=df(C,S.mode,j),R.return=S,S=R}return o(S);case ci:return W=C._init,L(S,R,W(C._payload),j)}if(Ko(C))return M(S,R,C,j);if(No(C))return P(S,R,C,j);gl(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,R!==null&&R.tag===6?(n(S,R.sibling),R=i(R,C),R.return=S,S=R):(n(S,R),R=ff(C,S.mode,j),R.return=S,S=R),o(S)):n(S,R)}return L}var fo=gy(!0),yy=gy(!1),cu=ji(null),fu=null,Hs=null,Ch=null;function Rh(){Ch=Hs=fu=null}function Ih(t){var e=cu.current;ot(cu),t._currentValue=e}function ld(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function to(t,e){fu=t,Ch=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Tn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(Ch!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(fu===null)throw Error(Y(308));Hs=t,fu.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var Zi=null;function Th(t){Zi===null?Zi=[t]:Zi.push(t)}function vy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Th(e)):(n.next=i.next,i.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fi=!1;function Mh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ci(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Gr(t,n)}return i=r.interleaved,i===null?(e.next=e,Th(r)):(e.next=i.next,i.next=e),r.interleaved=e,Gr(t,n)}function Ol(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mh(t,n)}}function x0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function du(t,e,n,r){var i=t.updateQueue;fi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var m=t.alternate;m!==null&&(m=m.updateQueue,a=m.lastBaseUpdate,a!==o&&(a===null?m.firstBaseUpdate=c:a.next=c,m.lastBaseUpdate=l))}if(s!==null){var g=i.baseState;o=0,m=c=l=null,a=s;do{var y=a.lane,k=a.eventTime;if((r&y)===y){m!==null&&(m=m.next={eventTime:k,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var M=t,P=a;switch(y=e,k=n,P.tag){case 1:if(M=P.payload,typeof M=="function"){g=M.call(k,g,y);break e}g=M;break e;case 3:M.flags=M.flags&-65537|128;case 0:if(M=P.payload,y=typeof M=="function"?M.call(k,g,y):M,y==null)break e;g=wt({},g,y);break e;case 2:fi=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[a]:y.push(a))}else k={eventTime:k,lane:y,tag:a.tag,payload:a.payload,callback:a.callback,next:null},m===null?(c=m=k,l=g):m=m.next=k,o|=y;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;y=a,a=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(m===null&&(l=g),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);os|=o,t.lanes=o,t.memoizedState=g}}function _0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var Wa={},Rr=ji(Wa),ya=ji(Wa),va=ji(Wa);function qi(t){if(t===Wa)throw Error(Y(174));return t}function Ah(t,e){switch(et(va,e),et(ya,t),et(Rr,Wa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$f(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$f(e,t)}ot(Rr),et(Rr,e)}function ho(){ot(Rr),ot(ya),ot(va)}function xy(t){qi(va.current);var e=qi(Rr.current),n=$f(e,t.type);e!==n&&(et(ya,t),et(Rr,n))}function Bh(t){ya.current===t&&(ot(Rr),ot(ya))}var gt=ji(0);function hu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function Ph(){for(var t=0;t<sf.length;t++)sf[t]._workInProgressVersionPrimary=null;sf.length=0}var Ll=Xr.ReactCurrentDispatcher,of=Xr.ReactCurrentBatchConfig,ss=0,vt=null,jt=null,Ft=null,pu=!1,ea=!1,wa=0,yb=0;function Qt(){throw Error(Y(321))}function Nh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gr(t[n],e[n]))return!1;return!0}function Oh(t,e,n,r,i,s){if(ss=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ll.current=t===null||t.memoizedState===null?_b:bb,t=n(r,i),ea){s=0;do{if(ea=!1,wa=0,25<=s)throw Error(Y(301));s+=1,Ft=jt=null,e.updateQueue=null,Ll.current=kb,t=n(r,i)}while(ea)}if(Ll.current=mu,e=jt!==null&&jt.next!==null,ss=0,Ft=jt=vt=null,pu=!1,e)throw Error(Y(300));return t}function Lh(){var t=wa!==0;return wa=0,t}function br(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ft===null?vt.memoizedState=Ft=t:Ft=Ft.next=t,Ft}function rr(){if(jt===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=jt.next;var e=Ft===null?vt.memoizedState:Ft.next;if(e!==null)Ft=e,jt=t;else{if(t===null)throw Error(Y(310));jt=t,t={memoizedState:jt.memoizedState,baseState:jt.baseState,baseQueue:jt.baseQueue,queue:jt.queue,next:null},Ft===null?vt.memoizedState=Ft=t:Ft=Ft.next=t}return Ft}function xa(t,e){return typeof e=="function"?e(t):e}function af(t){var e=rr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=jt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var m=c.lane;if((ss&m)===m)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var g={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=g,o=r):l=l.next=g,vt.lanes|=m,os|=m}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,gr(r,e.memoizedState)||(Tn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,os|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lf(t){var e=rr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gr(s,e.memoizedState)||(Tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function _y(){}function by(t,e){var n=vt,r=rr(),i=e(),s=!gr(r.memoizedState,i);if(s&&(r.memoizedState=i,Tn=!0),r=r.queue,jh(Ey.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ft!==null&&Ft.memoizedState.tag&1){if(n.flags|=2048,_a(9,Sy.bind(null,n,r,i,e),void 0,null),zt===null)throw Error(Y(349));ss&30||ky(n,e,i)}return i}function ky(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sy(t,e,n,r){e.value=n,e.getSnapshot=r,Cy(e)&&Ry(t)}function Ey(t,e,n){return n(function(){Cy(e)&&Ry(t)})}function Cy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gr(t,n)}catch{return!0}}function Ry(t){var e=Gr(t,1);e!==null&&hr(e,t,1,-1)}function b0(t){var e=br();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:t},e.queue=t,t=t.dispatch=xb.bind(null,vt,t),[e.memoizedState,t]}function _a(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Iy(){return rr().memoizedState}function jl(t,e,n,r){var i=br();vt.flags|=t,i.memoizedState=_a(1|e,n,void 0,r===void 0?null:r)}function oc(t,e,n,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(jt!==null){var o=jt.memoizedState;if(s=o.destroy,r!==null&&Nh(r,o.deps)){i.memoizedState=_a(e,n,s,r);return}}vt.flags|=t,i.memoizedState=_a(1|e,n,s,r)}function k0(t,e){return jl(8390656,8,t,e)}function jh(t,e){return oc(2048,8,t,e)}function Ty(t,e){return oc(4,2,t,e)}function My(t,e){return oc(4,4,t,e)}function Ay(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function By(t,e,n){return n=n!=null?n.concat([t]):null,oc(4,4,Ay.bind(null,e,t),n)}function Dh(){}function Py(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ny(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Nh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Oy(t,e,n){return ss&21?(gr(n,e)||(n=Fg(),vt.lanes|=n,os|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Tn=!0),t.memoizedState=n)}function vb(t,e){var n=qe;qe=n!==0&&4>n?n:4,t(!0);var r=of.transition;of.transition={};try{t(!1),e()}finally{qe=n,of.transition=r}}function Ly(){return rr().memoizedState}function wb(t,e,n){var r=Ii(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jy(t))Dy(e,n);else if(n=vy(t,e,n,r),n!==null){var i=wn();hr(n,t,r,i),Uy(n,e,r)}}function xb(t,e,n){var r=Ii(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jy(t))Dy(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gr(a,o)){var l=e.interleaved;l===null?(i.next=i,Th(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vy(t,e,i,r),n!==null&&(i=wn(),hr(n,t,r,i),Uy(n,e,r))}}function jy(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function Dy(t,e){ea=pu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Uy(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mh(t,n)}}var mu={readContext:nr,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useInsertionEffect:Qt,useLayoutEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useMutableSource:Qt,useSyncExternalStore:Qt,useId:Qt,unstable_isNewReconciler:!1},_b={readContext:nr,useCallback:function(t,e){return br().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:k0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,jl(4194308,4,Ay.bind(null,e,t),n)},useLayoutEffect:function(t,e){return jl(4194308,4,t,e)},useInsertionEffect:function(t,e){return jl(4,2,t,e)},useMemo:function(t,e){var n=br();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=br();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wb.bind(null,vt,t),[r.memoizedState,t]},useRef:function(t){var e=br();return t={current:t},e.memoizedState=t},useState:b0,useDebugValue:Dh,useDeferredValue:function(t){return br().memoizedState=t},useTransition:function(){var t=b0(!1),e=t[0];return t=vb.bind(null,t[1]),br().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=vt,i=br();if(dt){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),zt===null)throw Error(Y(349));ss&30||ky(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,k0(Ey.bind(null,r,s,t),[t]),r.flags|=2048,_a(9,Sy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=br(),e=zt.identifierPrefix;if(dt){var n=Vr,r=$r;n=(r&~(1<<32-dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yb++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bb={readContext:nr,useCallback:Py,useContext:nr,useEffect:jh,useImperativeHandle:By,useInsertionEffect:Ty,useLayoutEffect:My,useMemo:Ny,useReducer:af,useRef:Iy,useState:function(){return af(xa)},useDebugValue:Dh,useDeferredValue:function(t){var e=rr();return Oy(e,jt.memoizedState,t)},useTransition:function(){var t=af(xa)[0],e=rr().memoizedState;return[t,e]},useMutableSource:_y,useSyncExternalStore:by,useId:Ly,unstable_isNewReconciler:!1},kb={readContext:nr,useCallback:Py,useContext:nr,useEffect:jh,useImperativeHandle:By,useInsertionEffect:Ty,useLayoutEffect:My,useMemo:Ny,useReducer:lf,useRef:Iy,useState:function(){return lf(xa)},useDebugValue:Dh,useDeferredValue:function(t){var e=rr();return jt===null?e.memoizedState=t:Oy(e,jt.memoizedState,t)},useTransition:function(){var t=lf(xa)[0],e=rr().memoizedState;return[t,e]},useMutableSource:_y,useSyncExternalStore:by,useId:Ly,unstable_isNewReconciler:!1};function lr(t,e){if(t&&t.defaultProps){e=wt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ud(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:wt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ac={isMounted:function(t){return(t=t._reactInternals)?ps(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wn(),i=Ii(t),s=Wr(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ci(t,s,i),e!==null&&(hr(e,t,i,r),Ol(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wn(),i=Ii(t),s=Wr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ci(t,s,i),e!==null&&(hr(e,t,i,r),Ol(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wn(),r=Ii(t),i=Wr(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ci(t,i,r),e!==null&&(hr(e,t,r,n),Ol(e,t,r))}};function S0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!ha(n,r)||!ha(i,s):!0}function Fy(t,e,n){var r=!1,i=Pi,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=Bn(e)?rs:fn.current,r=e.contextTypes,s=(r=r!=null)?uo(t,i):Pi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ac,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function E0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ac.enqueueReplaceState(e,e.state,null)}function cd(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Mh(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=Bn(e)?rs:fn.current,i.context=uo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ud(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ac.enqueueReplaceState(i,i.state,null),du(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,e){try{var n="",r=e;do n+=Jx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function uf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function fd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Sb=typeof WeakMap=="function"?WeakMap:Map;function zy(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yu||(yu=!0,_d=r),fd(t,e)},n}function $y(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){fd(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){fd(t,e),typeof r!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function C0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Sb;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Db.bind(null,t,e,n),e.then(t,t))}function R0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function I0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,Ci(n,e,1))),n.lanes|=1),t)}var Eb=Xr.ReactCurrentOwner,Tn=!1;function pn(t,e,n,r){e.child=t===null?yy(e,null,n,r):fo(e,t.child,n,r)}function T0(t,e,n,r,i){n=n.render;var s=e.ref;return to(e,i),r=Oh(t,e,n,r,s,i),n=Lh(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(dt&&n&&kh(e),e.flags|=1,pn(t,e,r,i),e.child)}function M0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Hh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Vy(t,e,s,r,i)):(t=zl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:ha,n(o,r)&&t.ref===e.ref)return Yr(t,e,i)}return e.flags|=1,t=Ti(s,r),t.ref=e.ref,t.return=e,e.child=t}function Vy(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ha(s,r)&&t.ref===e.ref)if(Tn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Tn=!0);else return e.lanes=t.lanes,Yr(t,e,i)}return dd(t,e,n,r,i)}function Ky(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(qs,Ln),Ln|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(qs,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,et(qs,Ln),Ln|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,et(qs,Ln),Ln|=r;return pn(t,e,i,n),e.child}function Wy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function dd(t,e,n,r,i){var s=Bn(n)?rs:fn.current;return s=uo(e,s),to(e,i),n=Oh(t,e,n,r,s,i),r=Lh(),t!==null&&!Tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yr(t,e,i)):(dt&&r&&kh(e),e.flags|=1,pn(t,e,n,i),e.child)}function A0(t,e,n,r,i){if(Bn(n)){var s=!0;au(e)}else s=!1;if(to(e,i),e.stateNode===null)Dl(t,e),Fy(e,n,r),cd(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=nr(c):(c=Bn(n)?rs:fn.current,c=uo(e,c));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&E0(e,o,r,c),fi=!1;var y=e.memoizedState;o.state=y,du(e,r,o,i),l=e.memoizedState,a!==r||y!==l||An.current||fi?(typeof m=="function"&&(ud(e,n,m,r),l=e.memoizedState),(a=fi||S0(e,n,a,r,y,l,c))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,wy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:lr(e.type,a),o.props=c,g=e.pendingProps,y=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=nr(l):(l=Bn(n)?rs:fn.current,l=uo(e,l));var k=n.getDerivedStateFromProps;(m=typeof k=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||y!==l)&&E0(e,o,r,l),fi=!1,y=e.memoizedState,o.state=y,du(e,r,o,i);var M=e.memoizedState;a!==g||y!==M||An.current||fi?(typeof k=="function"&&(ud(e,n,k,r),M=e.memoizedState),(c=fi||S0(e,n,c,r,y,M,l)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,M,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,M,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=M),o.props=r,o.state=M,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return hd(t,e,n,r,s,i)}function hd(t,e,n,r,i,s){Wy(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&g0(e,n,!1),Yr(t,e,s);r=e.stateNode,Eb.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=fo(e,t.child,null,s),e.child=fo(e,null,a,s)):pn(t,e,a,s),e.memoizedState=r.state,i&&g0(e,n,!0),e.child}function Hy(t){var e=t.stateNode;e.pendingContext?m0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&m0(t,e.context,!1),Ah(t,e.containerInfo)}function B0(t,e,n,r,i){return co(),Eh(i),e.flags|=256,pn(t,e,n,r),e.child}var pd={dehydrated:null,treeContext:null,retryLane:0};function md(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zy(t,e,n){var r=e.pendingProps,i=gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(gt,i&1),t===null)return ad(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=cc(o,r,0,null),t=Qi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=md(n),e.memoizedState=pd,t):Uh(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Cb(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ti(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ti(a,s):(s=Qi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?md(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=pd,r}return s=t.child,t=s.sibling,r=Ti(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uh(t,e){return e=cc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yl(t,e,n,r){return r!==null&&Eh(r),fo(e,t.child,null,n),t=Uh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Cb(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=uf(Error(Y(422))),yl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=cc({mode:"visible",children:r.children},i,0,null),s=Qi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&fo(e,t.child,null,o),e.child.memoizedState=md(o),e.memoizedState=pd,s);if(!(e.mode&1))return yl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Y(419)),r=uf(s,r,void 0),yl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Tn||a){if(r=zt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gr(t,i),hr(r,t,i,-1))}return Wh(),r=uf(Error(Y(421))),yl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Ub.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zn=Ei(i.nextSibling),$n=e,dt=!0,cr=null,t!==null&&(Jn[Xn++]=$r,Jn[Xn++]=Vr,Jn[Xn++]=is,$r=t.id,Vr=t.overflow,is=e),e=Uh(e,r.children),e.flags|=4096,e)}function P0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ld(t.return,e,n)}function cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qy(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pn(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P0(t,n,e);else if(t.tag===19)P0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&hu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&hu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cf(e,!0,n,null,s);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Dl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),os|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=Ti(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ti(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Rb(t,e,n){switch(e.tag){case 3:Hy(e),co();break;case 5:xy(e);break;case 1:Bn(e.type)&&au(e);break;case 4:Ah(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(cu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?Zy(t,e,n):(et(gt,gt.current&1),t=Yr(t,e,n),t!==null?t.sibling:null);et(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,Ky(t,e,n)}return Yr(t,e,n)}var Gy,gd,Yy,Jy;Gy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gd=function(){};Yy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,qi(Rr.current);var s=null;switch(n){case"input":i=Df(t,i),r=Df(t,r),s=[];break;case"select":i=wt({},i,{value:void 0}),r=wt({},r,{value:void 0}),s=[];break;case"textarea":i=zf(t,i),r=zf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=su)}Vf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(oa.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(oa.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&it("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Jy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fo(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ib(t,e,n){var r=e.pendingProps;switch(Sh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return Bn(e.type)&&ou(),en(e),null;case 3:return r=e.stateNode,ho(),ot(An),ot(fn),Ph(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ml(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(Sd(cr),cr=null))),gd(t,e),en(e),null;case 5:Bh(e);var i=qi(va.current);if(n=e.type,t!==null&&e.stateNode!=null)Yy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return en(e),null}if(t=qi(Rr.current),ml(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[kr]=e,r[ga]=s,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Ho.length;i++)it(Ho[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":$p(r,s),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},it("invalid",r);break;case"textarea":Kp(r,s),it("invalid",r)}Vf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&pl(r.textContent,a,t),i=["children",""+a]):oa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(n){case"input":ol(r),Vp(r,s,!0);break;case"textarea":ol(r),Wp(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=su)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Eg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[kr]=e,t[ga]=r,Gy(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kf(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ho.length;i++)it(Ho[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":$p(t,r),i=Df(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=wt({},r,{value:void 0}),it("invalid",t);break;case"textarea":Kp(t,r),i=zf(t,r),it("invalid",t);break;default:i=r}Vf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Ig(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Cg(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&aa(t,l):typeof l=="number"&&aa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(oa.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",t):l!=null&&uh(t,s,l,o))}switch(n){case"input":ol(t),Vp(t,r,!1);break;case"textarea":ol(t),Wp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bi(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Js(t,!!r.multiple,s,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=su)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)Jy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=qi(va.current),qi(Rr.current),ml(e)){if(r=e.stateNode,n=e.memoizedProps,r[kr]=e,(s=r.nodeValue!==n)&&(t=$n,t!==null))switch(t.tag){case 3:pl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[kr]=e,e.stateNode=r}return en(e),null;case 13:if(ot(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&zn!==null&&e.mode&1&&!(e.flags&128))my(),co(),e.flags|=98560,s=!1;else if(s=ml(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[kr]=e}else co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),s=!1}else cr!==null&&(Sd(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Dt===0&&(Dt=3):Wh())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return ho(),gd(t,e),t===null&&pa(e.stateNode.containerInfo),en(e),null;case 10:return Ih(e.type._context),en(e),null;case 17:return Bn(e.type)&&ou(),en(e),null;case 19:if(ot(gt),s=e.memoizedState,s===null)return en(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Fo(s,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=hu(t),o!==null){for(e.flags|=128,Fo(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>mo&&(e.flags|=128,r=!0,Fo(s,!1),e.lanes=4194304)}else{if(!r)if(t=hu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dt)return en(e),null}else 2*Mt()-s.renderingStartTime>mo&&n!==1073741824&&(e.flags|=128,r=!0,Fo(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,n=gt.current,et(gt,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return Kh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function Tb(t,e){switch(Sh(e),e.tag){case 1:return Bn(e.type)&&ou(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ho(),ot(An),ot(fn),Ph(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Bh(e),null;case 13:if(ot(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(gt),null;case 4:return ho(),null;case 10:return Ih(e.type._context),null;case 22:case 23:return Kh(),null;case 24:return null;default:return null}}var vl=!1,un=!1,Mb=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Zs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function yd(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var N0=!1;function Ab(t,e){if(ed=nu,t=ny(),bh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,m=0,g=t,y=null;t:for(;;){for(var k;g!==n||i!==0&&g.nodeType!==3||(a=o+i),g!==s||r!==0&&g.nodeType!==3||(l=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(k=g.firstChild)!==null;)y=g,g=k;for(;;){if(g===t)break t;if(y===n&&++c===i&&(a=o),y===s&&++m===r&&(l=o),(k=g.nextSibling)!==null)break;g=y,y=g.parentNode}g=k}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(td={focusedElem:t,selectionRange:n},nu=!1,ae=e;ae!==null;)if(e=ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ae=t;else for(;ae!==null;){e=ae;try{var M=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var P=M.memoizedProps,L=M.memoizedState,S=e.stateNode,R=S.getSnapshotBeforeUpdate(e.elementType===e.type?P:lr(e.type,P),L);S.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(j){Rt(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,ae=t;break}ae=e.return}return M=N0,N0=!1,M}function ta(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yd(e,n,s)}i=i.next}while(i!==r)}}function lc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vd(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xy(t){var e=t.alternate;e!==null&&(t.alternate=null,Xy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[kr],delete e[ga],delete e[id],delete e[hb],delete e[pb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qy(t){return t.tag===5||t.tag===3||t.tag===4}function O0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=su));else if(r!==4&&(t=t.child,t!==null))for(wd(t,e,n),t=t.sibling;t!==null;)wd(t,e,n),t=t.sibling}function xd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(xd(t,e,n),t=t.sibling;t!==null;)xd(t,e,n),t=t.sibling}var Wt=null,ur=!1;function ti(t,e,n){for(n=n.child;n!==null;)ev(t,e,n),n=n.sibling}function ev(t,e,n){if(Cr&&typeof Cr.onCommitFiberUnmount=="function")try{Cr.onCommitFiberUnmount(ec,n)}catch{}switch(n.tag){case 5:un||Zs(n,e);case 6:var r=Wt,i=ur;Wt=null,ti(t,e,n),Wt=r,ur=i,Wt!==null&&(ur?(t=Wt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Wt.removeChild(n.stateNode));break;case 18:Wt!==null&&(ur?(t=Wt,n=n.stateNode,t.nodeType===8?nf(t.parentNode,n):t.nodeType===1&&nf(t,n),fa(t)):nf(Wt,n.stateNode));break;case 4:r=Wt,i=ur,Wt=n.stateNode.containerInfo,ur=!0,ti(t,e,n),Wt=r,ur=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yd(n,e,o),i=i.next}while(i!==r)}ti(t,e,n);break;case 1:if(!un&&(Zs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}ti(t,e,n);break;case 21:ti(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,ti(t,e,n),un=r):ti(t,e,n);break;default:ti(t,e,n)}}function L0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Mb),e.forEach(function(r){var i=Fb.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Wt=a.stateNode,ur=!1;break e;case 3:Wt=a.stateNode.containerInfo,ur=!0;break e;case 4:Wt=a.stateNode.containerInfo,ur=!0;break e}a=a.return}if(Wt===null)throw Error(Y(160));ev(s,o,i),Wt=null,ur=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tv(e,t),e=e.sibling}function tv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),xr(t),r&4){try{ta(3,t,t.return),lc(3,t)}catch(P){Rt(t,t.return,P)}try{ta(5,t,t.return)}catch(P){Rt(t,t.return,P)}}break;case 1:ar(e,t),xr(t),r&512&&n!==null&&Zs(n,n.return);break;case 5:if(ar(e,t),xr(t),r&512&&n!==null&&Zs(n,n.return),t.flags&32){var i=t.stateNode;try{aa(i,"")}catch(P){Rt(t,t.return,P)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kg(i,s),Kf(a,o);var c=Kf(a,s);for(o=0;o<l.length;o+=2){var m=l[o],g=l[o+1];m==="style"?Ig(i,g):m==="dangerouslySetInnerHTML"?Cg(i,g):m==="children"?aa(i,g):uh(i,m,g,c)}switch(a){case"input":Uf(i,s);break;case"textarea":Sg(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var k=s.value;k!=null?Js(i,!!s.multiple,k,!1):y!==!!s.multiple&&(s.defaultValue!=null?Js(i,!!s.multiple,s.defaultValue,!0):Js(i,!!s.multiple,s.multiple?[]:"",!1))}i[ga]=s}catch(P){Rt(t,t.return,P)}}break;case 6:if(ar(e,t),xr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(P){Rt(t,t.return,P)}}break;case 3:if(ar(e,t),xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fa(e.containerInfo)}catch(P){Rt(t,t.return,P)}break;case 4:ar(e,t),xr(t);break;case 13:ar(e,t),xr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||($h=Mt())),r&4&&L0(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(un=(c=un)||m,ar(e,t),un=c):ar(e,t),xr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!m&&t.mode&1)for(ae=t,m=t.child;m!==null;){for(g=ae=m;ae!==null;){switch(y=ae,k=y.child,y.tag){case 0:case 11:case 14:case 15:ta(4,y,y.return);break;case 1:Zs(y,y.return);var M=y.stateNode;if(typeof M.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,M.props=e.memoizedProps,M.state=e.memoizedState,M.componentWillUnmount()}catch(P){Rt(r,n,P)}}break;case 5:Zs(y,y.return);break;case 22:if(y.memoizedState!==null){D0(g);continue}}k!==null?(k.return=y,ae=k):D0(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{i=g.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,l=g.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Rg("display",o))}catch(P){Rt(t,t.return,P)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=c?"":g.memoizedProps}catch(P){Rt(t,t.return,P)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ar(e,t),xr(t),r&4&&L0(t);break;case 21:break;default:ar(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qy(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(aa(i,""),r.flags&=-33);var s=O0(t);xd(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=O0(t);wd(t,a,o);break;default:throw Error(Y(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Bb(t,e,n){ae=t,nv(t)}function nv(t,e,n){for(var r=(t.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||vl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||un;a=vl;var c=un;if(vl=o,(un=l)&&!c)for(ae=i;ae!==null;)o=ae,l=o.child,o.tag===22&&o.memoizedState!==null?U0(i):l!==null?(l.return=o,ae=l):U0(i);for(;s!==null;)ae=s,nv(s),s=s.sibling;ae=i,vl=a,un=c}j0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):j0(t)}}function j0(t){for(;ae!==null;){var e=ae;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||lc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&fa(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}un||e.flags&512&&vd(e)}catch(y){Rt(e,e.return,y)}}if(e===t){ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,ae=n;break}ae=e.return}}function D0(t){for(;ae!==null;){var e=ae;if(e===t){ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ae=n;break}ae=e.return}}function U0(t){for(;ae!==null;){var e=ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{lc(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rt(e,i,l)}}var s=e.return;try{vd(e)}catch(l){Rt(e,s,l)}break;case 5:var o=e.return;try{vd(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){ae=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ae=a;break}ae=e.return}}var Pb=Math.ceil,gu=Xr.ReactCurrentDispatcher,Fh=Xr.ReactCurrentOwner,er=Xr.ReactCurrentBatchConfig,je=0,zt=null,Ot=null,qt=0,Ln=0,qs=ji(0),Dt=0,ba=null,os=0,uc=0,zh=0,na=null,Rn=null,$h=0,mo=1/0,jr=null,yu=!1,_d=null,Ri=null,wl=!1,gi=null,vu=0,ra=0,bd=null,Ul=-1,Fl=0;function wn(){return je&6?Mt():Ul!==-1?Ul:Ul=Mt()}function Ii(t){return t.mode&1?je&2&&qt!==0?qt&-qt:gb.transition!==null?(Fl===0&&(Fl=Fg()),Fl):(t=qe,t!==0||(t=window.event,t=t===void 0?16:Zg(t.type)),t):1}function hr(t,e,n,r){if(50<ra)throw ra=0,bd=null,Error(Y(185));$a(t,n,r),(!(je&2)||t!==zt)&&(t===zt&&(!(je&2)&&(uc|=n),Dt===4&&pi(t,qt)),Pn(t,r),n===1&&je===0&&!(e.mode&1)&&(mo=Mt()+500,sc&&Di()))}function Pn(t,e){var n=t.callbackNode;g_(t,e);var r=tu(t,t===zt?qt:0);if(r===0)n!==null&&qp(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qp(n),e===1)t.tag===0?mb(F0.bind(null,t)):dy(F0.bind(null,t)),fb(function(){!(je&6)&&Di()}),n=null;else{switch(zg(r)){case 1:n=ph;break;case 4:n=Dg;break;case 16:n=eu;break;case 536870912:n=Ug;break;default:n=eu}n=cv(n,rv.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rv(t,e){if(Ul=-1,Fl=0,je&6)throw Error(Y(327));var n=t.callbackNode;if(no()&&t.callbackNode!==n)return null;var r=tu(t,t===zt?qt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wu(t,r);else{e=r;var i=je;je|=2;var s=sv();(zt!==t||qt!==e)&&(jr=null,mo=Mt()+500,Xi(t,e));do try{Lb();break}catch(a){iv(t,a)}while(!0);Rh(),gu.current=s,je=i,Ot!==null?e=0:(zt=null,qt=0,e=Dt)}if(e!==0){if(e===2&&(i=Gf(t),i!==0&&(r=i,e=kd(t,i))),e===1)throw n=ba,Xi(t,0),pi(t,r),Pn(t,Mt()),n;if(e===6)pi(t,r);else{if(i=t.current.alternate,!(r&30)&&!Nb(i)&&(e=wu(t,r),e===2&&(s=Gf(t),s!==0&&(r=s,e=kd(t,s))),e===1))throw n=ba,Xi(t,0),pi(t,r),Pn(t,Mt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:zi(t,Rn,jr);break;case 3:if(pi(t,r),(r&130023424)===r&&(e=$h+500-Mt(),10<e)){if(tu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=rd(zi.bind(null,t,Rn,jr),e);break}zi(t,Rn,jr);break;case 4:if(pi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pb(r/1960))-r,10<r){t.timeoutHandle=rd(zi.bind(null,t,Rn,jr),r);break}zi(t,Rn,jr);break;case 5:zi(t,Rn,jr);break;default:throw Error(Y(329))}}}return Pn(t,Mt()),t.callbackNode===n?rv.bind(null,t):null}function kd(t,e){var n=na;return t.current.memoizedState.isDehydrated&&(Xi(t,e).flags|=256),t=wu(t,e),t!==2&&(e=Rn,Rn=n,e!==null&&Sd(e)),t}function Sd(t){Rn===null?Rn=t:Rn.push.apply(Rn,t)}function Nb(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pi(t,e){for(e&=~zh,e&=~uc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dr(e),r=1<<n;t[n]=-1,e&=~r}}function F0(t){if(je&6)throw Error(Y(327));no();var e=tu(t,0);if(!(e&1))return Pn(t,Mt()),null;var n=wu(t,e);if(t.tag!==0&&n===2){var r=Gf(t);r!==0&&(e=r,n=kd(t,r))}if(n===1)throw n=ba,Xi(t,0),pi(t,e),Pn(t,Mt()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,zi(t,Rn,jr),Pn(t,Mt()),null}function Vh(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(mo=Mt()+500,sc&&Di())}}function as(t){gi!==null&&gi.tag===0&&!(je&6)&&no();var e=je;je|=1;var n=er.transition,r=qe;try{if(er.transition=null,qe=1,t)return t()}finally{qe=r,er.transition=n,je=e,!(je&6)&&Di()}}function Kh(){Ln=qs.current,ot(qs)}function Xi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,cb(n)),Ot!==null)for(n=Ot.return;n!==null;){var r=n;switch(Sh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ou();break;case 3:ho(),ot(An),ot(fn),Ph();break;case 5:Bh(r);break;case 4:ho();break;case 13:ot(gt);break;case 19:ot(gt);break;case 10:Ih(r.type._context);break;case 22:case 23:Kh()}n=n.return}if(zt=t,Ot=t=Ti(t.current,null),qt=Ln=e,Dt=0,ba=null,zh=uc=os=0,Rn=na=null,Zi!==null){for(e=0;e<Zi.length;e++)if(n=Zi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Zi=null}return t}function iv(t,e){do{var n=Ot;try{if(Rh(),Ll.current=mu,pu){for(var r=vt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}pu=!1}if(ss=0,Ft=jt=vt=null,ea=!1,wa=0,Fh.current=null,n===null||n.return===null){Dt=1,ba=e,Ot=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=qt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,m=a,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var k=R0(o);if(k!==null){k.flags&=-257,I0(k,o,a,s,e),k.mode&1&&C0(s,c,e),e=k,l=c;var M=e.updateQueue;if(M===null){var P=new Set;P.add(l),e.updateQueue=P}else M.add(l);break e}else{if(!(e&1)){C0(s,c,e),Wh();break e}l=Error(Y(426))}}else if(dt&&a.mode&1){var L=R0(o);if(L!==null){!(L.flags&65536)&&(L.flags|=256),I0(L,o,a,s,e),Eh(po(l,a));break e}}s=l=po(l,a),Dt!==4&&(Dt=2),na===null?na=[s]:na.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=zy(s,l,e);x0(s,S);break e;case 1:a=l;var R=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof R.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ri===null||!Ri.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var j=$y(s,a,e);x0(s,j);break e}}s=s.return}while(s!==null)}av(n)}catch(V){e=V,Ot===n&&n!==null&&(Ot=n=n.return);continue}break}while(!0)}function sv(){var t=gu.current;return gu.current=mu,t===null?mu:t}function Wh(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),zt===null||!(os&268435455)&&!(uc&268435455)||pi(zt,qt)}function wu(t,e){var n=je;je|=2;var r=sv();(zt!==t||qt!==e)&&(jr=null,Xi(t,e));do try{Ob();break}catch(i){iv(t,i)}while(!0);if(Rh(),je=n,gu.current=r,Ot!==null)throw Error(Y(261));return zt=null,qt=0,Dt}function Ob(){for(;Ot!==null;)ov(Ot)}function Lb(){for(;Ot!==null&&!a_();)ov(Ot)}function ov(t){var e=uv(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?av(t):Ot=e,Fh.current=null}function av(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Tb(n,e),n!==null){n.flags&=32767,Ot=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Ot=null;return}}else if(n=Ib(n,e,Ln),n!==null){Ot=n;return}if(e=e.sibling,e!==null){Ot=e;return}Ot=e=t}while(e!==null);Dt===0&&(Dt=5)}function zi(t,e,n){var r=qe,i=er.transition;try{er.transition=null,qe=1,jb(t,e,n,r)}finally{er.transition=i,qe=r}return null}function jb(t,e,n,r){do no();while(gi!==null);if(je&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(y_(t,s),t===zt&&(Ot=zt=null,qt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wl||(wl=!0,cv(eu,function(){return no(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=er.transition,er.transition=null;var o=qe;qe=1;var a=je;je|=4,Fh.current=null,Ab(t,n),tv(n,t),rb(td),nu=!!ed,td=ed=null,t.current=n,Bb(n),l_(),je=a,qe=o,er.transition=s}else t.current=n;if(wl&&(wl=!1,gi=t,vu=i),s=t.pendingLanes,s===0&&(Ri=null),f_(n.stateNode),Pn(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(yu)throw yu=!1,t=_d,_d=null,t;return vu&1&&t.tag!==0&&no(),s=t.pendingLanes,s&1?t===bd?ra++:(ra=0,bd=t):ra=0,Di(),null}function no(){if(gi!==null){var t=zg(vu),e=er.transition,n=qe;try{if(er.transition=null,qe=16>t?16:t,gi===null)var r=!1;else{if(t=gi,gi=null,vu=0,je&6)throw Error(Y(331));var i=je;for(je|=4,ae=t.current;ae!==null;){var s=ae,o=s.child;if(ae.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ae=c;ae!==null;){var m=ae;switch(m.tag){case 0:case 11:case 15:ta(8,m,s)}var g=m.child;if(g!==null)g.return=m,ae=g;else for(;ae!==null;){m=ae;var y=m.sibling,k=m.return;if(Xy(m),m===c){ae=null;break}if(y!==null){y.return=k,ae=y;break}ae=k}}}var M=s.alternate;if(M!==null){var P=M.child;if(P!==null){M.child=null;do{var L=P.sibling;P.sibling=null,P=L}while(P!==null)}}ae=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ae=o;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ta(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ae=S;break e}ae=s.return}}var R=t.current;for(ae=R;ae!==null;){o=ae;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,ae=C;else e:for(o=R;ae!==null;){if(a=ae,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:lc(9,a)}}catch(V){Rt(a,a.return,V)}if(a===o){ae=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,ae=j;break e}ae=a.return}}if(je=i,Di(),Cr&&typeof Cr.onPostCommitFiberRoot=="function")try{Cr.onPostCommitFiberRoot(ec,t)}catch{}r=!0}return r}finally{qe=n,er.transition=e}}return!1}function z0(t,e,n){e=po(n,e),e=zy(t,e,1),t=Ci(t,e,1),e=wn(),t!==null&&($a(t,1,e),Pn(t,e))}function Rt(t,e,n){if(t.tag===3)z0(t,t,n);else for(;e!==null;){if(e.tag===3){z0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ri===null||!Ri.has(r))){t=po(n,t),t=$y(e,t,1),e=Ci(e,t,1),t=wn(),e!==null&&($a(e,1,t),Pn(e,t));break}}e=e.return}}function Db(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wn(),t.pingedLanes|=t.suspendedLanes&n,zt===t&&(qt&n)===n&&(Dt===4||Dt===3&&(qt&130023424)===qt&&500>Mt()-$h?Xi(t,0):zh|=n),Pn(t,e)}function lv(t,e){e===0&&(t.mode&1?(e=ul,ul<<=1,!(ul&130023424)&&(ul=4194304)):e=1);var n=wn();t=Gr(t,e),t!==null&&($a(t,e,n),Pn(t,n))}function Ub(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),lv(t,n)}function Fb(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),lv(t,n)}var uv;uv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)Tn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Tn=!1,Rb(t,e,n);Tn=!!(t.flags&131072)}else Tn=!1,dt&&e.flags&1048576&&hy(e,uu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Dl(t,e),t=e.pendingProps;var i=uo(e,fn.current);to(e,n),i=Oh(null,e,r,t,i,n);var s=Lh();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Bn(r)?(s=!0,au(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mh(e),i.updater=ac,e.stateNode=i,i._reactInternals=e,cd(e,r,t,n),e=hd(null,e,r,!0,s,n)):(e.tag=0,dt&&s&&kh(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Dl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$b(r),t=lr(r,t),i){case 0:e=dd(null,e,r,t,n);break e;case 1:e=A0(null,e,r,t,n);break e;case 11:e=T0(null,e,r,t,n);break e;case 14:e=M0(null,e,r,lr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),dd(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),A0(t,e,r,i,n);case 3:e:{if(Hy(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,wy(t,e),du(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=po(Error(Y(423)),e),e=B0(t,e,r,n,i);break e}else if(r!==i){i=po(Error(Y(424)),e),e=B0(t,e,r,n,i);break e}else for(zn=Ei(e.stateNode.containerInfo.firstChild),$n=e,dt=!0,cr=null,n=yy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(co(),r===i){e=Yr(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return xy(e),t===null&&ad(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,nd(r,i)?o=null:s!==null&&nd(r,s)&&(e.flags|=32),Wy(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&ad(e),null;case 13:return Zy(t,e,n);case 4:return Ah(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fo(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),T0(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,et(cu,r._currentValue),r._currentValue=o,s!==null)if(gr(s.value,o)){if(s.children===i.children&&!An.current){e=Yr(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Wr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?l.next=l:(l.next=m.next,m.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),ld(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ld(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,to(e,n),i=nr(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=lr(r,e.pendingProps),i=lr(r.type,i),M0(t,e,r,i,n);case 15:return Vy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lr(r,i),Dl(t,e),e.tag=1,Bn(r)?(t=!0,au(e)):t=!1,to(e,n),Fy(e,r,i),cd(e,r,i,n),hd(null,e,r,!0,t,n);case 19:return qy(t,e,n);case 22:return Ky(t,e,n)}throw Error(Y(156,e.tag))};function cv(t,e){return jg(t,e)}function zb(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new zb(t,e,n,r)}function Hh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $b(t){if(typeof t=="function")return Hh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fh)return 11;if(t===dh)return 14}return 2}function Ti(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Hh(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ds:return Qi(n.children,i,s,e);case ch:o=8,i|=8;break;case Nf:return t=Qn(12,n,e,i|2),t.elementType=Nf,t.lanes=s,t;case Of:return t=Qn(13,n,e,i),t.elementType=Of,t.lanes=s,t;case Lf:return t=Qn(19,n,e,i),t.elementType=Lf,t.lanes=s,t;case xg:return cc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vg:o=10;break e;case wg:o=9;break e;case fh:o=11;break e;case dh:o=14;break e;case ci:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Qi(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function cc(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=xg,t.lanes=n,t.stateNode={isHidden:!1},t}function ff(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function df(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vb(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zh(t,e,n,r,i,s,o,a,l){return t=new Vb(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mh(s),t}function Kb(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:js,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fv(t){if(!t)return Pi;t=t._reactInternals;e:{if(ps(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Bn(n))return fy(t,n,e)}return e}function dv(t,e,n,r,i,s,o,a,l){return t=Zh(n,r,!0,t,i,s,o,a,l),t.context=fv(null),n=t.current,r=wn(),i=Ii(n),s=Wr(r,i),s.callback=e??null,Ci(n,s,i),t.current.lanes=i,$a(t,i,r),Pn(t,r),t}function fc(t,e,n,r){var i=e.current,s=wn(),o=Ii(i);return n=fv(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ci(i,e,o),t!==null&&(hr(t,i,o,s),Ol(t,i,o)),o}function xu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qh(t,e){$0(t,e),(t=t.alternate)&&$0(t,e)}function Wb(){return null}var hv=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gh(t){this._internalRoot=t}dc.prototype.render=Gh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));fc(t,e,null,null)};dc.prototype.unmount=Gh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;as(function(){fc(null,t,null,null)}),e[qr]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kg();t={blockedOn:null,target:t,priority:e};for(var n=0;n<hi.length&&e!==0&&e<hi[n].priority;n++);hi.splice(n,0,t),n===0&&Hg(t)}};function Yh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function V0(){}function Hb(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=xu(o);s.call(c)}}var o=dv(e,r,t,0,null,!1,!1,"",V0);return t._reactRootContainer=o,t[qr]=o.current,pa(t.nodeType===8?t.parentNode:t),as(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=xu(l);a.call(c)}}var l=Zh(t,0,!1,null,null,!1,!1,"",V0);return t._reactRootContainer=l,t[qr]=l.current,pa(t.nodeType===8?t.parentNode:t),as(function(){fc(e,l,n,r)}),l}function pc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=xu(o);a.call(l)}}fc(e,o,t,i)}else o=Hb(n,e,t,i,r);return xu(o)}$g=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Wo(e.pendingLanes);n!==0&&(mh(e,n|1),Pn(e,Mt()),!(je&6)&&(mo=Mt()+500,Di()))}break;case 13:as(function(){var r=Gr(t,1);if(r!==null){var i=wn();hr(r,t,1,i)}}),qh(t,1)}};gh=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=wn();hr(e,t,134217728,n)}qh(t,134217728)}};Vg=function(t){if(t.tag===13){var e=Ii(t),n=Gr(t,e);if(n!==null){var r=wn();hr(n,t,e,r)}qh(t,e)}};Kg=function(){return qe};Wg=function(t,e){var n=qe;try{return qe=t,e()}finally{qe=n}};Hf=function(t,e,n){switch(e){case"input":if(Uf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ic(r);if(!i)throw Error(Y(90));bg(r),Uf(r,i)}}}break;case"textarea":Sg(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};Ag=Vh;Bg=as;var Zb={usingClientEntryPoint:!1,Events:[Ka,$s,ic,Tg,Mg,Vh]},zo={findFiberByHostInstance:Hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qb={bundleType:zo.bundleType,version:zo.version,rendererPackageName:zo.rendererPackageName,rendererConfig:zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Og(t),t===null?null:t.stateNode},findFiberByHostInstance:zo.findFiberByHostInstance||Wb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xl.isDisabled&&xl.supportsFiber)try{ec=xl.inject(qb),Cr=xl}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zb;Wn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yh(e))throw Error(Y(200));return Kb(t,e,null,n)};Wn.createRoot=function(t,e){if(!Yh(t))throw Error(Y(299));var n=!1,r="",i=hv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Zh(t,1,!1,null,null,n,!1,r,i),t[qr]=e.current,pa(t.nodeType===8?t.parentNode:t),new Gh(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=Og(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return as(t)};Wn.hydrate=function(t,e,n){if(!hc(e))throw Error(Y(200));return pc(null,t,e,!0,n)};Wn.hydrateRoot=function(t,e,n){if(!Yh(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=hv;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=dv(e,null,t,1,n??null,i,!1,s,o),t[qr]=e.current,pa(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new dc(e)};Wn.render=function(t,e,n){if(!hc(e))throw Error(Y(200));return pc(null,t,e,!1,n)};Wn.unmountComponentAtNode=function(t){if(!hc(t))throw Error(Y(40));return t._reactRootContainer?(as(function(){pc(null,null,t,!1,function(){t._reactRootContainer=null,t[qr]=null})}),!0):!1};Wn.unstable_batchedUpdates=Vh;Wn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hc(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return pc(t,e,n,!1,r)};Wn.version="18.3.1-next-f1338f8080-20240426";function pv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pv)}catch(t){console.error(t)}}pv(),pg.exports=Wn;var Gb=pg.exports,K0=Gb;Bf.createRoot=K0.createRoot,Bf.hydrateRoot=K0.hydrateRoot;const Yb="modulepreload",Jb=function(t){return"/"+t},W0={},H0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Jb(l),l in W0)return;W0[l]=!0;const c=l.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const g=document.createElement("link");if(g.rel=c?"stylesheet":Yb,c||(g.as="script"),g.crossOrigin="",g.href=l,a&&g.setAttribute("nonce",a),document.head.appendChild(g),c)return new Promise((y,k)=>{g.addEventListener("load",y),g.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var Ce=(t=>(t.RED="RED",t.WHITE="WHITE",t))(Ce||{}),Fe=(t=>(t.PVP="PVP",t.PVAI="PVAI",t.ONLINE="ONLINE",t))(Fe||{});const Zt=8;Ce.RED+"",Ce.WHITE+"";const Z0=()=>{const t=Array(Zt).fill(null).map(()=>Array(Zt).fill(null));for(let e=0;e<Zt;e++)for(let n=0;n<Zt;n++)e===1||e===2?t[e][n]={player:Ce.WHITE,isKing:!1}:(e===5||e===6)&&(t[e][n]={player:Ce.RED,isKing:!1});return t},Is=t=>t.row>=0&&t.row<Zt&&t.col>=0&&t.col<Zt,mv=(t,e)=>{const{newBoard:n}=_u(t,e),r=n[e.to.row][e.to.col];if(!r)return 0;const s=Ed(n,e.to,r).filter(a=>a.isCapture);if(s.length===0)return 0;let o=0;for(const a of s){const l=1+mv(n,a);l>o&&(o=l)}return o},ro=(t,e,n)=>{let r=[];if(n){const s=t[n.row][n.col];s&&s.player===e&&(r=Ed(t,n,s))}else for(let s=0;s<Zt;s++)for(let o=0;o<Zt;o++){const a=t[s][o];if(a&&a.player===e){const l=Ed(t,{row:s,col:o},a);r.push(...l)}}const i=r.filter(s=>s.isCapture);if(i.length>0){const s=i.map(a=>{const l=1+mv(t,a);return{move:a,length:l}}),o=Math.max(...s.map(a=>a.length));return s.filter(a=>a.length===o).map(a=>a.move)}return r},Ed=(t,e,n)=>{const r=[],i={UP:{r:-1,c:0},DOWN:{r:1,c:0},LEFT:{r:0,c:-1},RIGHT:{r:0,c:1}},s=[];return n.isKing?s.push(i.UP,i.DOWN,i.LEFT,i.RIGHT):n.player===Ce.WHITE?s.push(i.DOWN,i.LEFT,i.RIGHT):s.push(i.UP,i.LEFT,i.RIGHT),n.isKing?s.forEach(o=>{let a=1;for(;;){const c={row:e.row+o.r*a,col:e.col+o.c*a};if(!Is(c))break;if(t[c.row][c.col]===null)r.push({from:e,to:c,isCapture:!1});else break;a++}let l=1;for(;;){const c={row:e.row+o.r*l,col:e.col+o.c*l};if(!Is(c))break;const m=t[c.row][c.col];if(m!==null){if(m.player!==n.player){let g=1;for(;;){const y={row:c.row+o.r*g,col:c.col+o.c*g};if(!Is(y))break;if(t[y.row][y.col]===null)r.push({from:e,to:y,isCapture:!0,capturedPos:c});else break;g++}}break}l++}}):s.forEach(o=>{const a={row:e.row+o.r,col:e.col+o.c};Is(a)&&t[a.row][a.col]===null&&r.push({from:e,to:a,isCapture:!1});const l={row:e.row+o.r,col:e.col+o.c},c={row:e.row+o.r*2,col:e.col+o.c*2};if(Is(c)&&Is(l)){const m=t[l.row][l.col],g=t[c.row][c.col];m&&m.player!==n.player&&g===null&&r.push({from:e,to:c,isCapture:!0,capturedPos:l})}}),r},_u=(t,e)=>{const n=t.map(a=>a.map(l=>l?{...l}:null)),r=n[e.from.row][e.from.col];if(!r)throw new Error("No piece at source");n[e.to.row][e.to.col]=r,n[e.from.row][e.from.col]=null,e.isCapture&&e.capturedPos&&(n[e.capturedPos.row][e.capturedPos.col]=null);let i=!1;r.isKing||(r.player===Ce.WHITE&&e.to.row===Zt-1||r.player===Ce.RED&&e.to.row===0)&&(r.isKing=!0,i=!0);let s=[],o=[];for(let a=0;a<Zt;a++)for(let l=0;l<Zt;l++){const c=n[a][l];c&&(c.player===Ce.RED?s.push(c):o.push(c))}return s.length===1&&!s[0].isKing&&(s[0].isKing=!0),o.length===1&&!o[0].isKing&&(o[0].isKing=!0),{newBoard:n,promoted:i}},gv=(t,e)=>{let n=0,r=0;for(let i=0;i<Zt;i++)for(let s=0;s<Zt;s++){const o=t[i][s];(o==null?void 0:o.player)===Ce.RED&&n++,(o==null?void 0:o.player)===Ce.WHITE&&r++}return n===0?Ce.WHITE:r===0?Ce.RED:e&&ro(t,e).length===0?e===Ce.RED?Ce.WHITE:Ce.RED:null},Xb=t=>{let e="";for(let n=0;n<Zt;n++){let r=`Row ${n}: `;for(let i=0;i<Zt;i++){const s=t[n][i];s?r+=s.player===Ce.RED?`[B${s.isKing?"K":""}]`:`[W${s.isKing?"K":""}]`:r+="[ ]"}e+=r+`
`}return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Qb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),At=(t,e)=>{const n=me.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...c},m)=>me.createElement("svg",{ref:m,...Qb,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${e2(t)}`,a].join(" "),...c},[...e.map(([g,y])=>me.createElement(g,y)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=At("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=At("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=At("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=At("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=At("BrainCircuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=At("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=At("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=At("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=At("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=At("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=At("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=At("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=At("Repeat",[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=At("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=At("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=At("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=At("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=At("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=At("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=At("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=At("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),p2=({player:t,isKing:e,isSelected:n})=>{const r=t===Ce.RED?"bg-blue-600 shadow-[0_4px_0_rgb(30,64,175)]":"bg-slate-100 shadow-[0_4px_0_rgb(148,163,184)]",i=n?"ring-4 ring-yellow-400 scale-110 z-10":"";return N.jsxs("div",{className:`
        w-[80%] h-[80%] rounded-full 
        flex items-center justify-center 
        transition-all duration-300 ease-out
        cursor-pointer
        ${r} ${i}
      `,children:[e&&N.jsx(i2,{className:`w-3/5 h-3/5 ${t===Ce.RED?"text-yellow-300 drop-shadow-md":"text-amber-600 drop-shadow-sm"}`,strokeWidth:3}),N.jsx("div",{className:"absolute w-[70%] h-[70%] rounded-full border-2 border-white/20 pointer-events-none"})]})},m2=({board:t,selectedPos:e,validMoves:n,onSquareClick:r,isRotated:i,hintMove:s=null,theme:o="checkers"})=>{const a=(l,c)=>{const m=t[l][c],g=(e==null?void 0:e.row)===l&&(e==null?void 0:e.col)===c,y=n.some(R=>R.to.row===l&&R.to.col===c),k=n.find(R=>R.to.row===l&&R.to.col===c),M=k==null?void 0:k.isCapture,P=s&&s.to.row===l&&s.to.col===c,L=(l+c)%2===1;let S=o==="classic"?L?"bg-slate-600":"bg-slate-500":o==="neon"?L?"bg-violet-900":"bg-fuchsia-900":L?"bg-blue-900":"bg-blue-800";return y&&(S=M?"bg-blue-900/80 ring-inset ring-4 ring-blue-500":"bg-emerald-900/80 ring-inset ring-4 ring-emerald-500"),N.jsx("div",{onClick:()=>r({row:l,col:c}),className:`
          relative w-full h-full aspect-square flex items-center justify-center
          ${S}
          border border-slate-700/50
          transition-colors duration-200
        `,children:N.jsxs("div",{className:`w-full h-full flex items-center justify-center relative transition-transform duration-500 ${i?"rotate-180":""}`,children:[c===0&&N.jsx("span",{className:"absolute left-0.5 bottom-0 text-[9px] text-white/20 font-mono",children:l}),l===Zt-1&&N.jsx("span",{className:"absolute right-0.5 bottom-0 text-[9px] text-white/20 font-mono",children:c}),y&&N.jsx("div",{className:`absolute w-3 h-3 rounded-full ${M?"bg-blue-400 animate-ping":"bg-emerald-400 animate-pulse"}`}),P&&s&&N.jsx(yv,{className:`absolute w-6 h-6 text-amber-300 opacity-90 ${(()=>{const R=s.to.row-s.from.row,C=s.to.col-s.from.col;return Math.abs(C)>Math.abs(R)?C>0?"":"rotate-180":R>0?"rotate-90":"-rotate-90"})()}`}),m&&N.jsx(p2,{player:m.player,isKing:m.isKing,isSelected:g})]})},`${l}-${c}`)};return N.jsx("div",{className:`
        grid gap-1 p-2 ${o==="neon"?"bg-black":"bg-slate-800"} rounded-lg shadow-2xl border border-slate-700
        w-full max-w-[600px] aspect-square
        transition-transform duration-500 ease-in-out
      `,style:{gridTemplateColumns:`repeat(${Zt}, minmax(0, 1fr))`,transform:i?"rotate(180deg)":"none"},children:t.map((l,c)=>l.map((m,g)=>a(c,g)))})},g2=async(t,e)=>{try{const n=Xb(t),r=e===Ce.RED?"Blue":"White",i=await fetch("/api/advice",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({boardStr:n,playerColorName:r})});return i.ok?(await i.json()).text||"Watch your diagonals and focus on defense!":"I'm having trouble analyzing the board right now. Focus on defense!"}catch(n){return console.error("Advice API Error:",n),"I'm having trouble analyzing the board right now. Focus on defense!"}},y2="checkers_profile_",v2="guest",w2={level:1,xp:0,wins:0,losses:0,rankTitle:"Novice",nextLevelXp:100},x2=t=>t>=50?"Grandmaster":t>=30?"Warlord":t>=20?"Master":t>=10?"Expert":t>=5?"Warrior":"Novice",vv=t=>`${y2}${t?t.toLowerCase():v2}`,ni=t=>{try{const e=vv(t),n=localStorage.getItem(e);if(n)return JSON.parse(n)}catch(e){console.error("Failed to load profile",e)}return{...w2}},em=(t,e)=>{try{const n=vv(e);localStorage.setItem(n,JSON.stringify(t))}catch(n){console.error("Failed to save profile",n)}},_2=(t,e)=>{const n=e?50:10;let r=t.xp+n,i=t.level,s=t.nextLevelXp;for(;r>=s;)r-=s,i++,s=Math.floor(s*1.2);return{...t,level:i,xp:r,wins:t.wins+(e?1:0),losses:t.losses+(e?0:1),rankTitle:x2(i),nextLevelXp:s}},b2=t=>[...[{level:42,xp:15400,wins:312,losses:98,rankTitle:"Grandmaster",nextLevelXp:99999,username:"DamaKing"},{level:35,xp:12100,wins:245,losses:112,rankTitle:"Warlord",nextLevelXp:99999,username:"Satoshi"},{level:28,xp:8500,wins:180,losses:60,rankTitle:"Master",nextLevelXp:99999,username:"ProPlayer"},{level:19,xp:5200,wins:120,losses:85,rankTitle:"Expert",nextLevelXp:99999,username:"BlueFalcon"},{level:12,xp:3100,wins:65,losses:40,rankTitle:"Expert",nextLevelXp:99999,username:"Player_99"}],t].sort((r,i)=>{const s=r.level*500+r.xp;return i.level*500+i.xp-s}),k2=(t,e)=>{let n=0;const r=e===Ce.WHITE?Ce.RED:Ce.WHITE;for(let i=0;i<t.length;i++)for(let s=0;s<t[i].length;s++){const o=t[i][s];if(!o)continue;const a=o.player===e;let l=o.isKing?25:5;if(s>=2&&s<=5&&(l+=.5),!o.isKing){const c=a?e===Ce.WHITE?i:7-i:r===Ce.WHITE?i:7-i;l+=c*.2}n+=a?l:-l}return n},tm=(t,e,n=4,r=null)=>new Promise(i=>{setTimeout(()=>{const{move:s}=Cd(t,n,!0,e,-1/0,1/0,r);i(s)},50)}),Cd=(t,e,n,r,i,s,o)=>{const a=n?r:r===Ce.WHITE?Ce.RED:Ce.WHITE,l=gv(t,a);if(l===r)return{score:1e4,move:null};if(l&&l!==r)return{score:-1e4,move:null};if(e===0)return{score:k2(t,r),move:null};const c=ro(t,a,o);if(c.length===0)return{score:n?-5e3:5e3,move:null};c.sort((g,y)=>(y.isCapture?1:0)-(g.isCapture?1:0));let m=null;if(n){let g=-1/0;for(const y of c){const{newBoard:k}=_u(t,y);let M=!1,P=null;y.isCapture&&ro(k,a,y.to).filter(C=>C.isCapture).length>0&&(M=!0,P=y.to);const L=M?e:e-1,S=Cd(k,L,M,r,i,s,P);if(S.score>g&&(g=S.score,m=y),i=Math.max(i,S.score),s<=i)break}return{score:g,move:m||c[0]}}else{let g=1/0;for(const y of c){const{newBoard:k}=_u(t,y);let M=!0,P=null;y.isCapture&&ro(k,a,y.to).filter(C=>C.isCapture).length>0&&(M=!1,P=y.to);const L=M?e-1:e,S=Cd(k,L,M,r,i,s,P);if(S.score<g&&(g=S.score,m=y),s=Math.min(s,S.score),s<=i)break}return{score:g,move:m||c[0]}}},wv=async()=>{let t=window.ethereum;const e=window.rabby||(window.ethereum&&window.ethereum.isRabby?window.ethereum:null);if(console.log("Initiating wallet connection..."),!t){console.log("No crypto wallet found. Switching to Demo Mode."),await new Promise(r=>setTimeout(r,500));const n="0xDemoUser...8888";return localStorage.setItem("demo_wallet_connected","true"),n}if(e)t=e;else if(t.providers&&Array.isArray(t.providers)){const n=t.providers.find(i=>i.isRabby),r=t.providers.find(i=>i.isMetaMask);t=n||r||t.providers[0]}try{console.log("Requesting eth_requestAccounts...");const n=await t.request({method:"eth_requestAccounts"});if(!n||n.length===0)throw new Error("No accounts returned.");return console.log("Connected:",n[0]),n[0]}catch(n){throw console.error("Wallet connection error:",n),n.code===4001?new Error("Connection cancelled."):new Error("Failed to connect wallet.")}},xv=async()=>{if(localStorage.getItem("demo_wallet_connected")==="true")return"0xDemoUser...8888";let t=window.ethereum;const e=window.rabby||(window.ethereum&&window.ethereum.isRabby?window.ethereum:null);if(!t)return null;if(e)t=e;else if(t.providers&&Array.isArray(t.providers)){const n=t.providers.find(i=>i.isRabby),r=t.providers.find(i=>i.isMetaMask);t=n||r||t.providers[0]}try{const n=await t.request({method:"eth_accounts"});if(n.length>0)return n[0]}catch(n){console.error("Error checking wallet connection",n)}return null},_v=t=>{const{ethereum:e}=window;if(e)try{e.on("accountsChanged",n=>{t(n.length>0?n[0]:null)})}catch(n){console.warn("Could not subscribe to account changes",n)}},$l=async()=>{const t=window.ethereum;if(!t)return!1;try{if(await t.request({method:"eth_chainId"})==="0x2105")return!0;try{return await t.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x2105"}]}),!0}catch{try{return await t.request({method:"wallet_addEthereumChain",params:[{chainId:"0x2105",chainName:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.base.org"],blockExplorerUrls:["https://basescan.org"]}]}),!0}catch{return!1}}}catch{return!1}},S2=async()=>{let e=window.ethereum;if(!e)throw new Error("No wallet found");e.providers&&Array.isArray(e.providers)&&(e=e.providers.find(i=>i.isMetaMask)||e);const n=await e.request({method:"eth_requestAccounts"});if(!n||n.length===0)throw new Error("No accounts returned");return n[0]},E2=async()=>{let e=window.ethereum;if(!e)throw new Error("No wallet found");e.providers&&Array.isArray(e.providers)?e=e.providers.find(i=>i.isCoinbaseWallet)||e:e.isCoinbaseWallet&&(e=e);const n=await e.request({method:"eth_requestAccounts"});if(!n||n.length===0)throw new Error("No accounts returned");return n[0]},nm=Object.freeze(Object.defineProperty({__proto__:null,checkIfWalletIsConnected:xv,connectWallet:wv,connectWithCoinbase:E2,connectWithMetaMask:S2,ensureBaseNetwork:$l,listenToAccountChanges:_v},Symbol.toStringTag,{value:"Module"}));class C2{constructor(){this.encoder=new TextEncoder,this._pieces=[],this._parts=[]}append_buffer(e){this.flush(),this._parts.push(e)}append(e){this._pieces.push(e)}flush(){if(this._pieces.length>0){const e=new Uint8Array(this._pieces);this._parts.push(e),this._pieces=[]}}toArrayBuffer(){const e=[];for(const n of this._parts)e.push(n);return R2(e).buffer}}function R2(t){let e=0;for(const i of t)e+=i.byteLength;const n=new Uint8Array(e);let r=0;for(const i of t){const s=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);n.set(s,r),r+=i.byteLength}return n}function bv(t){return new I2(t).unpack()}function kv(t){const e=new T2,n=e.pack(t);return n instanceof Promise?n.then(()=>e.getBuffer()):e.getBuffer()}class I2{constructor(e){this.index=0,this.dataBuffer=e,this.dataView=new Uint8Array(this.dataBuffer),this.length=this.dataBuffer.byteLength}unpack(){const e=this.unpack_uint8();if(e<128)return e;if((e^224)<32)return(e^224)-32;let n;if((n=e^160)<=15)return this.unpack_raw(n);if((n=e^176)<=15)return this.unpack_string(n);if((n=e^144)<=15)return this.unpack_array(n);if((n=e^128)<=15)return this.unpack_map(n);switch(e){case 192:return null;case 193:return;case 194:return!1;case 195:return!0;case 202:return this.unpack_float();case 203:return this.unpack_double();case 204:return this.unpack_uint8();case 205:return this.unpack_uint16();case 206:return this.unpack_uint32();case 207:return this.unpack_uint64();case 208:return this.unpack_int8();case 209:return this.unpack_int16();case 210:return this.unpack_int32();case 211:return this.unpack_int64();case 212:return;case 213:return;case 214:return;case 215:return;case 216:return n=this.unpack_uint16(),this.unpack_string(n);case 217:return n=this.unpack_uint32(),this.unpack_string(n);case 218:return n=this.unpack_uint16(),this.unpack_raw(n);case 219:return n=this.unpack_uint32(),this.unpack_raw(n);case 220:return n=this.unpack_uint16(),this.unpack_array(n);case 221:return n=this.unpack_uint32(),this.unpack_array(n);case 222:return n=this.unpack_uint16(),this.unpack_map(n);case 223:return n=this.unpack_uint32(),this.unpack_map(n)}}unpack_uint8(){const e=this.dataView[this.index]&255;return this.index++,e}unpack_uint16(){const e=this.read(2),n=(e[0]&255)*256+(e[1]&255);return this.index+=2,n}unpack_uint32(){const e=this.read(4),n=((e[0]*256+e[1])*256+e[2])*256+e[3];return this.index+=4,n}unpack_uint64(){const e=this.read(8),n=((((((e[0]*256+e[1])*256+e[2])*256+e[3])*256+e[4])*256+e[5])*256+e[6])*256+e[7];return this.index+=8,n}unpack_int8(){const e=this.unpack_uint8();return e<128?e:e-256}unpack_int16(){const e=this.unpack_uint16();return e<32768?e:e-65536}unpack_int32(){const e=this.unpack_uint32();return e<2**31?e:e-2**32}unpack_int64(){const e=this.unpack_uint64();return e<2**63?e:e-2**64}unpack_raw(e){if(this.length<this.index+e)throw new Error(`BinaryPackFailure: index is out of range ${this.index} ${e} ${this.length}`);const n=this.dataBuffer.slice(this.index,this.index+e);return this.index+=e,n}unpack_string(e){const n=this.read(e);let r=0,i="",s,o;for(;r<e;)s=n[r],s<160?(o=s,r++):(s^192)<32?(o=(s&31)<<6|n[r+1]&63,r+=2):(s^224)<16?(o=(s&15)<<12|(n[r+1]&63)<<6|n[r+2]&63,r+=3):(o=(s&7)<<18|(n[r+1]&63)<<12|(n[r+2]&63)<<6|n[r+3]&63,r+=4),i+=String.fromCodePoint(o);return this.index+=e,i}unpack_array(e){const n=new Array(e);for(let r=0;r<e;r++)n[r]=this.unpack();return n}unpack_map(e){const n={};for(let r=0;r<e;r++){const i=this.unpack();n[i]=this.unpack()}return n}unpack_float(){const e=this.unpack_uint32(),n=e>>31,r=(e>>23&255)-127,i=e&8388607|8388608;return(n===0?1:-1)*i*2**(r-23)}unpack_double(){const e=this.unpack_uint32(),n=this.unpack_uint32(),r=e>>31,i=(e>>20&2047)-1023,o=(e&1048575|1048576)*2**(i-20)+n*2**(i-52);return(r===0?1:-1)*o}read(e){const n=this.index;if(n+e<=this.length)return this.dataView.subarray(n,n+e);throw new Error("BinaryPackFailure: read index out of range")}}class T2{getBuffer(){return this._bufferBuilder.toArrayBuffer()}pack(e){if(typeof e=="string")this.pack_string(e);else if(typeof e=="number")Math.floor(e)===e?this.pack_integer(e):this.pack_double(e);else if(typeof e=="boolean")e===!0?this._bufferBuilder.append(195):e===!1&&this._bufferBuilder.append(194);else if(e===void 0)this._bufferBuilder.append(192);else if(typeof e=="object")if(e===null)this._bufferBuilder.append(192);else{const n=e.constructor;if(e instanceof Array){const r=this.pack_array(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else if(e instanceof ArrayBuffer)this.pack_bin(new Uint8Array(e));else if("BYTES_PER_ELEMENT"in e){const r=e;this.pack_bin(new Uint8Array(r.buffer,r.byteOffset,r.byteLength))}else if(e instanceof Date)this.pack_string(e.toString());else{if(e instanceof Blob)return e.arrayBuffer().then(r=>{this.pack_bin(new Uint8Array(r)),this._bufferBuilder.flush()});if(n==Object||n.toString().startsWith("class")){const r=this.pack_object(e);if(r instanceof Promise)return r.then(()=>this._bufferBuilder.flush())}else throw new Error(`Type "${n.toString()}" not yet supported`)}}else throw new Error(`Type "${typeof e}" not yet supported`);this._bufferBuilder.flush()}pack_bin(e){const n=e.length;if(n<=15)this.pack_uint8(160+n);else if(n<=65535)this._bufferBuilder.append(218),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(219),this.pack_uint32(n);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(e)}pack_string(e){const n=this._textEncoder.encode(e),r=n.length;if(r<=15)this.pack_uint8(176+r);else if(r<=65535)this._bufferBuilder.append(216),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(217),this.pack_uint32(r);else throw new Error("Invalid length");this._bufferBuilder.append_buffer(n)}pack_array(e){const n=e.length;if(n<=15)this.pack_uint8(144+n);else if(n<=65535)this._bufferBuilder.append(220),this.pack_uint16(n);else if(n<=4294967295)this._bufferBuilder.append(221),this.pack_uint32(n);else throw new Error("Invalid length");const r=i=>{if(i<n){const s=this.pack(e[i]);return s instanceof Promise?s.then(()=>r(i+1)):r(i+1)}};return r(0)}pack_integer(e){if(e>=-32&&e<=127)this._bufferBuilder.append(e&255);else if(e>=0&&e<=255)this._bufferBuilder.append(204),this.pack_uint8(e);else if(e>=-128&&e<=127)this._bufferBuilder.append(208),this.pack_int8(e);else if(e>=0&&e<=65535)this._bufferBuilder.append(205),this.pack_uint16(e);else if(e>=-32768&&e<=32767)this._bufferBuilder.append(209),this.pack_int16(e);else if(e>=0&&e<=4294967295)this._bufferBuilder.append(206),this.pack_uint32(e);else if(e>=-2147483648&&e<=2147483647)this._bufferBuilder.append(210),this.pack_int32(e);else if(e>=-9223372036854776e3&&e<=9223372036854776e3)this._bufferBuilder.append(211),this.pack_int64(e);else if(e>=0&&e<=18446744073709552e3)this._bufferBuilder.append(207),this.pack_uint64(e);else throw new Error("Invalid integer")}pack_double(e){let n=0;e<0&&(n=1,e=-e);const r=Math.floor(Math.log(e)/Math.LN2),i=e/2**r-1,s=Math.floor(i*2**52),o=2**32,a=n<<31|r+1023<<20|s/o&1048575,l=s%o;this._bufferBuilder.append(203),this.pack_int32(a),this.pack_int32(l)}pack_object(e){const n=Object.keys(e),r=n.length;if(r<=15)this.pack_uint8(128+r);else if(r<=65535)this._bufferBuilder.append(222),this.pack_uint16(r);else if(r<=4294967295)this._bufferBuilder.append(223),this.pack_uint32(r);else throw new Error("Invalid length");const i=s=>{if(s<n.length){const o=n[s];if(e.hasOwnProperty(o)){this.pack(o);const a=this.pack(e[o]);if(a instanceof Promise)return a.then(()=>i(s+1))}return i(s+1)}};return i(0)}pack_uint8(e){this._bufferBuilder.append(e)}pack_uint16(e){this._bufferBuilder.append(e>>8),this._bufferBuilder.append(e&255)}pack_uint32(e){const n=e&4294967295;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255)}pack_uint64(e){const n=e/4294967296,r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}pack_int8(e){this._bufferBuilder.append(e&255)}pack_int16(e){this._bufferBuilder.append((e&65280)>>8),this._bufferBuilder.append(e&255)}pack_int32(e){this._bufferBuilder.append(e>>>24&255),this._bufferBuilder.append((e&16711680)>>>16),this._bufferBuilder.append((e&65280)>>>8),this._bufferBuilder.append(e&255)}pack_int64(e){const n=Math.floor(e/4294967296),r=e%2**32;this._bufferBuilder.append((n&4278190080)>>>24),this._bufferBuilder.append((n&16711680)>>>16),this._bufferBuilder.append((n&65280)>>>8),this._bufferBuilder.append(n&255),this._bufferBuilder.append((r&4278190080)>>>24),this._bufferBuilder.append((r&16711680)>>>16),this._bufferBuilder.append((r&65280)>>>8),this._bufferBuilder.append(r&255)}constructor(){this._bufferBuilder=new C2,this._textEncoder=new TextEncoder}}let Sv=!0,Ev=!0;function Zo(t,e,n){const r=t.match(e);return r&&r.length>=n&&parseFloat(r[n],10)}function ms(t,e,n){if(!t.RTCPeerConnection)return;const r=t.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(o,a){if(o!==e)return i.apply(this,arguments);const l=c=>{const m=n(c);m&&(a.handleEvent?a.handleEvent(m):a(m))};return this._eventMap=this._eventMap||{},this._eventMap[e]||(this._eventMap[e]=new Map),this._eventMap[e].set(a,l),i.apply(this,[o,l])};const s=r.removeEventListener;r.removeEventListener=function(o,a){if(o!==e||!this._eventMap||!this._eventMap[e])return s.apply(this,arguments);if(!this._eventMap[e].has(a))return s.apply(this,arguments);const l=this._eventMap[e].get(a);return this._eventMap[e].delete(a),this._eventMap[e].size===0&&delete this._eventMap[e],Object.keys(this._eventMap).length===0&&delete this._eventMap,s.apply(this,[o,l])},Object.defineProperty(r,"on"+e,{get(){return this["_on"+e]},set(o){this["_on"+e]&&(this.removeEventListener(e,this["_on"+e]),delete this["_on"+e]),o&&this.addEventListener(e,this["_on"+e]=o)},enumerable:!0,configurable:!0})}function M2(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Sv=t,t?"adapter.js logging disabled":"adapter.js logging enabled")}function A2(t){return typeof t!="boolean"?new Error("Argument type: "+typeof t+". Please use a boolean."):(Ev=!t,"adapter.js deprecation warnings "+(t?"disabled":"enabled"))}function Cv(){if(typeof window=="object"){if(Sv)return;typeof console<"u"&&typeof console.log=="function"&&console.log.apply(console,arguments)}}function Jh(t,e){Ev&&console.warn(t+" is deprecated, please use "+e+" instead.")}function B2(t){const e={browser:null,version:null};if(typeof t>"u"||!t.navigator||!t.navigator.userAgent)return e.browser="Not a browser.",e;const{navigator:n}=t;if(n.userAgentData&&n.userAgentData.brands){const r=n.userAgentData.brands.find(i=>i.brand==="Chromium");if(r)return{browser:"chrome",version:parseInt(r.version,10)}}if(n.mozGetUserMedia)e.browser="firefox",e.version=parseInt(Zo(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||t.isSecureContext===!1&&t.webkitRTCPeerConnection)e.browser="chrome",e.version=parseInt(Zo(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else if(t.RTCPeerConnection&&n.userAgent.match(/AppleWebKit\/(\d+)\./))e.browser="safari",e.version=parseInt(Zo(n.userAgent,/AppleWebKit\/(\d+)\./,1)),e.supportsUnifiedPlan=t.RTCRtpTransceiver&&"currentDirection"in t.RTCRtpTransceiver.prototype,e._safariVersion=Zo(n.userAgent,/Version\/(\d+(\.?\d+))/,1);else return e.browser="Not a supported browser.",e;return e}function rm(t){return Object.prototype.toString.call(t)==="[object Object]"}function Rv(t){return rm(t)?Object.keys(t).reduce(function(e,n){const r=rm(t[n]),i=r?Rv(t[n]):t[n],s=r&&!Object.keys(i).length;return i===void 0||s?e:Object.assign(e,{[n]:i})},{}):t}function Rd(t,e,n){!e||n.has(e.id)||(n.set(e.id,e),Object.keys(e).forEach(r=>{r.endsWith("Id")?Rd(t,t.get(e[r]),n):r.endsWith("Ids")&&e[r].forEach(i=>{Rd(t,t.get(i),n)})}))}function im(t,e,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(e===null)return i;const s=[];return t.forEach(o=>{o.type==="track"&&o.trackIdentifier===e.id&&s.push(o)}),s.forEach(o=>{t.forEach(a=>{a.type===r&&a.trackId===o.id&&Rd(t,a,i)})}),i}const sm=Cv;function Iv(t,e){const n=t&&t.navigator;if(!n.mediaDevices)return;const r=function(a){if(typeof a!="object"||a.mandatory||a.optional)return a;const l={};return Object.keys(a).forEach(c=>{if(c==="require"||c==="advanced"||c==="mediaSource")return;const m=typeof a[c]=="object"?a[c]:{ideal:a[c]};m.exact!==void 0&&typeof m.exact=="number"&&(m.min=m.max=m.exact);const g=function(y,k){return y?y+k.charAt(0).toUpperCase()+k.slice(1):k==="deviceId"?"sourceId":k};if(m.ideal!==void 0){l.optional=l.optional||[];let y={};typeof m.ideal=="number"?(y[g("min",c)]=m.ideal,l.optional.push(y),y={},y[g("max",c)]=m.ideal,l.optional.push(y)):(y[g("",c)]=m.ideal,l.optional.push(y))}m.exact!==void 0&&typeof m.exact!="number"?(l.mandatory=l.mandatory||{},l.mandatory[g("",c)]=m.exact):["min","max"].forEach(y=>{m[y]!==void 0&&(l.mandatory=l.mandatory||{},l.mandatory[g(y,c)]=m[y])})}),a.advanced&&(l.optional=(l.optional||[]).concat(a.advanced)),l},i=function(a,l){if(e.version>=61)return l(a);if(a=JSON.parse(JSON.stringify(a)),a&&typeof a.audio=="object"){const c=function(m,g,y){g in m&&!(y in m)&&(m[y]=m[g],delete m[g])};a=JSON.parse(JSON.stringify(a)),c(a.audio,"autoGainControl","googAutoGainControl"),c(a.audio,"noiseSuppression","googNoiseSuppression"),a.audio=r(a.audio)}if(a&&typeof a.video=="object"){let c=a.video.facingMode;c=c&&(typeof c=="object"?c:{ideal:c});const m=e.version<66;if(c&&(c.exact==="user"||c.exact==="environment"||c.ideal==="user"||c.ideal==="environment")&&!(n.mediaDevices.getSupportedConstraints&&n.mediaDevices.getSupportedConstraints().facingMode&&!m)){delete a.video.facingMode;let g;if(c.exact==="environment"||c.ideal==="environment"?g=["back","rear"]:(c.exact==="user"||c.ideal==="user")&&(g=["front"]),g)return n.mediaDevices.enumerateDevices().then(y=>{y=y.filter(M=>M.kind==="videoinput");let k=y.find(M=>g.some(P=>M.label.toLowerCase().includes(P)));return!k&&y.length&&g.includes("back")&&(k=y[y.length-1]),k&&(a.video.deviceId=c.exact?{exact:k.deviceId}:{ideal:k.deviceId}),a.video=r(a.video),sm("chrome: "+JSON.stringify(a)),l(a)})}a.video=r(a.video)}return sm("chrome: "+JSON.stringify(a)),l(a)},s=function(a){return e.version>=64?a:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[a.name]||a.name,message:a.message,constraint:a.constraint||a.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}},o=function(a,l,c){i(a,m=>{n.webkitGetUserMedia(m,l,g=>{c&&c(s(g))})})};if(n.getUserMedia=o.bind(n),n.mediaDevices.getUserMedia){const a=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(l){return i(l,c=>a(c).then(m=>{if(c.audio&&!m.getAudioTracks().length||c.video&&!m.getVideoTracks().length)throw m.getTracks().forEach(g=>{g.stop()}),new DOMException("","NotFoundError");return m},m=>Promise.reject(s(m))))}}}function Tv(t){t.MediaStream=t.MediaStream||t.webkitMediaStream}function Mv(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("ontrack"in t.RTCPeerConnection.prototype)){Object.defineProperty(t.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(n){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=n)},enumerable:!0,configurable:!0});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=r=>{r.stream.addEventListener("addtrack",i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.track.id):s={track:i.track};const o=new Event("track");o.track=i.track,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)}),r.stream.getTracks().forEach(i=>{let s;t.RTCPeerConnection.prototype.getReceivers?s=this.getReceivers().find(a=>a.track&&a.track.id===i.id):s={track:i};const o=new Event("track");o.track=i,o.receiver=s,o.transceiver={receiver:s},o.streams=[r.stream],this.dispatchEvent(o)})},this.addEventListener("addstream",this._ontrackpoly)),e.apply(this,arguments)}}else ms(t,"track",e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e))}function Av(t){if(typeof t=="object"&&t.RTCPeerConnection&&!("getSenders"in t.RTCPeerConnection.prototype)&&"createDTMFSender"in t.RTCPeerConnection.prototype){const e=function(i,s){return{track:s,get dtmf(){return this._dtmf===void 0&&(s.kind==="audio"?this._dtmf=i.createDTMFSender(s):this._dtmf=null),this._dtmf},_pc:i}};if(!t.RTCPeerConnection.prototype.getSenders){t.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(a,l){let c=i.apply(this,arguments);return c||(c=e(this,a),this._senders.push(c)),c};const s=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(a){s.apply(this,arguments);const l=this._senders.indexOf(a);l!==-1&&this._senders.splice(l,1)}}const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(s){this._senders=this._senders||[],n.apply(this,[s]),s.getTracks().forEach(o=>{this._senders.push(e(this,o))})};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(s){this._senders=this._senders||[],r.apply(this,[s]),s.getTracks().forEach(o=>{const a=this._senders.find(l=>l.track===o);a&&this._senders.splice(this._senders.indexOf(a),1)})}}else if(typeof t=="object"&&t.RTCPeerConnection&&"getSenders"in t.RTCPeerConnection.prototype&&"createDTMFSender"in t.RTCPeerConnection.prototype&&t.RTCRtpSender&&!("dtmf"in t.RTCRtpSender.prototype)){const e=t.RTCPeerConnection.prototype.getSenders;t.RTCPeerConnection.prototype.getSenders=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r},Object.defineProperty(t.RTCRtpSender.prototype,"dtmf",{get(){return this._dtmf===void 0&&(this.track.kind==="audio"?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function Bv(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender&&t.RTCRtpReceiver))return;if(!("getStats"in t.RTCRtpSender.prototype)){const n=t.RTCPeerConnection.prototype.getSenders;n&&(t.RTCPeerConnection.prototype.getSenders=function(){const s=n.apply(this,[]);return s.forEach(o=>o._pc=this),s});const r=t.RTCPeerConnection.prototype.addTrack;r&&(t.RTCPeerConnection.prototype.addTrack=function(){const s=r.apply(this,arguments);return s._pc=this,s}),t.RTCRtpSender.prototype.getStats=function(){const s=this;return this._pc.getStats().then(o=>im(o,s.track,!0))}}if(!("getStats"in t.RTCRtpReceiver.prototype)){const n=t.RTCPeerConnection.prototype.getReceivers;n&&(t.RTCPeerConnection.prototype.getReceivers=function(){const i=n.apply(this,[]);return i.forEach(s=>s._pc=this),i}),ms(t,"track",r=>(r.receiver._pc=r.srcElement,r)),t.RTCRtpReceiver.prototype.getStats=function(){const i=this;return this._pc.getStats().then(s=>im(s,i.track,!1))}}if(!("getStats"in t.RTCRtpSender.prototype&&"getStats"in t.RTCRtpReceiver.prototype))return;const e=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof t.MediaStreamTrack){const r=arguments[0];let i,s,o;return this.getSenders().forEach(a=>{a.track===r&&(i?o=!0:i=a)}),this.getReceivers().forEach(a=>(a.track===r&&(s?o=!0:s=a),a.track===r)),o||i&&s?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):i?i.getStats():s?s.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return e.apply(this,arguments)}}function Pv(t){t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(o=>this._shimmedLocalStreams[o][0])};const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addTrack=function(o,a){if(!a)return e.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const l=e.apply(this,arguments);return this._shimmedLocalStreams[a.id]?this._shimmedLocalStreams[a.id].indexOf(l)===-1&&this._shimmedLocalStreams[a.id].push(l):this._shimmedLocalStreams[a.id]=[a,l],l};const n=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(o){this._shimmedLocalStreams=this._shimmedLocalStreams||{},o.getTracks().forEach(c=>{if(this.getSenders().find(g=>g.track===c))throw new DOMException("Track already exists.","InvalidAccessError")});const a=this.getSenders();n.apply(this,arguments);const l=this.getSenders().filter(c=>a.indexOf(c)===-1);this._shimmedLocalStreams[o.id]=[o].concat(l)};const r=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[o.id],r.apply(this,arguments)};const i=t.RTCPeerConnection.prototype.removeTrack;t.RTCPeerConnection.prototype.removeTrack=function(o){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},o&&Object.keys(this._shimmedLocalStreams).forEach(a=>{const l=this._shimmedLocalStreams[a].indexOf(o);l!==-1&&this._shimmedLocalStreams[a].splice(l,1),this._shimmedLocalStreams[a].length===1&&delete this._shimmedLocalStreams[a]}),i.apply(this,arguments)}}function Nv(t,e){if(!t.RTCPeerConnection)return;if(t.RTCPeerConnection.prototype.addTrack&&e.version>=65)return Pv(t);const n=t.RTCPeerConnection.prototype.getLocalStreams;t.RTCPeerConnection.prototype.getLocalStreams=function(){const m=n.apply(this);return this._reverseStreams=this._reverseStreams||{},m.map(g=>this._reverseStreams[g.id])};const r=t.RTCPeerConnection.prototype.addStream;t.RTCPeerConnection.prototype.addStream=function(m){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},m.getTracks().forEach(g=>{if(this.getSenders().find(k=>k.track===g))throw new DOMException("Track already exists.","InvalidAccessError")}),!this._reverseStreams[m.id]){const g=new t.MediaStream(m.getTracks());this._streams[m.id]=g,this._reverseStreams[g.id]=m,m=g}r.apply(this,[m])};const i=t.RTCPeerConnection.prototype.removeStream;t.RTCPeerConnection.prototype.removeStream=function(m){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[m.id]||m]),delete this._reverseStreams[this._streams[m.id]?this._streams[m.id].id:m.id],delete this._streams[m.id]},t.RTCPeerConnection.prototype.addTrack=function(m,g){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const y=[].slice.call(arguments,1);if(y.length!==1||!y[0].getTracks().find(P=>P===m))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find(P=>P.track===m))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const M=this._streams[g.id];if(M)M.addTrack(m),Promise.resolve().then(()=>{this.dispatchEvent(new Event("negotiationneeded"))});else{const P=new t.MediaStream([m]);this._streams[g.id]=P,this._reverseStreams[P.id]=g,this.addStream(P)}return this.getSenders().find(P=>P.track===m)};function s(c,m){let g=m.sdp;return Object.keys(c._reverseStreams||[]).forEach(y=>{const k=c._reverseStreams[y],M=c._streams[k.id];g=g.replace(new RegExp(M.id,"g"),k.id)}),new RTCSessionDescription({type:m.type,sdp:g})}function o(c,m){let g=m.sdp;return Object.keys(c._reverseStreams||[]).forEach(y=>{const k=c._reverseStreams[y],M=c._streams[k.id];g=g.replace(new RegExp(k.id,"g"),M.id)}),new RTCSessionDescription({type:m.type,sdp:g})}["createOffer","createAnswer"].forEach(function(c){const m=t.RTCPeerConnection.prototype[c],g={[c](){const y=arguments;return arguments.length&&typeof arguments[0]=="function"?m.apply(this,[M=>{const P=s(this,M);y[0].apply(null,[P])},M=>{y[1]&&y[1].apply(null,M)},arguments[2]]):m.apply(this,arguments).then(M=>s(this,M))}};t.RTCPeerConnection.prototype[c]=g[c]});const a=t.RTCPeerConnection.prototype.setLocalDescription;t.RTCPeerConnection.prototype.setLocalDescription=function(){return!arguments.length||!arguments[0].type?a.apply(this,arguments):(arguments[0]=o(this,arguments[0]),a.apply(this,arguments))};const l=Object.getOwnPropertyDescriptor(t.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(t.RTCPeerConnection.prototype,"localDescription",{get(){const c=l.get.apply(this);return c.type===""?c:s(this,c)}}),t.RTCPeerConnection.prototype.removeTrack=function(m){if(this.signalingState==="closed")throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!m._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(m._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");this._streams=this._streams||{};let y;Object.keys(this._streams).forEach(k=>{this._streams[k].getTracks().find(P=>m.track===P)&&(y=this._streams[k])}),y&&(y.getTracks().length===1?this.removeStream(this._reverseStreams[y.id]):y.removeTrack(m.track),this.dispatchEvent(new Event("negotiationneeded")))}}function Id(t,e){!t.RTCPeerConnection&&t.webkitRTCPeerConnection&&(t.RTCPeerConnection=t.webkitRTCPeerConnection),t.RTCPeerConnection&&e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(n){const r=t.RTCPeerConnection.prototype[n],i={[n](){return arguments[0]=new(n==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};t.RTCPeerConnection.prototype[n]=i[n]})}function Ov(t,e){ms(t,"negotiationneeded",n=>{const r=n.target;if(!((e.version<72||r.getConfiguration&&r.getConfiguration().sdpSemantics==="plan-b")&&r.signalingState!=="stable"))return n})}const om=Object.freeze(Object.defineProperty({__proto__:null,fixNegotiationNeeded:Ov,shimAddTrackRemoveTrack:Nv,shimAddTrackRemoveTrackWithNative:Pv,shimGetSendersWithDtmf:Av,shimGetUserMedia:Iv,shimMediaStream:Tv,shimOnTrack:Mv,shimPeerConnection:Id,shimSenderReceiverGetStats:Bv},Symbol.toStringTag,{value:"Module"}));function Lv(t,e){const n=t&&t.navigator,r=t&&t.MediaStreamTrack;if(n.getUserMedia=function(i,s,o){Jh("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(i).then(s,o)},!(e.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const i=function(o,a,l){a in o&&!(l in o)&&(o[l]=o[a],delete o[a])},s=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(o){return typeof o=="object"&&typeof o.audio=="object"&&(o=JSON.parse(JSON.stringify(o)),i(o.audio,"autoGainControl","mozAutoGainControl"),i(o.audio,"noiseSuppression","mozNoiseSuppression")),s(o)},r&&r.prototype.getSettings){const o=r.prototype.getSettings;r.prototype.getSettings=function(){const a=o.apply(this,arguments);return i(a,"mozAutoGainControl","autoGainControl"),i(a,"mozNoiseSuppression","noiseSuppression"),a}}if(r&&r.prototype.applyConstraints){const o=r.prototype.applyConstraints;r.prototype.applyConstraints=function(a){return this.kind==="audio"&&typeof a=="object"&&(a=JSON.parse(JSON.stringify(a)),i(a,"autoGainControl","mozAutoGainControl"),i(a,"noiseSuppression","mozNoiseSuppression")),o.apply(this,[a])}}}}function P2(t,e){t.navigator.mediaDevices&&"getDisplayMedia"in t.navigator.mediaDevices||t.navigator.mediaDevices&&(t.navigator.mediaDevices.getDisplayMedia=function(r){if(!(r&&r.video)){const i=new DOMException("getDisplayMedia without video constraints is undefined");return i.name="NotFoundError",i.code=8,Promise.reject(i)}return r.video===!0?r.video={mediaSource:e}:r.video.mediaSource=e,t.navigator.mediaDevices.getUserMedia(r)})}function jv(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Td(t,e){if(typeof t!="object"||!(t.RTCPeerConnection||t.mozRTCPeerConnection))return;!t.RTCPeerConnection&&t.mozRTCPeerConnection&&(t.RTCPeerConnection=t.mozRTCPeerConnection),e.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(i){const s=t.RTCPeerConnection.prototype[i],o={[i](){return arguments[0]=new(i==="addIceCandidate"?t.RTCIceCandidate:t.RTCSessionDescription)(arguments[0]),s.apply(this,arguments)}};t.RTCPeerConnection.prototype[i]=o[i]});const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=t.RTCPeerConnection.prototype.getStats;t.RTCPeerConnection.prototype.getStats=function(){const[s,o,a]=arguments;return r.apply(this,[s||null]).then(l=>{if(e.version<53&&!o)try{l.forEach(c=>{c.type=n[c.type]||c.type})}catch(c){if(c.name!=="TypeError")throw c;l.forEach((m,g)=>{l.set(g,Object.assign({},m,{type:n[m.type]||m.type}))})}return l}).then(o,a)}}function Dv(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpSender.prototype)return;const e=t.RTCPeerConnection.prototype.getSenders;e&&(t.RTCPeerConnection.prototype.getSenders=function(){const i=e.apply(this,[]);return i.forEach(s=>s._pc=this),i});const n=t.RTCPeerConnection.prototype.addTrack;n&&(t.RTCPeerConnection.prototype.addTrack=function(){const i=n.apply(this,arguments);return i._pc=this,i}),t.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function Uv(t){if(!(typeof t=="object"&&t.RTCPeerConnection&&t.RTCRtpSender)||t.RTCRtpSender&&"getStats"in t.RTCRtpReceiver.prototype)return;const e=t.RTCPeerConnection.prototype.getReceivers;e&&(t.RTCPeerConnection.prototype.getReceivers=function(){const r=e.apply(this,[]);return r.forEach(i=>i._pc=this),r}),ms(t,"track",n=>(n.receiver._pc=n.srcElement,n)),t.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function Fv(t){!t.RTCPeerConnection||"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){Jh("removeStream","removeTrack"),this.getSenders().forEach(r=>{r.track&&n.getTracks().includes(r.track)&&this.removeTrack(r)})})}function zv(t){t.DataChannel&&!t.RTCDataChannel&&(t.RTCDataChannel=t.DataChannel)}function $v(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.addTransceiver;e&&(t.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let r=arguments[1]&&arguments[1].sendEncodings;r===void 0&&(r=[]),r=[...r];const i=r.length>0;i&&r.forEach(o=>{if("rid"in o&&!/^[a-z0-9]{0,16}$/i.test(o.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in o&&!(parseFloat(o.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in o&&!(parseFloat(o.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")});const s=e.apply(this,arguments);if(i){const{sender:o}=s,a=o.getParameters();(!("encodings"in a)||a.encodings.length===1&&Object.keys(a.encodings[0]).length===0)&&(a.encodings=r,o.sendEncodings=r,this.setParametersPromises.push(o.setParameters(a).then(()=>{delete o.sendEncodings}).catch(()=>{delete o.sendEncodings})))}return s})}function Vv(t){if(!(typeof t=="object"&&t.RTCRtpSender))return;const e=t.RTCRtpSender.prototype.getParameters;e&&(t.RTCRtpSender.prototype.getParameters=function(){const r=e.apply(this,arguments);return"encodings"in r||(r.encodings=[].concat(this.sendEncodings||[{}])),r})}function Kv(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}function Wv(t){if(!(typeof t=="object"&&t.RTCPeerConnection))return;const e=t.RTCPeerConnection.prototype.createAnswer;t.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then(()=>e.apply(this,arguments)).finally(()=>{this.setParametersPromises=[]}):e.apply(this,arguments)}}const am=Object.freeze(Object.defineProperty({__proto__:null,shimAddTransceiver:$v,shimCreateAnswer:Wv,shimCreateOffer:Kv,shimGetDisplayMedia:P2,shimGetParameters:Vv,shimGetUserMedia:Lv,shimOnTrack:jv,shimPeerConnection:Td,shimRTCDataChannel:zv,shimReceiverGetStats:Uv,shimRemoveStream:Fv,shimSenderGetStats:Dv},Symbol.toStringTag,{value:"Module"}));function Hv(t){if(!(typeof t!="object"||!t.RTCPeerConnection)){if("getLocalStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in t.RTCPeerConnection.prototype)){const e=t.RTCPeerConnection.prototype.addTrack;t.RTCPeerConnection.prototype.addStream=function(r){this._localStreams||(this._localStreams=[]),this._localStreams.includes(r)||this._localStreams.push(r),r.getAudioTracks().forEach(i=>e.call(this,i,r)),r.getVideoTracks().forEach(i=>e.call(this,i,r))},t.RTCPeerConnection.prototype.addTrack=function(r,...i){return i&&i.forEach(s=>{this._localStreams?this._localStreams.includes(s)||this._localStreams.push(s):this._localStreams=[s]}),e.apply(this,arguments)}}"removeStream"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.removeStream=function(n){this._localStreams||(this._localStreams=[]);const r=this._localStreams.indexOf(n);if(r===-1)return;this._localStreams.splice(r,1);const i=n.getTracks();this.getSenders().forEach(s=>{i.includes(s.track)&&this.removeTrack(s)})})}}function Zv(t){if(!(typeof t!="object"||!t.RTCPeerConnection)&&("getRemoteStreams"in t.RTCPeerConnection.prototype||(t.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in t.RTCPeerConnection.prototype))){Object.defineProperty(t.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(n){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=n),this.addEventListener("track",this._onaddstreampoly=r=>{r.streams.forEach(i=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(i))return;this._remoteStreams.push(i);const s=new Event("addstream");s.stream=i,this.dispatchEvent(s)})})}});const e=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){const r=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(i){i.streams.forEach(s=>{if(r._remoteStreams||(r._remoteStreams=[]),r._remoteStreams.indexOf(s)>=0)return;r._remoteStreams.push(s);const o=new Event("addstream");o.stream=s,r.dispatchEvent(o)})}),e.apply(r,arguments)}}}function qv(t){if(typeof t!="object"||!t.RTCPeerConnection)return;const e=t.RTCPeerConnection.prototype,n=e.createOffer,r=e.createAnswer,i=e.setLocalDescription,s=e.setRemoteDescription,o=e.addIceCandidate;e.createOffer=function(c,m){const g=arguments.length>=2?arguments[2]:arguments[0],y=n.apply(this,[g]);return m?(y.then(c,m),Promise.resolve()):y},e.createAnswer=function(c,m){const g=arguments.length>=2?arguments[2]:arguments[0],y=r.apply(this,[g]);return m?(y.then(c,m),Promise.resolve()):y};let a=function(l,c,m){const g=i.apply(this,[l]);return m?(g.then(c,m),Promise.resolve()):g};e.setLocalDescription=a,a=function(l,c,m){const g=s.apply(this,[l]);return m?(g.then(c,m),Promise.resolve()):g},e.setRemoteDescription=a,a=function(l,c,m){const g=o.apply(this,[l]);return m?(g.then(c,m),Promise.resolve()):g},e.addIceCandidate=a}function Gv(t){const e=t&&t.navigator;if(e.mediaDevices&&e.mediaDevices.getUserMedia){const n=e.mediaDevices,r=n.getUserMedia.bind(n);e.mediaDevices.getUserMedia=i=>r(Yv(i))}!e.getUserMedia&&e.mediaDevices&&e.mediaDevices.getUserMedia&&(e.getUserMedia=(function(r,i,s){e.mediaDevices.getUserMedia(r).then(i,s)}).bind(e))}function Yv(t){return t&&t.video!==void 0?Object.assign({},t,{video:Rv(t.video)}):t}function Jv(t){if(!t.RTCPeerConnection)return;const e=t.RTCPeerConnection;t.RTCPeerConnection=function(r,i){if(r&&r.iceServers){const s=[];for(let o=0;o<r.iceServers.length;o++){let a=r.iceServers[o];a.urls===void 0&&a.url?(Jh("RTCIceServer.url","RTCIceServer.urls"),a=JSON.parse(JSON.stringify(a)),a.urls=a.url,delete a.url,s.push(a)):s.push(r.iceServers[o])}r.iceServers=s}return new e(r,i)},t.RTCPeerConnection.prototype=e.prototype,"generateCertificate"in e&&Object.defineProperty(t.RTCPeerConnection,"generateCertificate",{get(){return e.generateCertificate}})}function Xv(t){typeof t=="object"&&t.RTCTrackEvent&&"receiver"in t.RTCTrackEvent.prototype&&!("transceiver"in t.RTCTrackEvent.prototype)&&Object.defineProperty(t.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function Qv(t){const e=t.RTCPeerConnection.prototype.createOffer;t.RTCPeerConnection.prototype.createOffer=function(r){if(r){typeof r.offerToReceiveAudio<"u"&&(r.offerToReceiveAudio=!!r.offerToReceiveAudio);const i=this.getTransceivers().find(o=>o.receiver.track.kind==="audio");r.offerToReceiveAudio===!1&&i?i.direction==="sendrecv"?i.setDirection?i.setDirection("sendonly"):i.direction="sendonly":i.direction==="recvonly"&&(i.setDirection?i.setDirection("inactive"):i.direction="inactive"):r.offerToReceiveAudio===!0&&!i&&this.addTransceiver("audio",{direction:"recvonly"}),typeof r.offerToReceiveVideo<"u"&&(r.offerToReceiveVideo=!!r.offerToReceiveVideo);const s=this.getTransceivers().find(o=>o.receiver.track.kind==="video");r.offerToReceiveVideo===!1&&s?s.direction==="sendrecv"?s.setDirection?s.setDirection("sendonly"):s.direction="sendonly":s.direction==="recvonly"&&(s.setDirection?s.setDirection("inactive"):s.direction="inactive"):r.offerToReceiveVideo===!0&&!s&&this.addTransceiver("video",{direction:"recvonly"})}return e.apply(this,arguments)}}function e1(t){typeof t!="object"||t.AudioContext||(t.AudioContext=t.webkitAudioContext)}const lm=Object.freeze(Object.defineProperty({__proto__:null,shimAudioContext:e1,shimCallbacksAPI:qv,shimConstraints:Yv,shimCreateOfferLegacy:Qv,shimGetUserMedia:Gv,shimLocalStreamsAPI:Hv,shimRTCIceServerUrls:Jv,shimRemoteStreamsAPI:Zv,shimTrackEventTransceiver:Xv},Symbol.toStringTag,{value:"Module"}));var t1={exports:{}};(function(t){const e={};e.generateIdentifier=function(){return Math.random().toString(36).substring(2,12)},e.localCName=e.generateIdentifier(),e.splitLines=function(n){return n.trim().split(`
`).map(r=>r.trim())},e.splitSections=function(n){return n.split(`
m=`).map((i,s)=>(s>0?"m="+i:i).trim()+`\r
`)},e.getDescription=function(n){const r=e.splitSections(n);return r&&r[0]},e.getMediaSections=function(n){const r=e.splitSections(n);return r.shift(),r},e.matchPrefix=function(n,r){return e.splitLines(n).filter(i=>i.indexOf(r)===0)},e.parseCandidate=function(n){let r;n.indexOf("a=candidate:")===0?r=n.substring(12).split(" "):r=n.substring(10).split(" ");const i={foundation:r[0],component:{1:"rtp",2:"rtcp"}[r[1]]||r[1],protocol:r[2].toLowerCase(),priority:parseInt(r[3],10),ip:r[4],address:r[4],port:parseInt(r[5],10),type:r[7]};for(let s=8;s<r.length;s+=2)switch(r[s]){case"raddr":i.relatedAddress=r[s+1];break;case"rport":i.relatedPort=parseInt(r[s+1],10);break;case"tcptype":i.tcpType=r[s+1];break;case"ufrag":i.ufrag=r[s+1],i.usernameFragment=r[s+1];break;default:i[r[s]]===void 0&&(i[r[s]]=r[s+1]);break}return i},e.writeCandidate=function(n){const r=[];r.push(n.foundation);const i=n.component;i==="rtp"?r.push(1):i==="rtcp"?r.push(2):r.push(i),r.push(n.protocol.toUpperCase()),r.push(n.priority),r.push(n.address||n.ip),r.push(n.port);const s=n.type;return r.push("typ"),r.push(s),s!=="host"&&n.relatedAddress&&n.relatedPort&&(r.push("raddr"),r.push(n.relatedAddress),r.push("rport"),r.push(n.relatedPort)),n.tcpType&&n.protocol.toLowerCase()==="tcp"&&(r.push("tcptype"),r.push(n.tcpType)),(n.usernameFragment||n.ufrag)&&(r.push("ufrag"),r.push(n.usernameFragment||n.ufrag)),"candidate:"+r.join(" ")},e.parseIceOptions=function(n){return n.substring(14).split(" ")},e.parseRtpMap=function(n){let r=n.substring(9).split(" ");const i={payloadType:parseInt(r.shift(),10)};return r=r[0].split("/"),i.name=r[0],i.clockRate=parseInt(r[1],10),i.channels=r.length===3?parseInt(r[2],10):1,i.numChannels=i.channels,i},e.writeRtpMap=function(n){let r=n.payloadType;n.preferredPayloadType!==void 0&&(r=n.preferredPayloadType);const i=n.channels||n.numChannels||1;return"a=rtpmap:"+r+" "+n.name+"/"+n.clockRate+(i!==1?"/"+i:"")+`\r
`},e.parseExtmap=function(n){const r=n.substring(9).split(" ");return{id:parseInt(r[0],10),direction:r[0].indexOf("/")>0?r[0].split("/")[1]:"sendrecv",uri:r[1],attributes:r.slice(2).join(" ")}},e.writeExtmap=function(n){return"a=extmap:"+(n.id||n.preferredId)+(n.direction&&n.direction!=="sendrecv"?"/"+n.direction:"")+" "+n.uri+(n.attributes?" "+n.attributes:"")+`\r
`},e.parseFmtp=function(n){const r={};let i;const s=n.substring(n.indexOf(" ")+1).split(";");for(let o=0;o<s.length;o++)i=s[o].trim().split("="),r[i[0].trim()]=i[1];return r},e.writeFmtp=function(n){let r="",i=n.payloadType;if(n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.parameters&&Object.keys(n.parameters).length){const s=[];Object.keys(n.parameters).forEach(o=>{n.parameters[o]!==void 0?s.push(o+"="+n.parameters[o]):s.push(o)}),r+="a=fmtp:"+i+" "+s.join(";")+`\r
`}return r},e.parseRtcpFb=function(n){const r=n.substring(n.indexOf(" ")+1).split(" ");return{type:r.shift(),parameter:r.join(" ")}},e.writeRtcpFb=function(n){let r="",i=n.payloadType;return n.preferredPayloadType!==void 0&&(i=n.preferredPayloadType),n.rtcpFeedback&&n.rtcpFeedback.length&&n.rtcpFeedback.forEach(s=>{r+="a=rtcp-fb:"+i+" "+s.type+(s.parameter&&s.parameter.length?" "+s.parameter:"")+`\r
`}),r},e.parseSsrcMedia=function(n){const r=n.indexOf(" "),i={ssrc:parseInt(n.substring(7,r),10)},s=n.indexOf(":",r);return s>-1?(i.attribute=n.substring(r+1,s),i.value=n.substring(s+1)):i.attribute=n.substring(r+1),i},e.parseSsrcGroup=function(n){const r=n.substring(13).split(" ");return{semantics:r.shift(),ssrcs:r.map(i=>parseInt(i,10))}},e.getMid=function(n){const r=e.matchPrefix(n,"a=mid:")[0];if(r)return r.substring(6)},e.parseFingerprint=function(n){const r=n.substring(14).split(" ");return{algorithm:r[0].toLowerCase(),value:r[1].toUpperCase()}},e.getDtlsParameters=function(n,r){return{role:"auto",fingerprints:e.matchPrefix(n+r,"a=fingerprint:").map(e.parseFingerprint)}},e.writeDtlsParameters=function(n,r){let i="a=setup:"+r+`\r
`;return n.fingerprints.forEach(s=>{i+="a=fingerprint:"+s.algorithm+" "+s.value+`\r
`}),i},e.parseCryptoLine=function(n){const r=n.substring(9).split(" ");return{tag:parseInt(r[0],10),cryptoSuite:r[1],keyParams:r[2],sessionParams:r.slice(3)}},e.writeCryptoLine=function(n){return"a=crypto:"+n.tag+" "+n.cryptoSuite+" "+(typeof n.keyParams=="object"?e.writeCryptoKeyParams(n.keyParams):n.keyParams)+(n.sessionParams?" "+n.sessionParams.join(" "):"")+`\r
`},e.parseCryptoKeyParams=function(n){if(n.indexOf("inline:")!==0)return null;const r=n.substring(7).split("|");return{keyMethod:"inline",keySalt:r[0],lifeTime:r[1],mkiValue:r[2]?r[2].split(":")[0]:void 0,mkiLength:r[2]?r[2].split(":")[1]:void 0}},e.writeCryptoKeyParams=function(n){return n.keyMethod+":"+n.keySalt+(n.lifeTime?"|"+n.lifeTime:"")+(n.mkiValue&&n.mkiLength?"|"+n.mkiValue+":"+n.mkiLength:"")},e.getCryptoParameters=function(n,r){return e.matchPrefix(n+r,"a=crypto:").map(e.parseCryptoLine)},e.getIceParameters=function(n,r){const i=e.matchPrefix(n+r,"a=ice-ufrag:")[0],s=e.matchPrefix(n+r,"a=ice-pwd:")[0];return i&&s?{usernameFragment:i.substring(12),password:s.substring(10)}:null},e.writeIceParameters=function(n){let r="a=ice-ufrag:"+n.usernameFragment+`\r
a=ice-pwd:`+n.password+`\r
`;return n.iceLite&&(r+=`a=ice-lite\r
`),r},e.parseRtpParameters=function(n){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},s=e.splitLines(n)[0].split(" ");r.profile=s[2];for(let a=3;a<s.length;a++){const l=s[a],c=e.matchPrefix(n,"a=rtpmap:"+l+" ")[0];if(c){const m=e.parseRtpMap(c),g=e.matchPrefix(n,"a=fmtp:"+l+" ");switch(m.parameters=g.length?e.parseFmtp(g[0]):{},m.rtcpFeedback=e.matchPrefix(n,"a=rtcp-fb:"+l+" ").map(e.parseRtcpFb),r.codecs.push(m),m.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(m.name.toUpperCase());break}}}e.matchPrefix(n,"a=extmap:").forEach(a=>{r.headerExtensions.push(e.parseExtmap(a))});const o=e.matchPrefix(n,"a=rtcp-fb:* ").map(e.parseRtcpFb);return r.codecs.forEach(a=>{o.forEach(l=>{a.rtcpFeedback.find(m=>m.type===l.type&&m.parameter===l.parameter)||a.rtcpFeedback.push(l)})}),r},e.writeRtpDescription=function(n,r){let i="";i+="m="+n+" ",i+=r.codecs.length>0?"9":"0",i+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",i+=r.codecs.map(o=>o.preferredPayloadType!==void 0?o.preferredPayloadType:o.payloadType).join(" ")+`\r
`,i+=`c=IN IP4 0.0.0.0\r
`,i+=`a=rtcp:9 IN IP4 0.0.0.0\r
`,r.codecs.forEach(o=>{i+=e.writeRtpMap(o),i+=e.writeFmtp(o),i+=e.writeRtcpFb(o)});let s=0;return r.codecs.forEach(o=>{o.maxptime>s&&(s=o.maxptime)}),s>0&&(i+="a=maxptime:"+s+`\r
`),r.headerExtensions&&r.headerExtensions.forEach(o=>{i+=e.writeExtmap(o)}),i},e.parseRtpEncodingParameters=function(n){const r=[],i=e.parseRtpParameters(n),s=i.fecMechanisms.indexOf("RED")!==-1,o=i.fecMechanisms.indexOf("ULPFEC")!==-1,a=e.matchPrefix(n,"a=ssrc:").map(y=>e.parseSsrcMedia(y)).filter(y=>y.attribute==="cname"),l=a.length>0&&a[0].ssrc;let c;const m=e.matchPrefix(n,"a=ssrc-group:FID").map(y=>y.substring(17).split(" ").map(M=>parseInt(M,10)));m.length>0&&m[0].length>1&&m[0][0]===l&&(c=m[0][1]),i.codecs.forEach(y=>{if(y.name.toUpperCase()==="RTX"&&y.parameters.apt){let k={ssrc:l,codecPayloadType:parseInt(y.parameters.apt,10)};l&&c&&(k.rtx={ssrc:c}),r.push(k),s&&(k=JSON.parse(JSON.stringify(k)),k.fec={ssrc:l,mechanism:o?"red+ulpfec":"red"},r.push(k))}}),r.length===0&&l&&r.push({ssrc:l});let g=e.matchPrefix(n,"b=");return g.length&&(g[0].indexOf("b=TIAS:")===0?g=parseInt(g[0].substring(7),10):g[0].indexOf("b=AS:")===0?g=parseInt(g[0].substring(5),10)*1e3*.95-50*40*8:g=void 0,r.forEach(y=>{y.maxBitrate=g})),r},e.parseRtcpParameters=function(n){const r={},i=e.matchPrefix(n,"a=ssrc:").map(a=>e.parseSsrcMedia(a)).filter(a=>a.attribute==="cname")[0];i&&(r.cname=i.value,r.ssrc=i.ssrc);const s=e.matchPrefix(n,"a=rtcp-rsize");r.reducedSize=s.length>0,r.compound=s.length===0;const o=e.matchPrefix(n,"a=rtcp-mux");return r.mux=o.length>0,r},e.writeRtcpParameters=function(n){let r="";return n.reducedSize&&(r+=`a=rtcp-rsize\r
`),n.mux&&(r+=`a=rtcp-mux\r
`),n.ssrc!==void 0&&n.cname&&(r+="a=ssrc:"+n.ssrc+" cname:"+n.cname+`\r
`),r},e.parseMsid=function(n){let r;const i=e.matchPrefix(n,"a=msid:");if(i.length===1)return r=i[0].substring(7).split(" "),{stream:r[0],track:r[1]};const s=e.matchPrefix(n,"a=ssrc:").map(o=>e.parseSsrcMedia(o)).filter(o=>o.attribute==="msid");if(s.length>0)return r=s[0].value.split(" "),{stream:r[0],track:r[1]}},e.parseSctpDescription=function(n){const r=e.parseMLine(n),i=e.matchPrefix(n,"a=max-message-size:");let s;i.length>0&&(s=parseInt(i[0].substring(19),10)),isNaN(s)&&(s=65536);const o=e.matchPrefix(n,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:r.fmt,maxMessageSize:s};const a=e.matchPrefix(n,"a=sctpmap:");if(a.length>0){const l=a[0].substring(10).split(" ");return{port:parseInt(l[0],10),protocol:l[1],maxMessageSize:s}}},e.writeSctpDescription=function(n,r){let i=[];return n.protocol!=="DTLS/SCTP"?i=["m="+n.kind+" 9 "+n.protocol+" "+r.protocol+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctp-port:"+r.port+`\r
`]:i=["m="+n.kind+" 9 "+n.protocol+" "+r.port+`\r
`,`c=IN IP4 0.0.0.0\r
`,"a=sctpmap:"+r.port+" "+r.protocol+` 65535\r
`],r.maxMessageSize!==void 0&&i.push("a=max-message-size:"+r.maxMessageSize+`\r
`),i.join("")},e.generateSessionId=function(){return Math.random().toString().substr(2,22)},e.writeSessionBoilerplate=function(n,r,i){let s;const o=r!==void 0?r:2;return n?s=n:s=e.generateSessionId(),`v=0\r
o=`+(i||"thisisadapterortc")+" "+s+" "+o+` IN IP4 127.0.0.1\r
s=-\r
t=0 0\r
`},e.getDirection=function(n,r){const i=e.splitLines(n);for(let s=0;s<i.length;s++)switch(i[s]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return i[s].substring(2)}return r?e.getDirection(r):"sendrecv"},e.getKind=function(n){return e.splitLines(n)[0].split(" ")[0].substring(2)},e.isRejected=function(n){return n.split(" ",2)[1]==="0"},e.parseMLine=function(n){const i=e.splitLines(n)[0].substring(2).split(" ");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(" ")}},e.parseOLine=function(n){const i=e.matchPrefix(n,"o=")[0].substring(2).split(" ");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},e.isValidSDP=function(n){if(typeof n!="string"||n.length===0)return!1;const r=e.splitLines(n);for(let i=0;i<r.length;i++)if(r[i].length<2||r[i].charAt(1)!=="=")return!1;return!0},t.exports=e})(t1);var n1=t1.exports;const io=Fa(n1),N2=bx({__proto__:null,default:io},[n1]);function Vl(t){if(!t.RTCIceCandidate||t.RTCIceCandidate&&"foundation"in t.RTCIceCandidate.prototype)return;const e=t.RTCIceCandidate;t.RTCIceCandidate=function(r){if(typeof r=="object"&&r.candidate&&r.candidate.indexOf("a=")===0&&(r=JSON.parse(JSON.stringify(r)),r.candidate=r.candidate.substring(2)),r.candidate&&r.candidate.length){const i=new e(r),s=io.parseCandidate(r.candidate);for(const o in s)o in i||Object.defineProperty(i,o,{value:s[o]});return i.toJSON=function(){return{candidate:i.candidate,sdpMid:i.sdpMid,sdpMLineIndex:i.sdpMLineIndex,usernameFragment:i.usernameFragment}},i}return new e(r)},t.RTCIceCandidate.prototype=e.prototype,ms(t,"icecandidate",n=>(n.candidate&&Object.defineProperty(n,"candidate",{value:new t.RTCIceCandidate(n.candidate),writable:"false"}),n))}function Md(t){!t.RTCIceCandidate||t.RTCIceCandidate&&"relayProtocol"in t.RTCIceCandidate.prototype||ms(t,"icecandidate",e=>{if(e.candidate){const n=io.parseCandidate(e.candidate.candidate);n.type==="relay"&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[n.priority>>24])}return e})}function Kl(t,e){if(!t.RTCPeerConnection)return;"sctp"in t.RTCPeerConnection.prototype||Object.defineProperty(t.RTCPeerConnection.prototype,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp}});const n=function(a){if(!a||!a.sdp)return!1;const l=io.splitSections(a.sdp);return l.shift(),l.some(c=>{const m=io.parseMLine(c);return m&&m.kind==="application"&&m.protocol.indexOf("SCTP")!==-1})},r=function(a){const l=a.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(l===null||l.length<2)return-1;const c=parseInt(l[1],10);return c!==c?-1:c},i=function(a){let l=65536;return e.browser==="firefox"&&(e.version<57?a===-1?l=16384:l=2147483637:e.version<60?l=e.version===57?65535:65536:l=2147483637),l},s=function(a,l){let c=65536;e.browser==="firefox"&&e.version===57&&(c=65535);const m=io.matchPrefix(a.sdp,"a=max-message-size:");return m.length>0?c=parseInt(m[0].substring(19),10):e.browser==="firefox"&&l!==-1&&(c=2147483637),c},o=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,e.browser==="chrome"&&e.version>=76){const{sdpSemantics:l}=this.getConfiguration();l==="plan-b"&&Object.defineProperty(this,"sctp",{get(){return typeof this._sctp>"u"?null:this._sctp},enumerable:!0,configurable:!0})}if(n(arguments[0])){const l=r(arguments[0]),c=i(l),m=s(arguments[0],l);let g;c===0&&m===0?g=Number.POSITIVE_INFINITY:c===0||m===0?g=Math.max(c,m):g=Math.min(c,m);const y={};Object.defineProperty(y,"maxMessageSize",{get(){return g}}),this._sctp=y}return o.apply(this,arguments)}}function Wl(t){if(!(t.RTCPeerConnection&&"createDataChannel"in t.RTCPeerConnection.prototype))return;function e(r,i){const s=r.send;r.send=function(){const a=arguments[0],l=a.length||a.size||a.byteLength;if(r.readyState==="open"&&i.sctp&&l>i.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+i.sctp.maxMessageSize+" bytes)");return s.apply(r,arguments)}}const n=t.RTCPeerConnection.prototype.createDataChannel;t.RTCPeerConnection.prototype.createDataChannel=function(){const i=n.apply(this,arguments);return e(i,this),i},ms(t,"datachannel",r=>(e(r.channel,r.target),r))}function Ad(t){if(!t.RTCPeerConnection||"connectionState"in t.RTCPeerConnection.prototype)return;const e=t.RTCPeerConnection.prototype;Object.defineProperty(e,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(n){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),n&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=n)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach(n=>{const r=e[n];e[n]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=i=>{const s=i.target;if(s._lastConnectionState!==s.connectionState){s._lastConnectionState=s.connectionState;const o=new Event("connectionstatechange",i);s.dispatchEvent(o)}return i},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}})}function Bd(t,e){if(!t.RTCPeerConnection||e.browser==="chrome"&&e.version>=71||e.browser==="safari"&&e._safariVersion>=13.1)return;const n=t.RTCPeerConnection.prototype.setRemoteDescription;t.RTCPeerConnection.prototype.setRemoteDescription=function(i){if(i&&i.sdp&&i.sdp.indexOf(`
a=extmap-allow-mixed`)!==-1){const s=i.sdp.split(`
`).filter(o=>o.trim()!=="a=extmap-allow-mixed").join(`
`);t.RTCSessionDescription&&i instanceof t.RTCSessionDescription?arguments[0]=new t.RTCSessionDescription({type:i.type,sdp:s}):i.sdp=s}return n.apply(this,arguments)}}function Hl(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.addIceCandidate;!n||n.length===0||(t.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(e.browser==="chrome"&&e.version<78||e.browser==="firefox"&&e.version<68||e.browser==="safari")&&arguments[0]&&arguments[0].candidate===""?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function Zl(t,e){if(!(t.RTCPeerConnection&&t.RTCPeerConnection.prototype))return;const n=t.RTCPeerConnection.prototype.setLocalDescription;!n||n.length===0||(t.RTCPeerConnection.prototype.setLocalDescription=function(){let i=arguments[0]||{};if(typeof i!="object"||i.type&&i.sdp)return n.apply(this,arguments);if(i={type:i.type,sdp:i.sdp},!i.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":i.type="offer";break;default:i.type="answer";break}return i.sdp||i.type!=="offer"&&i.type!=="answer"?n.apply(this,[i]):(i.type==="offer"?this.createOffer:this.createAnswer).apply(this).then(o=>n.apply(this,[o]))})}const O2=Object.freeze(Object.defineProperty({__proto__:null,removeExtmapAllowMixed:Bd,shimAddIceCandidateNullOrEmpty:Hl,shimConnectionState:Ad,shimMaxMessageSize:Kl,shimParameterlessSetLocalDescription:Zl,shimRTCIceCandidate:Vl,shimRTCIceCandidateRelayProtocol:Md,shimSendThrowTypeError:Wl},Symbol.toStringTag,{value:"Module"}));function L2({window:t}={},e={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const n=Cv,r=B2(t),i={browserDetails:r,commonShim:O2,extractVersion:Zo,disableLog:M2,disableWarnings:A2,sdp:N2};switch(r.browser){case"chrome":if(!om||!Id||!e.shimChrome)return n("Chrome shim is not included in this adapter release."),i;if(r.version===null)return n("Chrome shim can not determine version, not shimming."),i;n("adapter.js shimming chrome."),i.browserShim=om,Hl(t,r),Zl(t),Iv(t,r),Tv(t),Id(t,r),Mv(t),Nv(t,r),Av(t),Bv(t),Ov(t,r),Vl(t),Md(t),Ad(t),Kl(t,r),Wl(t),Bd(t,r);break;case"firefox":if(!am||!Td||!e.shimFirefox)return n("Firefox shim is not included in this adapter release."),i;n("adapter.js shimming firefox."),i.browserShim=am,Hl(t,r),Zl(t),Lv(t,r),Td(t,r),jv(t),Fv(t),Dv(t),Uv(t),zv(t),$v(t),Vv(t),Kv(t),Wv(t),Vl(t),Ad(t),Kl(t,r),Wl(t);break;case"safari":if(!lm||!e.shimSafari)return n("Safari shim is not included in this adapter release."),i;n("adapter.js shimming safari."),i.browserShim=lm,Hl(t,r),Zl(t),Jv(t),Qv(t),qv(t),Hv(t),Zv(t),Xv(t),Gv(t),e1(t),Vl(t),Md(t),Kl(t,r),Wl(t),Bd(t,r);break;default:n("Unsupported browser!");break}return i}const um=L2({window:typeof window>"u"?void 0:window});function gs(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}class r1{constructor(){this.chunkedMTU=16300,this._dataCount=1,this.chunk=e=>{const n=[],r=e.byteLength,i=Math.ceil(r/this.chunkedMTU);let s=0,o=0;for(;o<r;){const a=Math.min(r,o+this.chunkedMTU),l=e.slice(o,a),c={__peerData:this._dataCount,n:s,data:l,total:i};n.push(c),o=a,s++}return this._dataCount++,n}}}function j2(t){let e=0;for(const i of t)e+=i.byteLength;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.byteLength;return n}const hf=um.default||um,$o=new class{isWebRTCSupported(){return typeof RTCPeerConnection<"u"}isBrowserSupported(){const t=this.getBrowser(),e=this.getVersion();return this.supportedBrowsers.includes(t)?t==="chrome"?e>=this.minChromeVersion:t==="firefox"?e>=this.minFirefoxVersion:t==="safari"?!this.isIOS&&e>=this.minSafariVersion:!1:!1}getBrowser(){return hf.browserDetails.browser}getVersion(){return hf.browserDetails.version||0}isUnifiedPlanSupported(){const t=this.getBrowser(),e=hf.browserDetails.version||0;if(t==="chrome"&&e<this.minChromeVersion)return!1;if(t==="firefox"&&e>=this.minFirefoxVersion)return!0;if(!window.RTCRtpTransceiver||!("currentDirection"in RTCRtpTransceiver.prototype))return!1;let n,r=!1;try{n=new RTCPeerConnection,n.addTransceiver("audio"),r=!0}catch{}finally{n&&n.close()}return r}toString(){return`Supports:
    browser:${this.getBrowser()}
    version:${this.getVersion()}
    isIOS:${this.isIOS}
    isWebRTCSupported:${this.isWebRTCSupported()}
    isBrowserSupported:${this.isBrowserSupported()}
    isUnifiedPlanSupported:${this.isUnifiedPlanSupported()}`}constructor(){this.isIOS=typeof navigator<"u"?["iPad","iPhone","iPod"].includes(navigator.platform):!1,this.supportedBrowsers=["firefox","chrome","safari"],this.minFirefoxVersion=59,this.minChromeVersion=72,this.minSafariVersion=605}},D2=t=>!t||/^[A-Za-z0-9]+(?:[ _-][A-Za-z0-9]+)*$/.test(t),i1=()=>Math.random().toString(36).slice(2),cm={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:["turn:eu-0.turn.peerjs.com:3478","turn:us-0.turn.peerjs.com:3478"],username:"peerjs",credential:"peerjsp"}],sdpSemantics:"unified-plan"};class U2 extends r1{noop(){}blobToArrayBuffer(e,n){const r=new FileReader;return r.onload=function(i){i.target&&n(i.target.result)},r.readAsArrayBuffer(e),r}binaryStringToArrayBuffer(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r)&255;return n.buffer}isSecure(){return location.protocol==="https:"}constructor(...e){super(...e),this.CLOUD_HOST="0.peerjs.com",this.CLOUD_PORT=443,this.chunkedBrowsers={Chrome:1,chrome:1},this.defaultConfig=cm,this.browser=$o.getBrowser(),this.browserVersion=$o.getVersion(),this.pack=kv,this.unpack=bv,this.supports=function(){const n={browser:$o.isBrowserSupported(),webRTC:$o.isWebRTCSupported(),audioVideo:!1,data:!1,binaryBlob:!1,reliable:!1};if(!n.webRTC)return n;let r;try{r=new RTCPeerConnection(cm),n.audioVideo=!0;let i;try{i=r.createDataChannel("_PEERJSTEST",{ordered:!0}),n.data=!0,n.reliable=!!i.ordered;try{i.binaryType="blob",n.binaryBlob=!$o.isIOS}catch{}}catch{}finally{i&&i.close()}}catch{}finally{r&&r.close()}return n}(),this.validateId=D2,this.randomToken=i1}}const Cn=new U2,F2="PeerJS: ";class z2{get logLevel(){return this._logLevel}set logLevel(e){this._logLevel=e}log(...e){this._logLevel>=3&&this._print(3,...e)}warn(...e){this._logLevel>=2&&this._print(2,...e)}error(...e){this._logLevel>=1&&this._print(1,...e)}setLogFunction(e){this._print=e}_print(e,...n){const r=[F2,...n];for(const i in r)r[i]instanceof Error&&(r[i]="("+r[i].name+") "+r[i].message);e>=3?console.log(...r):e>=2?console.warn("WARNING",...r):e>=1&&console.error("ERROR",...r)}constructor(){this._logLevel=0}}var ce=new z2,Xh={},$2=Object.prototype.hasOwnProperty,xn="~";function ka(){}Object.create&&(ka.prototype=Object.create(null),new ka().__proto__||(xn=!1));function V2(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s1(t,e,n,r,i){if(typeof n!="function")throw new TypeError("The listener must be a function");var s=new V2(n,r||t,i),o=xn?xn+e:e;return t._events[o]?t._events[o].fn?t._events[o]=[t._events[o],s]:t._events[o].push(s):(t._events[o]=s,t._eventsCount++),t}function ql(t,e){--t._eventsCount===0?t._events=new ka:delete t._events[e]}function dn(){this._events=new ka,this._eventsCount=0}dn.prototype.eventNames=function(){var e=[],n,r;if(this._eventsCount===0)return e;for(r in n=this._events)$2.call(n,r)&&e.push(xn?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(n)):e};dn.prototype.listeners=function(e){var n=xn?xn+e:e,r=this._events[n];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,o=new Array(s);i<s;i++)o[i]=r[i].fn;return o};dn.prototype.listenerCount=function(e){var n=xn?xn+e:e,r=this._events[n];return r?r.fn?1:r.length:0};dn.prototype.emit=function(e,n,r,i,s,o){var a=xn?xn+e:e;if(!this._events[a])return!1;var l=this._events[a],c=arguments.length,m,g;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),c){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,n),!0;case 3:return l.fn.call(l.context,n,r),!0;case 4:return l.fn.call(l.context,n,r,i),!0;case 5:return l.fn.call(l.context,n,r,i,s),!0;case 6:return l.fn.call(l.context,n,r,i,s,o),!0}for(g=1,m=new Array(c-1);g<c;g++)m[g-1]=arguments[g];l.fn.apply(l.context,m)}else{var y=l.length,k;for(g=0;g<y;g++)switch(l[g].once&&this.removeListener(e,l[g].fn,void 0,!0),c){case 1:l[g].fn.call(l[g].context);break;case 2:l[g].fn.call(l[g].context,n);break;case 3:l[g].fn.call(l[g].context,n,r);break;case 4:l[g].fn.call(l[g].context,n,r,i);break;default:if(!m)for(k=1,m=new Array(c-1);k<c;k++)m[k-1]=arguments[k];l[g].fn.apply(l[g].context,m)}}return!0};dn.prototype.on=function(e,n,r){return s1(this,e,n,r,!1)};dn.prototype.once=function(e,n,r){return s1(this,e,n,r,!0)};dn.prototype.removeListener=function(e,n,r,i){var s=xn?xn+e:e;if(!this._events[s])return this;if(!n)return ql(this,s),this;var o=this._events[s];if(o.fn)o.fn===n&&(!i||o.once)&&(!r||o.context===r)&&ql(this,s);else{for(var a=0,l=[],c=o.length;a<c;a++)(o[a].fn!==n||i&&!o[a].once||r&&o[a].context!==r)&&l.push(o[a]);l.length?this._events[s]=l.length===1?l[0]:l:ql(this,s)}return this};dn.prototype.removeAllListeners=function(e){var n;return e?(n=xn?xn+e:e,this._events[n]&&ql(this,n)):(this._events=new ka,this._eventsCount=0),this};dn.prototype.off=dn.prototype.removeListener;dn.prototype.addListener=dn.prototype.on;dn.prefixed=xn;dn.EventEmitter=dn;Xh=dn;var ys={};gs(ys,"ConnectionType",()=>Mi);gs(ys,"PeerErrorType",()=>Bt);gs(ys,"BaseConnectionErrorType",()=>Pd);gs(ys,"DataConnectionErrorType",()=>Qh);gs(ys,"SerializationType",()=>mc);gs(ys,"SocketEventType",()=>yi);gs(ys,"ServerMessageType",()=>an);var Mi=function(t){return t.Data="data",t.Media="media",t}({}),Bt=function(t){return t.BrowserIncompatible="browser-incompatible",t.Disconnected="disconnected",t.InvalidID="invalid-id",t.InvalidKey="invalid-key",t.Network="network",t.PeerUnavailable="peer-unavailable",t.SslUnavailable="ssl-unavailable",t.ServerError="server-error",t.SocketError="socket-error",t.SocketClosed="socket-closed",t.UnavailableID="unavailable-id",t.WebRTC="webrtc",t}({}),Pd=function(t){return t.NegotiationFailed="negotiation-failed",t.ConnectionClosed="connection-closed",t}({}),Qh=function(t){return t.NotOpenYet="not-open-yet",t.MessageToBig="message-too-big",t}({}),mc=function(t){return t.Binary="binary",t.BinaryUTF8="binary-utf8",t.JSON="json",t.None="raw",t}({}),yi=function(t){return t.Message="message",t.Disconnected="disconnected",t.Error="error",t.Close="close",t}({}),an=function(t){return t.Heartbeat="HEARTBEAT",t.Candidate="CANDIDATE",t.Offer="OFFER",t.Answer="ANSWER",t.Open="OPEN",t.Error="ERROR",t.IdTaken="ID-TAKEN",t.InvalidKey="INVALID-KEY",t.Leave="LEAVE",t.Expire="EXPIRE",t}({});const o1="1.5.5";class K2 extends Xh.EventEmitter{constructor(e,n,r,i,s,o=5e3){super(),this.pingInterval=o,this._disconnected=!0,this._messagesQueue=[];const a=e?"wss://":"ws://";this._baseUrl=a+n+":"+r+i+"peerjs?key="+s}start(e,n){this._id=e;const r=`${this._baseUrl}&id=${e}&token=${n}`;this._socket||!this._disconnected||(this._socket=new WebSocket(r+"&version="+o1),this._disconnected=!1,this._socket.onmessage=i=>{let s;try{s=JSON.parse(i.data),ce.log("Server message received:",s)}catch{ce.log("Invalid server message",i.data);return}this.emit(yi.Message,s)},this._socket.onclose=i=>{this._disconnected||(ce.log("Socket closed.",i),this._cleanup(),this._disconnected=!0,this.emit(yi.Disconnected))},this._socket.onopen=()=>{this._disconnected||(this._sendQueuedMessages(),ce.log("Socket open"),this._scheduleHeartbeat())})}_scheduleHeartbeat(){this._wsPingTimer=setTimeout(()=>{this._sendHeartbeat()},this.pingInterval)}_sendHeartbeat(){if(!this._wsOpen()){ce.log("Cannot send heartbeat, because socket closed");return}const e=JSON.stringify({type:an.Heartbeat});this._socket.send(e),this._scheduleHeartbeat()}_wsOpen(){return!!this._socket&&this._socket.readyState===1}_sendQueuedMessages(){const e=[...this._messagesQueue];this._messagesQueue=[];for(const n of e)this.send(n)}send(e){if(this._disconnected)return;if(!this._id){this._messagesQueue.push(e);return}if(!e.type){this.emit(yi.Error,"Invalid message");return}if(!this._wsOpen())return;const n=JSON.stringify(e);this._socket.send(n)}close(){this._disconnected||(this._cleanup(),this._disconnected=!0)}_cleanup(){this._socket&&(this._socket.onopen=this._socket.onmessage=this._socket.onclose=null,this._socket.close(),this._socket=void 0),clearTimeout(this._wsPingTimer)}}class a1{constructor(e){this.connection=e}startConnection(e){const n=this._startPeerConnection();if(this.connection.peerConnection=n,this.connection.type===Mi.Media&&e._stream&&this._addTracksToConnection(e._stream,n),e.originator){const r=this.connection,i={ordered:!!e.reliable},s=n.createDataChannel(r.label,i);r._initializeDataChannel(s),this._makeOffer()}else this.handleSDP("OFFER",e.sdp)}_startPeerConnection(){ce.log("Creating RTCPeerConnection.");const e=new RTCPeerConnection(this.connection.provider.options.config);return this._setupListeners(e),e}_setupListeners(e){const n=this.connection.peer,r=this.connection.connectionId,i=this.connection.type,s=this.connection.provider;ce.log("Listening for ICE candidates."),e.onicecandidate=o=>{!o.candidate||!o.candidate.candidate||(ce.log(`Received ICE candidates for ${n}:`,o.candidate),s.socket.send({type:an.Candidate,payload:{candidate:o.candidate,type:i,connectionId:r},dst:n}))},e.oniceconnectionstatechange=()=>{switch(e.iceConnectionState){case"failed":ce.log("iceConnectionState is failed, closing connections to "+n),this.connection.emitError(Pd.NegotiationFailed,"Negotiation of connection to "+n+" failed."),this.connection.close();break;case"closed":ce.log("iceConnectionState is closed, closing connections to "+n),this.connection.emitError(Pd.ConnectionClosed,"Connection to "+n+" closed."),this.connection.close();break;case"disconnected":ce.log("iceConnectionState changed to disconnected on the connection with "+n);break;case"completed":e.onicecandidate=()=>{};break}this.connection.emit("iceStateChanged",e.iceConnectionState)},ce.log("Listening for data channel"),e.ondatachannel=o=>{ce.log("Received data channel");const a=o.channel;s.getConnection(n,r)._initializeDataChannel(a)},ce.log("Listening for remote stream"),e.ontrack=o=>{ce.log("Received remote stream");const a=o.streams[0],l=s.getConnection(n,r);if(l.type===Mi.Media){const c=l;this._addStreamToMediaConnection(a,c)}}}cleanup(){ce.log("Cleaning up PeerConnection to "+this.connection.peer);const e=this.connection.peerConnection;if(!e)return;this.connection.peerConnection=null,e.onicecandidate=e.oniceconnectionstatechange=e.ondatachannel=e.ontrack=()=>{};const n=e.signalingState!=="closed";let r=!1;const i=this.connection.dataChannel;i&&(r=!!i.readyState&&i.readyState!=="closed"),(n||r)&&e.close()}async _makeOffer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createOffer(this.connection.options.constraints);ce.log("Created offer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ce.log("Set localDescription:",r,`for:${this.connection.peer}`);let i={sdp:r,type:this.connection.type,connectionId:this.connection.connectionId,metadata:this.connection.metadata};if(this.connection.type===Mi.Data){const s=this.connection;i={...i,label:s.label,reliable:s.reliable,serialization:s.serialization}}n.socket.send({type:an.Offer,payload:i,dst:this.connection.peer})}catch(i){i!="OperationError: Failed to set local offer sdp: Called in wrong state: kHaveRemoteOffer"&&(n.emitError(Bt.WebRTC,i),ce.log("Failed to setLocalDescription, ",i))}}catch(r){n.emitError(Bt.WebRTC,r),ce.log("Failed to createOffer, ",r)}}async _makeAnswer(){const e=this.connection.peerConnection,n=this.connection.provider;try{const r=await e.createAnswer();ce.log("Created answer."),this.connection.options.sdpTransform&&typeof this.connection.options.sdpTransform=="function"&&(r.sdp=this.connection.options.sdpTransform(r.sdp)||r.sdp);try{await e.setLocalDescription(r),ce.log("Set localDescription:",r,`for:${this.connection.peer}`),n.socket.send({type:an.Answer,payload:{sdp:r,type:this.connection.type,connectionId:this.connection.connectionId},dst:this.connection.peer})}catch(i){n.emitError(Bt.WebRTC,i),ce.log("Failed to setLocalDescription, ",i)}}catch(r){n.emitError(Bt.WebRTC,r),ce.log("Failed to create answer, ",r)}}async handleSDP(e,n){n=new RTCSessionDescription(n);const r=this.connection.peerConnection,i=this.connection.provider;ce.log("Setting remote description",n);const s=this;try{await r.setRemoteDescription(n),ce.log(`Set remoteDescription:${e} for:${this.connection.peer}`),e==="OFFER"&&await s._makeAnswer()}catch(o){i.emitError(Bt.WebRTC,o),ce.log("Failed to setRemoteDescription, ",o)}}async handleCandidate(e){ce.log("handleCandidate:",e);try{await this.connection.peerConnection.addIceCandidate(e),ce.log(`Added ICE candidate for:${this.connection.peer}`)}catch(n){this.connection.provider.emitError(Bt.WebRTC,n),ce.log("Failed to handleCandidate, ",n)}}_addTracksToConnection(e,n){if(ce.log(`add tracks from stream ${e.id} to peer connection`),!n.addTrack)return ce.error("Your browser does't support RTCPeerConnection#addTrack. Ignored.");e.getTracks().forEach(r=>{n.addTrack(r,e)})}_addStreamToMediaConnection(e,n){ce.log(`add stream ${e.id} to media connection ${n.connectionId}`),n.addStream(e)}}class l1 extends Xh.EventEmitter{emitError(e,n){ce.error("Error:",n),this.emit("error",new W2(`${e}`,n))}}class W2 extends Error{constructor(e,n){typeof n=="string"?super(n):(super(),Object.assign(this,n)),this.type=e}}class u1 extends l1{get open(){return this._open}constructor(e,n,r){super(),this.peer=e,this.provider=n,this.options=r,this._open=!1,this.metadata=r.metadata}}var Xd;const ia=class ia extends u1{get type(){return Mi.Media}get localStream(){return this._localStream}get remoteStream(){return this._remoteStream}constructor(e,n,r){super(e,n,r),this._localStream=this.options._stream,this.connectionId=this.options.connectionId||ia.ID_PREFIX+Cn.randomToken(),this._negotiator=new a1(this),this._localStream&&this._negotiator.startConnection({_stream:this._localStream,originator:!0})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ce.log(`DC#${this.connectionId} dc connection success`),this.emit("willCloseOnRemote")},this.dataChannel.onclose=()=>{ce.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}addStream(e){ce.log("Receiving stream",e),this._remoteStream=e,super.emit("stream",e)}handleMessage(e){const n=e.type,r=e.payload;switch(e.type){case an.Answer:this._negotiator.handleSDP(n,r.sdp),this._open=!0;break;case an.Candidate:this._negotiator.handleCandidate(r.candidate);break;default:ce.warn(`Unrecognized message type:${n} from peer:${this.peer}`);break}}answer(e,n={}){if(this._localStream){ce.warn("Local stream already exists on this MediaConnection. Are you answering a call twice?");return}this._localStream=e,n&&n.sdpTransform&&(this.options.sdpTransform=n.sdpTransform),this._negotiator.startConnection({...this.options._payload,_stream:e});const r=this.provider._getMessages(this.connectionId);for(const i of r)this.handleMessage(i);this._open=!0}close(){this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this._localStream=null,this._remoteStream=null,this.provider&&(this.provider._removeConnection(this),this.provider=null),this.options&&this.options._stream&&(this.options._stream=null),this.open&&(this._open=!1,super.emit("close"))}};Xd=new WeakMap,Po(ia,Xd,ia.ID_PREFIX="mc_");let bu=ia;class H2{constructor(e){this._options=e}_buildRequest(e){const n=this._options.secure?"https":"http",{host:r,port:i,path:s,key:o}=this._options,a=new URL(`${n}://${r}:${i}${s}${o}/${e}`);return a.searchParams.set("ts",`${Date.now()}${Math.random()}`),a.searchParams.set("version",o1),fetch(a.href,{referrerPolicy:this._options.referrerPolicy})}async retrieveId(){try{const e=await this._buildRequest("id");if(e.status!==200)throw new Error(`Error. Status:${e.status}`);return e.text()}catch(e){ce.error("Error retrieving ID",e);let n="";throw this._options.path==="/"&&this._options.host!==Cn.CLOUD_HOST&&(n=" If you passed in a `path` to your self-hosted PeerServer, you'll also need to pass in that same path when creating a new Peer."),new Error("Could not get an ID from the server."+n)}}async listAllPeers(){try{const e=await this._buildRequest("peers");if(e.status!==200){if(e.status===401){let n="";throw this._options.host===Cn.CLOUD_HOST?n="It looks like you're using the cloud server. You can email team@peerjs.com to enable peer listing for your API key.":n="You need to enable `allow_discovery` on your self-hosted PeerServer to use this feature.",new Error("It doesn't look like you have permission to list peers IDs. "+n)}throw new Error(`Error. Status:${e.status}`)}return e.json()}catch(e){throw ce.error("Error retrieving list peers",e),new Error("Could not get list peers from the server."+e)}}}var Qd,eh;const Wi=class Wi extends u1{get type(){return Mi.Data}constructor(e,n,r){super(e,n,r),this.connectionId=this.options.connectionId||Wi.ID_PREFIX+i1(),this.label=this.options.label||this.connectionId,this.reliable=!!this.options.reliable,this._negotiator=new a1(this),this._negotiator.startConnection(this.options._payload||{originator:!0,reliable:this.reliable})}_initializeDataChannel(e){this.dataChannel=e,this.dataChannel.onopen=()=>{ce.log(`DC#${this.connectionId} dc connection success`),this._open=!0,this.emit("open")},this.dataChannel.onmessage=n=>{ce.log(`DC#${this.connectionId} dc onmessage:`,n.data)},this.dataChannel.onclose=()=>{ce.log(`DC#${this.connectionId} dc closed for:`,this.peer),this.close()}}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._negotiator&&(this._negotiator.cleanup(),this._negotiator=null),this.provider&&(this.provider._removeConnection(this),this.provider=null),this.dataChannel&&(this.dataChannel.onopen=null,this.dataChannel.onmessage=null,this.dataChannel.onclose=null,this.dataChannel=null),this.open&&(this._open=!1,super.emit("close"))}send(e,n=!1){if(!this.open){this.emitError(Qh.NotOpenYet,"Connection is not open. You should listen for the `open` event before sending messages.");return}return this._send(e,n)}async handleMessage(e){const n=e.payload;switch(e.type){case an.Answer:await this._negotiator.handleSDP(e.type,n.sdp);break;case an.Candidate:await this._negotiator.handleCandidate(n.candidate);break;default:ce.warn("Unrecognized message type:",e.type,"from peer:",this.peer);break}}};Qd=new WeakMap,eh=new WeakMap,Po(Wi,Qd,Wi.ID_PREFIX="dc_"),Po(Wi,eh,Wi.MAX_BUFFERED_AMOUNT=8388608);let ku=Wi;class ep extends ku{get bufferSize(){return this._bufferSize}_initializeDataChannel(e){super._initializeDataChannel(e),this.dataChannel.binaryType="arraybuffer",this.dataChannel.addEventListener("message",n=>this._handleDataMessage(n))}_bufferedSend(e){(this._buffering||!this._trySend(e))&&(this._buffer.push(e),this._bufferSize=this._buffer.length)}_trySend(e){if(!this.open)return!1;if(this.dataChannel.bufferedAmount>ku.MAX_BUFFERED_AMOUNT)return this._buffering=!0,setTimeout(()=>{this._buffering=!1,this._tryBuffer()},50),!1;try{this.dataChannel.send(e)}catch(n){return ce.error(`DC#:${this.connectionId} Error when sending:`,n),this._buffering=!0,this.close(),!1}return!0}_tryBuffer(){if(!this.open||this._buffer.length===0)return;const e=this._buffer[0];this._trySend(e)&&(this._buffer.shift(),this._bufferSize=this._buffer.length,this._tryBuffer())}close(e){if(e!=null&&e.flush){this.send({__peerData:{type:"close"}});return}this._buffer=[],this._bufferSize=0,super.close()}constructor(...e){super(...e),this._buffer=[],this._bufferSize=0,this._buffering=!1}}class pf extends ep{close(e){super.close(e),this._chunkedData={}}constructor(e,n,r){super(e,n,r),this.chunker=new r1,this.serialization=mc.Binary,this._chunkedData={}}_handleDataMessage({data:e}){const n=bv(e),r=n.__peerData;if(r){if(r.type==="close"){this.close();return}this._handleChunk(n);return}this.emit("data",n)}_handleChunk(e){const n=e.__peerData,r=this._chunkedData[n]||{data:[],count:0,total:e.total};if(r.data[e.n]=new Uint8Array(e.data),r.count++,this._chunkedData[n]=r,r.total===r.count){delete this._chunkedData[n];const i=j2(r.data);this._handleDataMessage({data:i})}}_send(e,n){const r=kv(e);if(r instanceof Promise)return this._send_blob(r);if(!n&&r.byteLength>this.chunker.chunkedMTU){this._sendChunks(r);return}this._bufferedSend(r)}async _send_blob(e){const n=await e;if(n.byteLength>this.chunker.chunkedMTU){this._sendChunks(n);return}this._bufferedSend(n)}_sendChunks(e){const n=this.chunker.chunk(e);ce.log(`DC#${this.connectionId} Try to send ${n.length} chunks...`);for(const r of n)this.send(r,!0)}}class Z2 extends ep{_handleDataMessage({data:e}){super.emit("data",e)}_send(e,n){this._bufferedSend(e)}constructor(...e){super(...e),this.serialization=mc.None}}class q2 extends ep{_handleDataMessage({data:e}){const n=this.parse(this.decoder.decode(e)),r=n.__peerData;if(r&&r.type==="close"){this.close();return}this.emit("data",n)}_send(e,n){const r=this.encoder.encode(this.stringify(e));if(r.byteLength>=Cn.chunkedMTU){this.emitError(Qh.MessageToBig,"Message too big for JSON channel");return}this._bufferedSend(r)}constructor(...e){super(...e),this.serialization=mc.JSON,this.encoder=new TextEncoder,this.decoder=new TextDecoder,this.stringify=JSON.stringify,this.parse=JSON.parse}}var th;const sa=class sa extends l1{get id(){return this._id}get options(){return this._options}get open(){return this._open}get socket(){return this._socket}get connections(){const e=Object.create(null);for(const[n,r]of this._connections)e[n]=r;return e}get destroyed(){return this._destroyed}get disconnected(){return this._disconnected}constructor(e,n){super(),this._serializers={raw:Z2,json:q2,binary:pf,"binary-utf8":pf,default:pf},this._id=null,this._lastServerId=null,this._destroyed=!1,this._disconnected=!1,this._open=!1,this._connections=new Map,this._lostMessages=new Map;let r;if(e&&e.constructor==Object?n=e:e&&(r=e.toString()),n={debug:0,host:Cn.CLOUD_HOST,port:Cn.CLOUD_PORT,path:"/",key:sa.DEFAULT_KEY,token:Cn.randomToken(),config:Cn.defaultConfig,referrerPolicy:"strict-origin-when-cross-origin",serializers:{},...n},this._options=n,this._serializers={...this._serializers,...this.options.serializers},this._options.host==="/"&&(this._options.host=window.location.hostname),this._options.path&&(this._options.path[0]!=="/"&&(this._options.path="/"+this._options.path),this._options.path[this._options.path.length-1]!=="/"&&(this._options.path+="/")),this._options.secure===void 0&&this._options.host!==Cn.CLOUD_HOST?this._options.secure=Cn.isSecure():this._options.host==Cn.CLOUD_HOST&&(this._options.secure=!0),this._options.logFunction&&ce.setLogFunction(this._options.logFunction),ce.logLevel=this._options.debug||0,this._api=new H2(n),this._socket=this._createServerConnection(),!Cn.supports.audioVideo&&!Cn.supports.data){this._delayedAbort(Bt.BrowserIncompatible,"The current browser does not support WebRTC");return}if(r&&!Cn.validateId(r)){this._delayedAbort(Bt.InvalidID,`ID "${r}" is invalid`);return}r?this._initialize(r):this._api.retrieveId().then(i=>this._initialize(i)).catch(i=>this._abort(Bt.ServerError,i))}_createServerConnection(){const e=new K2(this._options.secure,this._options.host,this._options.port,this._options.path,this._options.key,this._options.pingInterval);return e.on(yi.Message,n=>{this._handleMessage(n)}),e.on(yi.Error,n=>{this._abort(Bt.SocketError,n)}),e.on(yi.Disconnected,()=>{this.disconnected||(this.emitError(Bt.Network,"Lost connection to server."),this.disconnect())}),e.on(yi.Close,()=>{this.disconnected||this._abort(Bt.SocketClosed,"Underlying socket is already closed.")}),e}_initialize(e){this._id=e,this.socket.start(e,this._options.token)}_handleMessage(e){const n=e.type,r=e.payload,i=e.src;switch(n){case an.Open:this._lastServerId=this.id,this._open=!0,this.emit("open",this.id);break;case an.Error:this._abort(Bt.ServerError,r.msg);break;case an.IdTaken:this._abort(Bt.UnavailableID,`ID "${this.id}" is taken`);break;case an.InvalidKey:this._abort(Bt.InvalidKey,`API KEY "${this._options.key}" is invalid`);break;case an.Leave:ce.log(`Received leave message from ${i}`),this._cleanupPeer(i),this._connections.delete(i);break;case an.Expire:this.emitError(Bt.PeerUnavailable,`Could not connect to peer ${i}`);break;case an.Offer:{const s=r.connectionId;let o=this.getConnection(i,s);if(o&&(o.close(),ce.warn(`Offer received for existing Connection ID:${s}`)),r.type===Mi.Media){const l=new bu(i,this,{connectionId:s,_payload:r,metadata:r.metadata});o=l,this._addConnection(i,o),this.emit("call",l)}else if(r.type===Mi.Data){const l=new this._serializers[r.serialization](i,this,{connectionId:s,_payload:r,metadata:r.metadata,label:r.label,serialization:r.serialization,reliable:r.reliable});o=l,this._addConnection(i,o),this.emit("connection",l)}else{ce.warn(`Received malformed connection type:${r.type}`);return}const a=this._getMessages(s);for(const l of a)o.handleMessage(l);break}default:{if(!r){ce.warn(`You received a malformed message from ${i} of type ${n}`);return}const s=r.connectionId,o=this.getConnection(i,s);o&&o.peerConnection?o.handleMessage(e):s?this._storeMessage(s,e):ce.warn("You received an unrecognized message:",e);break}}}_storeMessage(e,n){this._lostMessages.has(e)||this._lostMessages.set(e,[]),this._lostMessages.get(e).push(n)}_getMessages(e){const n=this._lostMessages.get(e);return n?(this._lostMessages.delete(e),n):[]}connect(e,n={}){if(n={serialization:"default",...n},this.disconnected){ce.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect, or call reconnect on this peer if you believe its ID to still be available."),this.emitError(Bt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}const r=new this._serializers[n.serialization](e,this,n);return this._addConnection(e,r),r}call(e,n,r={}){if(this.disconnected){ce.warn("You cannot connect to a new Peer because you called .disconnect() on this Peer and ended your connection with the server. You can create a new Peer to reconnect."),this.emitError(Bt.Disconnected,"Cannot connect to new Peer after disconnecting from server.");return}if(!n){ce.error("To call a peer, you must provide a stream from your browser's `getUserMedia`.");return}const i=new bu(e,this,{...r,_stream:n});return this._addConnection(e,i),i}_addConnection(e,n){ce.log(`add connection ${n.type}:${n.connectionId} to peerId:${e}`),this._connections.has(e)||this._connections.set(e,[]),this._connections.get(e).push(n)}_removeConnection(e){const n=this._connections.get(e.peer);if(n){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}this._lostMessages.delete(e.connectionId)}getConnection(e,n){const r=this._connections.get(e);if(!r)return null;for(const i of r)if(i.connectionId===n)return i;return null}_delayedAbort(e,n){setTimeout(()=>{this._abort(e,n)},0)}_abort(e,n){ce.error("Aborting!"),this.emitError(e,n),this._lastServerId?this.disconnect():this.destroy()}destroy(){this.destroyed||(ce.log(`Destroy peer with ID:${this.id}`),this.disconnect(),this._cleanup(),this._destroyed=!0,this.emit("close"))}_cleanup(){for(const e of this._connections.keys())this._cleanupPeer(e),this._connections.delete(e);this.socket.removeAllListeners()}_cleanupPeer(e){const n=this._connections.get(e);if(n)for(const r of n)r.close()}disconnect(){if(this.disconnected)return;const e=this.id;ce.log(`Disconnect peer with ID:${e}`),this._disconnected=!0,this._open=!1,this.socket.close(),this._lastServerId=e,this._id=null,this.emit("disconnected",e)}reconnect(){if(this.disconnected&&!this.destroyed)ce.log(`Attempting reconnection to server with ID ${this._lastServerId}`),this._disconnected=!1,this._initialize(this._lastServerId);else{if(this.destroyed)throw new Error("This peer cannot reconnect to the server. It has already been destroyed.");if(!this.disconnected&&!this.open)ce.error("In a hurry? We're still trying to make the initial connection!");else throw new Error(`Peer ${this.id} cannot reconnect because it is not disconnected from the server!`)}}listAllPeers(e=n=>{}){this._api.listAllPeers().then(n=>e(n)).catch(n=>this._abort(Bt.ServerError,n))}};th=new WeakMap,Po(sa,th,sa.DEFAULT_KEY="peerjs");let Nd=sa;const fm=Nd;class G2{constructor(){En(this,"peer",null);En(this,"conn",null);En(this,"onDataReceived",null)}init(e){return this.peer&&this.peer.destroy(),this.peer=new fm({host:"0.peerjs.com",port:443,secure:!0,path:"/",config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}]}}),this.peer.on("open",n=>{console.log("My Peer ID is: "+n),e(n)}),this.peer.on("connection",n=>{this.setupConnection(n)}),this.peer.on("error",n=>{console.error("PeerJS error",n)}),this.peer.on("disconnected",()=>{var n;try{(n=this.peer)==null||n.reconnect()}catch{}}),""}connect(e,n){this.peer&&this.peer.destroy(),this.peer=new fm({host:"0.peerjs.com",port:443,secure:!0,path:"/",config:{iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:global.stun.twilio.com:3478?transport=udp"}]}}),this.peer.on("open",()=>{if(!this.peer)return;const r=this.peer.connect(e,{reliable:!0});this.setupConnection(r),r.on("open",()=>{n()})}),this.peer.on("error",r=>{console.error("PeerJS connect error",r),alert("Could not connect. Check the ID.")})}setupConnection(e){this.conn=e,e.on("data",n=>{this.onDataReceived&&this.onDataReceived(n)}),e.on("close",()=>{console.log("Connection closed"),alert("Opponent disconnected."),this.conn=null}),e.on("error",n=>{console.error("Connection error",n),alert("Connection error. Please try re-sharing the invite link.")})}sendMessage(e){this.conn&&this.conn.open?this.conn.send(e):console.warn("Connection not open, cannot send message")}onMessage(e){this.onDataReceived=e}destroy(){this.conn&&this.conn.close(),this.peer&&this.peer.destroy()}}const ri=new G2;let Ro=class extends Error{constructor(n,r={}){super(n,r.cause?{cause:r.cause}:void 0);En(this,"name","BaseError");En(this,"cause");this.cause=r.cause}};class Y2 extends Ro{constructor(){super("Invalid domain manifest");En(this,"name","AddMiniApp.InvalidDomainManifest")}}let J2=class extends Ro{constructor(){super("Add miniapp rejected by user");En(this,"name","AddMiniApp.RejectedByUser")}},c1=class extends Ro{constructor(){super("Sign in rejected by user");En(this,"name","SignIn.RejectedByUser")}};class X2 extends Ro{constructor(){super("Sign manifest rejected by user");En(this,"name","SignManifest.RejectedByUser")}}class Q2 extends Ro{constructor(){super("Invalid domain provided");En(this,"name","SignManifest.InvalidDomain")}}class ek extends Ro{constructor(n="Manifest signing failed"){super(n);En(this,"name","SignManifest.GenericError")}}var Le;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Le||(Le={}));var dm;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(dm||(dm={}));const le=Le.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),di=t=>{switch(typeof t){case"undefined":return le.undefined;case"string":return le.string;case"number":return Number.isNaN(t)?le.nan:le.number;case"boolean":return le.boolean;case"function":return le.function;case"bigint":return le.bigint;case"symbol":return le.symbol;case"object":return Array.isArray(t)?le.array:t===null?le.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?le.promise:typeof Map<"u"&&t instanceof Map?le.map:typeof Set<"u"&&t instanceof Set?le.set:typeof Date<"u"&&t instanceof Date?le.date:le.object;default:return le.unknown}},X=Le.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Jr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Jr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Le.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Jr.create=t=>new Jr(t);const Od=(t,e)=>{let n;switch(t.code){case X.invalid_type:t.received===le.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case X.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Le.jsonStringifyReplacer)}`;break;case X.unrecognized_keys:n=`Unrecognized key(s) in object: ${Le.joinValues(t.keys,", ")}`;break;case X.invalid_union:n="Invalid input";break;case X.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Le.joinValues(t.options)}`;break;case X.invalid_enum_value:n=`Invalid enum value. Expected ${Le.joinValues(t.options)}, received '${t.received}'`;break;case X.invalid_arguments:n="Invalid function arguments";break;case X.invalid_return_type:n="Invalid function return type";break;case X.invalid_date:n="Invalid date";break;case X.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:Le.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case X.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case X.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case X.custom:n="Invalid input";break;case X.invalid_intersection_types:n="Intersection results could not be merged";break;case X.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case X.not_finite:n="Number must be finite";break;default:n=e.defaultError,Le.assertNever(t)}return{message:n}};let tk=Od;function nk(){return tk}const rk=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function ie(t,e){const n=nk(),r=rk({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Od?void 0:Od].filter(i=>!!i)});t.common.issues.push(r)}class Kn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return be;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Kn.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return be;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const be=Object.freeze({status:"aborted"}),qo=t=>({status:"dirty",value:t}),ir=t=>({status:"valid",value:t}),hm=t=>t.status==="aborted",pm=t=>t.status==="dirty",go=t=>t.status==="valid",Su=t=>typeof Promise<"u"&&t instanceof Promise;var fe;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(fe||(fe={}));class Ni{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mm=(t,e)=>{if(go(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Jr(t.common.issues);return this._error=n,this._error}}};function Ae(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class Oe{get description(){return this._def.description}_getType(e){return di(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:di(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Kn,ctx:{common:e.parent.common,data:e.data,parsedType:di(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Su(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:di(e)},i=this._parseSync({data:e,path:r.path,parent:r});return mm(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:di(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return go(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>go(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:di(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Su(i)?i:Promise.resolve(i));return mm(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:X.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new cs({schema:this,typeName:Se.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Hr.create(this,this._def)}nullable(){return fs.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ir.create(this)}promise(){return Tu.create(this,this._def)}or(e){return Cu.create([this,e],this._def)}and(e){return Ru.create(this,e,this._def)}transform(e){return new cs({...Ae(this._def),schema:this,typeName:Se.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Mu({...Ae(this._def),innerType:this,defaultValue:n,typeName:Se.ZodDefault})}brand(){return new p1({typeName:Se.ZodBranded,type:this,...Ae(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Au({...Ae(this._def),innerType:this,catchValue:n,typeName:Se.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return np.create(this,e)}readonly(){return Bu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ik=/^c[^\s-]{8,}$/i,sk=/^[0-9a-z]+$/,ok=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ak=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,lk=/^[a-z0-9_-]{21}$/i,uk=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ck=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,fk=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,dk="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let mf;const hk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,pk=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,mk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,gk=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,yk=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,vk=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,f1="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",wk=new RegExp(`^${f1}$`);function d1(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function xk(t){return new RegExp(`^${d1(t)}$`)}function _k(t){let e=`${f1}T${d1(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function bk(t,e){return!!((e==="v4"||!e)&&hk.test(t)||(e==="v6"||!e)&&mk.test(t))}function kk(t,e){if(!uk.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Sk(t,e){return!!((e==="v4"||!e)&&pk.test(t)||(e==="v6"||!e)&&gk.test(t))}class vi extends Oe{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==le.string){const s=this._getOrReturnCtx(e);return ie(s,{code:X.invalid_type,expected:le.string,received:s.parsedType}),be}const r=new Kn;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:X.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:X.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?ie(i,{code:X.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&ie(i,{code:X.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")fk.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"email",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")mf||(mf=new RegExp(dk,"u")),mf.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"emoji",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")ak.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"uuid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")lk.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"nanoid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")ik.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"cuid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")sk.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"cuid2",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")ok.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"ulid",code:X.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),ie(i,{validation:"url",code:X.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"regex",code:X.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),ie(i,{code:X.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),ie(i,{code:X.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),ie(i,{code:X.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?_k(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:X.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?wk.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:X.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?xk(s).test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{code:X.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?ck.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"duration",code:X.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?bk(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"ip",code:X.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?kk(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"jwt",code:X.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Sk(e.data,s.version)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"cidr",code:X.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?yk.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"base64",code:X.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?vk.test(e.data)||(i=this._getOrReturnCtx(e,i),ie(i,{validation:"base64url",code:X.invalid_string,message:s.message}),r.dirty()):Le.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:X.invalid_string,...fe.errToObj(r)})}_addCheck(e){return new vi({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...fe.errToObj(e)})}url(e){return this._addCheck({kind:"url",...fe.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...fe.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...fe.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...fe.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...fe.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...fe.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...fe.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...fe.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...fe.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...fe.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...fe.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...fe.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...fe.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...fe.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...fe.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...fe.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...fe.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...fe.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...fe.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...fe.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...fe.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...fe.errToObj(n)})}nonempty(e){return this.min(1,fe.errToObj(e))}trim(){return new vi({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vi({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vi({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}vi.create=t=>new vi({checks:[],typeName:Se.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ae(t)});function Ek(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class yo extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==le.number){const s=this._getOrReturnCtx(e);return ie(s,{code:X.invalid_type,expected:le.number,received:s.parsedType}),be}let r;const i=new Kn;for(const s of this._def.checks)s.kind==="int"?Le.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:X.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:X.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:X.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ek(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),ie(r,{code:X.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),ie(r,{code:X.not_finite,message:s.message}),i.dirty()):Le.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,fe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,fe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,fe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,fe.toString(n))}setLimit(e,n,r,i){return new yo({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:fe.toString(i)}]})}_addCheck(e){return new yo({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:fe.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:fe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:fe.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:fe.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:fe.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:fe.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Le.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}yo.create=t=>new yo({checks:[],typeName:Se.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ae(t)});class Sa extends Oe{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==le.bigint)return this._getInvalidInput(e);let r;const i=new Kn;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:X.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:X.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),ie(r,{code:X.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Le.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return ie(n,{code:X.invalid_type,expected:le.bigint,received:n.parsedType}),be}gte(e,n){return this.setLimit("min",e,!0,fe.toString(n))}gt(e,n){return this.setLimit("min",e,!1,fe.toString(n))}lte(e,n){return this.setLimit("max",e,!0,fe.toString(n))}lt(e,n){return this.setLimit("max",e,!1,fe.toString(n))}setLimit(e,n,r,i){return new Sa({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:fe.toString(i)}]})}_addCheck(e){return new Sa({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:fe.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:fe.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:fe.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:fe.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:fe.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Sa.create=t=>new Sa({checks:[],typeName:Se.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ae(t)});class Ld extends Oe{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==le.boolean){const r=this._getOrReturnCtx(e);return ie(r,{code:X.invalid_type,expected:le.boolean,received:r.parsedType}),be}return ir(e.data)}}Ld.create=t=>new Ld({typeName:Se.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ae(t)});class Eu extends Oe{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==le.date){const s=this._getOrReturnCtx(e);return ie(s,{code:X.invalid_type,expected:le.date,received:s.parsedType}),be}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return ie(s,{code:X.invalid_date}),be}const r=new Kn;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:X.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),ie(i,{code:X.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):Le.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Eu({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:fe.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:fe.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Eu.create=t=>new Eu({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Se.ZodDate,...Ae(t)});class gm extends Oe{_parse(e){if(this._getType(e)!==le.symbol){const r=this._getOrReturnCtx(e);return ie(r,{code:X.invalid_type,expected:le.symbol,received:r.parsedType}),be}return ir(e.data)}}gm.create=t=>new gm({typeName:Se.ZodSymbol,...Ae(t)});class jd extends Oe{_parse(e){if(this._getType(e)!==le.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:X.invalid_type,expected:le.undefined,received:r.parsedType}),be}return ir(e.data)}}jd.create=t=>new jd({typeName:Se.ZodUndefined,...Ae(t)});class Dd extends Oe{_parse(e){if(this._getType(e)!==le.null){const r=this._getOrReturnCtx(e);return ie(r,{code:X.invalid_type,expected:le.null,received:r.parsedType}),be}return ir(e.data)}}Dd.create=t=>new Dd({typeName:Se.ZodNull,...Ae(t)});class ym extends Oe{constructor(){super(...arguments),this._any=!0}_parse(e){return ir(e.data)}}ym.create=t=>new ym({typeName:Se.ZodAny,...Ae(t)});class vm extends Oe{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ir(e.data)}}vm.create=t=>new vm({typeName:Se.ZodUnknown,...Ae(t)});class Oi extends Oe{_parse(e){const n=this._getOrReturnCtx(e);return ie(n,{code:X.invalid_type,expected:le.never,received:n.parsedType}),be}}Oi.create=t=>new Oi({typeName:Se.ZodNever,...Ae(t)});class wm extends Oe{_parse(e){if(this._getType(e)!==le.undefined){const r=this._getOrReturnCtx(e);return ie(r,{code:X.invalid_type,expected:le.void,received:r.parsedType}),be}return ir(e.data)}}wm.create=t=>new wm({typeName:Se.ZodVoid,...Ae(t)});class Ir extends Oe{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==le.array)return ie(n,{code:X.invalid_type,expected:le.array,received:n.parsedType}),be;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(ie(n,{code:o?X.too_big:X.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ie(n,{code:X.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ie(n,{code:X.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new Ni(n,o,n.path,a)))).then(o=>Kn.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new Ni(n,o,n.path,a)));return Kn.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Ir({...this._def,minLength:{value:e,message:fe.toString(n)}})}max(e,n){return new Ir({...this._def,maxLength:{value:e,message:fe.toString(n)}})}length(e,n){return new Ir({...this._def,exactLength:{value:e,message:fe.toString(n)}})}nonempty(e){return this.min(1,e)}}Ir.create=(t,e)=>new Ir({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Se.ZodArray,...Ae(e)});function Ns(t){if(t instanceof Pt){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Hr.create(Ns(r))}return new Pt({...t._def,shape:()=>e})}else return t instanceof Ir?new Ir({...t._def,type:Ns(t.element)}):t instanceof Hr?Hr.create(Ns(t.unwrap())):t instanceof fs?fs.create(Ns(t.unwrap())):t instanceof ls?ls.create(t.items.map(e=>Ns(e))):t}class Pt extends Oe{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Le.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==le.object){const c=this._getOrReturnCtx(e);return ie(c,{code:X.invalid_type,expected:le.object,received:c.parsedType}),be}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Oi&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const m=s[c],g=i.data[c];l.push({key:{status:"valid",value:c},value:m._parse(new Ni(i,g,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Oi){const c=this._def.unknownKeys;if(c==="passthrough")for(const m of a)l.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(c==="strict")a.length>0&&(ie(i,{code:X.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const m of a){const g=i.data[m];l.push({key:{status:"valid",value:m},value:c._parse(new Ni(i,g,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const m of l){const g=await m.key,y=await m.value;c.push({key:g,value:y,alwaysSet:m.alwaysSet})}return c}).then(c=>Kn.mergeObjectSync(r,c)):Kn.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return fe.errToObj,new Pt({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:fe.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Pt({...this._def,unknownKeys:"strip"})}passthrough(){return new Pt({...this._def,unknownKeys:"passthrough"})}extend(e){return new Pt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Se.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pt({...this._def,catchall:e})}pick(e){const n={};for(const r of Le.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Le.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Pt({...this._def,shape:()=>n})}deepPartial(){return Ns(this)}partial(e){const n={};for(const r of Le.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Pt({...this._def,shape:()=>n})}required(e){const n={};for(const r of Le.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Hr;)s=s._def.innerType;n[r]=s}return new Pt({...this._def,shape:()=>n})}keyof(){return h1(Le.objectKeys(this.shape))}}Pt.create=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strip",catchall:Oi.create(),typeName:Se.ZodObject,...Ae(e)});Pt.strictCreate=(t,e)=>new Pt({shape:()=>t,unknownKeys:"strict",catchall:Oi.create(),typeName:Se.ZodObject,...Ae(e)});Pt.lazycreate=(t,e)=>new Pt({shape:t,unknownKeys:"strip",catchall:Oi.create(),typeName:Se.ZodObject,...Ae(e)});class Cu extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Jr(a.ctx.common.issues));return ie(n,{code:X.invalid_union,unionErrors:o}),be}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},m=l._parseSync({data:n.data,path:n.path,parent:c});if(m.status==="valid")return m;m.status==="dirty"&&!s&&(s={result:m,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Jr(l));return ie(n,{code:X.invalid_union,unionErrors:a}),be}}get options(){return this._def.options}}Cu.create=(t,e)=>new Cu({options:t,typeName:Se.ZodUnion,...Ae(e)});const Lr=t=>t instanceof Fd?Lr(t.schema):t instanceof cs?Lr(t.innerType()):t instanceof Iu?[t.value]:t instanceof us?t.options:t instanceof zd?Le.objectValues(t.enum):t instanceof Mu?Lr(t._def.innerType):t instanceof jd?[void 0]:t instanceof Dd?[null]:t instanceof Hr?[void 0,...Lr(t.unwrap())]:t instanceof fs?[null,...Lr(t.unwrap())]:t instanceof p1||t instanceof Bu?Lr(t.unwrap()):t instanceof Au?Lr(t._def.innerType):[];class tp extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==le.object)return ie(n,{code:X.invalid_type,expected:le.object,received:n.parsedType}),be;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(ie(n,{code:X.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),be)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Lr(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new tp({typeName:Se.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Ae(r)})}}function Ud(t,e){const n=di(t),r=di(e);if(t===e)return{valid:!0,data:t};if(n===le.object&&r===le.object){const i=Le.objectKeys(e),s=Le.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=Ud(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===le.array&&r===le.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=Ud(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===le.date&&r===le.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ru extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(hm(s)||hm(o))return be;const a=Ud(s.value,o.value);return a.valid?((pm(s)||pm(o))&&n.dirty(),{status:n.value,value:a.data}):(ie(r,{code:X.invalid_intersection_types}),be)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ru.create=(t,e,n)=>new Ru({left:t,right:e,typeName:Se.ZodIntersection,...Ae(n)});class ls extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==le.array)return ie(r,{code:X.invalid_type,expected:le.array,received:r.parsedType}),be;if(r.data.length<this._def.items.length)return ie(r,{code:X.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),be;!this._def.rest&&r.data.length>this._def.items.length&&(ie(r,{code:X.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Ni(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Kn.mergeArray(n,o)):Kn.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new ls({...this._def,rest:e})}}ls.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ls({items:t,typeName:Se.ZodTuple,rest:null,...Ae(e)})};class xm extends Oe{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==le.map)return ie(r,{code:X.invalid_type,expected:le.map,received:r.parsedType}),be;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Ni(r,a,r.path,[c,"key"])),value:s._parse(new Ni(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,m=await l.value;if(c.status==="aborted"||m.status==="aborted")return be;(c.status==="dirty"||m.status==="dirty")&&n.dirty(),a.set(c.value,m.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,m=l.value;if(c.status==="aborted"||m.status==="aborted")return be;(c.status==="dirty"||m.status==="dirty")&&n.dirty(),a.set(c.value,m.value)}return{status:n.value,value:a}}}}xm.create=(t,e,n)=>new xm({valueType:e,keyType:t,typeName:Se.ZodMap,...Ae(n)});class Ea extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==le.set)return ie(r,{code:X.invalid_type,expected:le.set,received:r.parsedType}),be;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(ie(r,{code:X.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(ie(r,{code:X.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const m of l){if(m.status==="aborted")return be;m.status==="dirty"&&n.dirty(),c.add(m.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new Ni(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Ea({...this._def,minSize:{value:e,message:fe.toString(n)}})}max(e,n){return new Ea({...this._def,maxSize:{value:e,message:fe.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Ea.create=(t,e)=>new Ea({valueType:t,minSize:null,maxSize:null,typeName:Se.ZodSet,...Ae(e)});class Fd extends Oe{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Fd.create=(t,e)=>new Fd({getter:t,typeName:Se.ZodLazy,...Ae(e)});class Iu extends Oe{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return ie(n,{received:n.data,code:X.invalid_literal,expected:this._def.value}),be}return{status:"valid",value:e.data}}get value(){return this._def.value}}Iu.create=(t,e)=>new Iu({value:t,typeName:Se.ZodLiteral,...Ae(e)});function h1(t,e){return new us({values:t,typeName:Se.ZodEnum,...Ae(e)})}class us extends Oe{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return ie(n,{expected:Le.joinValues(r),received:n.parsedType,code:X.invalid_type}),be}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return ie(n,{received:n.data,code:X.invalid_enum_value,options:r}),be}return ir(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return us.create(e,{...this._def,...n})}exclude(e,n=this._def){return us.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}us.create=h1;class zd extends Oe{_parse(e){const n=Le.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==le.string&&r.parsedType!==le.number){const i=Le.objectValues(n);return ie(r,{expected:Le.joinValues(i),received:r.parsedType,code:X.invalid_type}),be}if(this._cache||(this._cache=new Set(Le.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Le.objectValues(n);return ie(r,{received:r.data,code:X.invalid_enum_value,options:i}),be}return ir(e.data)}get enum(){return this._def.values}}zd.create=(t,e)=>new zd({values:t,typeName:Se.ZodNativeEnum,...Ae(e)});class Tu extends Oe{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==le.promise&&n.common.async===!1)return ie(n,{code:X.invalid_type,expected:le.promise,received:n.parsedType}),be;const r=n.parsedType===le.promise?n.data:Promise.resolve(n.data);return ir(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Tu.create=(t,e)=>new Tu({type:t,typeName:Se.ZodPromise,...Ae(e)});class cs extends Oe{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Se.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{ie(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return be;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?be:l.status==="dirty"||n.value==="dirty"?qo(l.value):l});{if(n.value==="aborted")return be;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?be:a.status==="dirty"||n.value==="dirty"?qo(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?be:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?be:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!go(o))return be;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>go(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):be);Le.assertNever(i)}}cs.create=(t,e,n)=>new cs({schema:t,typeName:Se.ZodEffects,effect:e,...Ae(n)});cs.createWithPreprocess=(t,e,n)=>new cs({schema:e,effect:{type:"preprocess",transform:t},typeName:Se.ZodEffects,...Ae(n)});class Hr extends Oe{_parse(e){return this._getType(e)===le.undefined?ir(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Hr.create=(t,e)=>new Hr({innerType:t,typeName:Se.ZodOptional,...Ae(e)});class fs extends Oe{_parse(e){return this._getType(e)===le.null?ir(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fs.create=(t,e)=>new fs({innerType:t,typeName:Se.ZodNullable,...Ae(e)});class Mu extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===le.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Mu.create=(t,e)=>new Mu({innerType:t,typeName:Se.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ae(e)});class Au extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Su(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Jr(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Jr(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Au.create=(t,e)=>new Au({innerType:t,typeName:Se.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ae(e)});class _m extends Oe{_parse(e){if(this._getType(e)!==le.nan){const r=this._getOrReturnCtx(e);return ie(r,{code:X.invalid_type,expected:le.nan,received:r.parsedType}),be}return{status:"valid",value:e.data}}}_m.create=t=>new _m({typeName:Se.ZodNaN,...Ae(t)});class p1 extends Oe{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class np extends Oe{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?be:s.status==="dirty"?(n.dirty(),qo(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?be:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new np({in:e,out:n,typeName:Se.ZodPipeline})}}class Bu extends Oe{_parse(e){const n=this._def.innerType._parse(e),r=i=>(go(i)&&(i.value=Object.freeze(i.value)),i);return Su(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Bu.create=(t,e)=>new Bu({innerType:t,typeName:Se.ZodReadonly,...Ae(e)});var Se;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Se||(Se={}));const It=vi.create,m1=yo.create,Ck=Ld.create;Oi.create;const es=Ir.create,Jt=Pt.create,Pu=Cu.create,g1=tp.create;Ru.create;ls.create;const cn=Iu.create,rp=us.create;Tu.create;Hr.create;fs.create;const Rk=/[@#$%^&*+=/\\|~]/,Ik=/(!{2,}|\?{2,}|-{2,})/,Tk=/[\u{1F300}-\u{1F9FF}]|[\u{2702}-\u{27B0}]|[\u{2600}-\u{26FF}]|[\u{2B00}-\u{2BFF}]/u,Io=({max:t,noSpaces:e}={})=>(e?It().max(t??Number.POSITIVE_INFINITY).regex(/^\S*$/,"Spaces are not allowed"):It().max(t??Number.POSITIVE_INFINITY)).refine(r=>!Tk.test(r),{message:"Emojis and symbols are not allowed"}).refine(r=>!Rk.test(r),{message:"Special characters (@, #, $, %, ^, &, *, +, =, /, \\, |, ~, , ) are not allowed"}).refine(r=>!Ik.test(r),{message:"Repeated punctuations (!!, ??, --) are not allowed"}),mn=It().url().startsWith("https://",{message:"Must be an https url"}).max(1024).refine(t=>!t.includes(" "),{message:"URL must not contain spaces"}).refine(t=>{try{const e=new URL(t).hostname;return!(e==="localhost"||e.endsWith(".localhost")||/^(\d{1,3}\.){3}\d{1,3}$/.test(e)||e.startsWith("[")&&e.endsWith("]"))}catch{return!1}},{message:"URL must not use IP addresses or localhost"}),ip=It().max(32),y1=It().max(32),Mk=/^[-a-z0-9]{3,8}:[-_a-zA-Z0-9]{1,32}\/(?:[-a-z0-9]{3,8}:[-.%a-zA-Z0-9]{1,128}(?:\/[-.%a-zA-Z0-9]{1,78})?|native)$/,Ak=It().regex(Mk,{message:"Invalid CAIP-19 asset ID"}),sp=It().regex(/^#([0-9A-F]{3}|[0-9A-F]{6})$/i,{message:"Invalid hex color code. It should be in the format #RRGGBB or #RGB."}),Bk=/^(?!.*\.\.)([a-zA-Z0-9]([a-zA-Z0-9-]*[a-zA-Z0-9])?\.)+[a-zA-Z]{2,}$/,Pk=It().max(1024).regex(Bk,{message:"Must be a valid domain name (e.g., example.com, sub.example.com)"}).refine(t=>!t.includes("://"),{message:"Domain must not include protocol (http://, https://, etc.)"}).refine(t=>!t.includes("/"),{message:"Domain must not include path separators"}).refine(t=>!t.includes("@"),{message:"Domain must not include @ symbol"}).refine(t=>!t.includes(":"),{message:"Domain must not include port numbers"}),Nk=Pu([cn("1:1"),cn("3:2")]),Ok=Jt({header:It(),payload:It(),signature:It()});Jt({fid:m1(),type:cn("app_key"),key:It().startsWith("0x")});const Lk=Jt({type:cn("launch_frame"),name:ip,url:mn.optional(),splashImageUrl:mn.optional(),splashBackgroundColor:sp.optional()}),jk=Jt({type:cn("launch_miniapp"),name:ip,url:mn.optional(),splashImageUrl:mn.optional(),splashBackgroundColor:sp.optional()}),Dk=Jt({type:cn("view_token"),token:Ak}),Uk=g1("type",[jk,Dk,Lk]),Fk=Jt({title:y1,action:Uk});Jt({version:Pu([It(),m1()]).transform(t=>String(t)).pipe(Pu([cn("next"),cn("1")])),imageUrl:mn,aspectRatio:Nk.optional(),button:Fk});const v1=Jt({url:It(),token:It()});Jt({notificationId:It().max(128),title:It().max(32),body:It().max(128),targetUrl:mn,tokens:It().array().max(100)});Jt({result:Jt({successfulTokens:es(It()),invalidTokens:es(It()),rateLimitedTokens:es(It())})});const zk=Jt({event:cn("miniapp_added"),notificationDetails:v1.optional()}),$k=Jt({event:cn("miniapp_removed")}),Vk=Jt({event:cn("notifications_enabled"),notificationDetails:v1.required()}),Kk=Jt({event:cn("notifications_disabled")});g1("event",[zk,$k,Vk,Kk]);const Wk=["wallet.getEthereumProvider","wallet.getSolanaProvider","actions.ready","actions.openUrl","actions.close","actions.setPrimaryButton","actions.addMiniApp","actions.signIn","actions.viewCast","actions.viewProfile","actions.composeCast","actions.viewToken","actions.sendToken","actions.swapToken","actions.openMiniApp","actions.requestCameraAndMicrophoneAccess","experimental.signManifest","haptics.impactOccurred","haptics.notificationOccurred","haptics.selectionChanged","back"],Hk=["games","social","finance","utility","productivity","health-fitness","news-media","music","shopping","education","developer-tools","entertainment","art-creativity"],Zk=rp(Hk),qk=Pu([cn("0.0.0"),cn("0.0.1"),cn("1"),cn("next")]),Gk=Io({max:30}),Yk=Io({max:170}),Jk=es(mn).max(3),Xk=es(Io({max:20,noSpaces:!0})).max(5),Qk=Io({max:30}),eS=Io({max:30}),tS=Io({max:100}),nS=Ck(),rS=["eip155:1","eip155:8453","eip155:42161","eip155:421614","eip155:84532","eip155:666666666","eip155:100","eip155:10","eip155:11155420","eip155:137","eip155:11155111","eip155:7777777","eip155:130","eip155:10143","eip155:42220","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp"];function w1(t){const e=new Set(t);return Array.from(e)}const iS=es(rp(rS)).transform(w1),sS=es(rp(Wk)).transform(w1),bm=Jt({version:qk,name:ip,iconUrl:mn,homeUrl:mn,imageUrl:mn.optional(),buttonTitle:y1.optional(),splashImageUrl:mn.optional(),splashBackgroundColor:sp.optional(),webhookUrl:mn.optional(),subtitle:Gk.optional(),description:Yk.optional(),screenshotUrls:Jk.optional(),primaryCategory:Zk.optional(),tags:Xk.optional(),heroImageUrl:mn.optional(),tagline:Qk.optional(),ogTitle:eS.optional(),ogDescription:tS.optional(),ogImageUrl:mn.optional(),noindex:nS.optional(),requiredChains:iS.optional(),requiredCapabilities:sS.optional(),castShareUrl:mn.optional(),canonicalDomain:Pk.optional()}).refine(t=>{if(t.castShareUrl===void 0)return!0;try{const e=new URL(t.homeUrl).hostname,n=new URL(t.castShareUrl).hostname;return e===n}catch{return!1}},{message:"castShareUrl must have the same domain as homeUrl",path:["castShareUrl"]});Jt({accountAssociation:Ok,miniapp:bm.optional(),frame:bm.optional()}).refine(t=>t.frame&&t.miniapp?JSON.stringify(t.frame)===JSON.stringify(t.miniapp):!0,{message:'If both "frame" and "miniapp" are provided, they must be identical',path:["frame","miniapp"]}).transform(t=>({...t,frame:t.frame??t.miniapp}));var Te={},gc={};gc.byteLength=lS;gc.toByteArray=cS;gc.fromByteArray=hS;var Sr=[],Gn=[],oS=typeof Uint8Array<"u"?Uint8Array:Array,gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ts=0,aS=gf.length;Ts<aS;++Ts)Sr[Ts]=gf[Ts],Gn[gf.charCodeAt(Ts)]=Ts;Gn[45]=62;Gn[95]=63;function x1(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var r=n===e?0:4-n%4;return[n,r]}function lS(t){var e=x1(t),n=e[0],r=e[1];return(n+r)*3/4-r}function uS(t,e,n){return(e+n)*3/4-n}function cS(t){var e,n=x1(t),r=n[0],i=n[1],s=new oS(uS(t,r,i)),o=0,a=i>0?r-4:r,l;for(l=0;l<a;l+=4)e=Gn[t.charCodeAt(l)]<<18|Gn[t.charCodeAt(l+1)]<<12|Gn[t.charCodeAt(l+2)]<<6|Gn[t.charCodeAt(l+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Gn[t.charCodeAt(l)]<<2|Gn[t.charCodeAt(l+1)]>>4,s[o++]=e&255),i===1&&(e=Gn[t.charCodeAt(l)]<<10|Gn[t.charCodeAt(l+1)]<<4|Gn[t.charCodeAt(l+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function fS(t){return Sr[t>>18&63]+Sr[t>>12&63]+Sr[t>>6&63]+Sr[t&63]}function dS(t,e,n){for(var r,i=[],s=e;s<n;s+=3)r=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(fS(r));return i.join("")}function hS(t){for(var e,n=t.length,r=n%3,i=[],s=16383,o=0,a=n-r;o<a;o+=s)i.push(dS(t,o,o+s>a?a:o+s));return r===1?(e=t[n-1],i.push(Sr[e>>2]+Sr[e<<4&63]+"==")):r===2&&(e=(t[n-2]<<8)+t[n-1],i.push(Sr[e>>10]+Sr[e>>4&63]+Sr[e<<2&63]+"=")),i.join("")}var op={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */op.read=function(t,e,n,r,i){var s,o,a=i*8-r-1,l=(1<<a)-1,c=l>>1,m=-7,g=n?i-1:0,y=n?-1:1,k=t[e+g];for(g+=y,s=k&(1<<-m)-1,k>>=-m,m+=a;m>0;s=s*256+t[e+g],g+=y,m-=8);for(o=s&(1<<-m)-1,s>>=-m,m+=r;m>0;o=o*256+t[e+g],g+=y,m-=8);if(s===0)s=1-c;else{if(s===l)return o?NaN:(k?-1:1)*(1/0);o=o+Math.pow(2,r),s=s-c}return(k?-1:1)*o*Math.pow(2,s-r)};op.write=function(t,e,n,r,i,s){var o,a,l,c=s*8-i-1,m=(1<<c)-1,g=m>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=r?0:s-1,M=r?1:-1,P=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+g>=1?e+=y/l:e+=y*Math.pow(2,1-g),e*l>=2&&(o++,l/=2),o+g>=m?(a=0,o=m):o+g>=1?(a=(e*l-1)*Math.pow(2,i),o=o+g):(a=e*Math.pow(2,g-1)*Math.pow(2,i),o=0));i>=8;t[n+k]=a&255,k+=M,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;t[n+k]=o&255,k+=M,o/=256,c-=8);t[n+k-M]|=P*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=gc,n=op,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const w=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(w,f),w.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(w){if(w>i)throw new RangeError('The value "'+w+'" is invalid for option "size"');const f=new Uint8Array(w);return Object.setPrototypeOf(f,a.prototype),f}function a(w,f,h){if(typeof w=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return g(w)}return l(w,f,h)}a.poolSize=8192;function l(w,f,h){if(typeof w=="string")return y(w,f);if(ArrayBuffer.isView(w))return M(w);if(w==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w);if(Xt(w,ArrayBuffer)||w&&Xt(w.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Xt(w,SharedArrayBuffer)||w&&Xt(w.buffer,SharedArrayBuffer)))return P(w,f,h);if(typeof w=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const I=w.valueOf&&w.valueOf();if(I!=null&&I!==w)return a.from(I,f,h);const O=L(w);if(O)return O;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof w[Symbol.toPrimitive]=="function")return a.from(w[Symbol.toPrimitive]("string"),f,h);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof w)}a.from=function(w,f,h){return l(w,f,h)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(w){if(typeof w!="number")throw new TypeError('"size" argument must be of type number');if(w<0)throw new RangeError('The value "'+w+'" is invalid for option "size"')}function m(w,f,h){return c(w),w<=0?o(w):f!==void 0?typeof h=="string"?o(w).fill(f,h):o(w).fill(f):o(w)}a.alloc=function(w,f,h){return m(w,f,h)};function g(w){return c(w),o(w<0?0:S(w)|0)}a.allocUnsafe=function(w){return g(w)},a.allocUnsafeSlow=function(w){return g(w)};function y(w,f){if((typeof f!="string"||f==="")&&(f="utf8"),!a.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const h=C(w,f)|0;let I=o(h);const O=I.write(w,f);return O!==h&&(I=I.slice(0,O)),I}function k(w){const f=w.length<0?0:S(w.length)|0,h=o(f);for(let I=0;I<f;I+=1)h[I]=w[I]&255;return h}function M(w){if(Xt(w,Uint8Array)){const f=new Uint8Array(w);return P(f.buffer,f.byteOffset,f.byteLength)}return k(w)}function P(w,f,h){if(f<0||w.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(w.byteLength<f+(h||0))throw new RangeError('"length" is outside of buffer bounds');let I;return f===void 0&&h===void 0?I=new Uint8Array(w):h===void 0?I=new Uint8Array(w,f):I=new Uint8Array(w,f,h),Object.setPrototypeOf(I,a.prototype),I}function L(w){if(a.isBuffer(w)){const f=S(w.length)|0,h=o(f);return h.length===0||w.copy(h,0,0,f),h}if(w.length!==void 0)return typeof w.length!="number"||Qe(w.length)?o(0):k(w);if(w.type==="Buffer"&&Array.isArray(w.data))return k(w.data)}function S(w){if(w>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return w|0}function R(w){return+w!=w&&(w=0),a.alloc(+w)}a.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==a.prototype},a.compare=function(f,h){if(Xt(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),Xt(h,Uint8Array)&&(h=a.from(h,h.offset,h.byteLength)),!a.isBuffer(f)||!a.isBuffer(h))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===h)return 0;let I=f.length,O=h.length;for(let D=0,z=Math.min(I,O);D<z;++D)if(f[D]!==h[D]){I=f[D],O=h[D];break}return I<O?-1:O<I?1:0},a.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(f,h){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return a.alloc(0);let I;if(h===void 0)for(h=0,I=0;I<f.length;++I)h+=f[I].length;const O=a.allocUnsafe(h);let D=0;for(I=0;I<f.length;++I){let z=f[I];if(Xt(z,Uint8Array))D+z.length>O.length?(a.isBuffer(z)||(z=a.from(z)),z.copy(O,D)):Uint8Array.prototype.set.call(O,z,D);else if(a.isBuffer(z))z.copy(O,D);else throw new TypeError('"list" argument must be an Array of Buffers');D+=z.length}return O};function C(w,f){if(a.isBuffer(w))return w.length;if(ArrayBuffer.isView(w)||Xt(w,ArrayBuffer))return w.byteLength;if(typeof w!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof w);const h=w.length,I=arguments.length>2&&arguments[2]===!0;if(!I&&h===0)return 0;let O=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return h;case"utf8":case"utf-8":return Ye(w).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return h*2;case"hex":return h>>>1;case"base64":return Xe(w).length;default:if(O)return I?-1:Ye(w).length;f=(""+f).toLowerCase(),O=!0}}a.byteLength=C;function j(w,f,h){let I=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((h===void 0||h>this.length)&&(h=this.length),h<=0)||(h>>>=0,f>>>=0,h<=f))return"";for(w||(w="utf8");;)switch(w){case"hex":return T(this,f,h);case"utf8":case"utf-8":return u(this,f,h);case"ascii":return E(this,f,h);case"latin1":case"binary":return _(this,f,h);case"base64":return b(this,f,h);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,f,h);default:if(I)throw new TypeError("Unknown encoding: "+w);w=(w+"").toLowerCase(),I=!0}}a.prototype._isBuffer=!0;function V(w,f,h){const I=w[f];w[f]=w[h],w[h]=I}a.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let h=0;h<f;h+=2)V(this,h,h+1);return this},a.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let h=0;h<f;h+=4)V(this,h,h+3),V(this,h+1,h+2);return this},a.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let h=0;h<f;h+=8)V(this,h,h+7),V(this,h+1,h+6),V(this,h+2,h+5),V(this,h+3,h+4);return this},a.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?u(this,0,f):j.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(f){if(!a.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:a.compare(this,f)===0},a.prototype.inspect=function(){let f="";const h=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,h).replace(/(.{2})/g,"$1 ").trim(),this.length>h&&(f+=" ... "),"<Buffer "+f+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(f,h,I,O,D){if(Xt(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(h===void 0&&(h=0),I===void 0&&(I=f?f.length:0),O===void 0&&(O=0),D===void 0&&(D=this.length),h<0||I>f.length||O<0||D>this.length)throw new RangeError("out of range index");if(O>=D&&h>=I)return 0;if(O>=D)return-1;if(h>=I)return 1;if(h>>>=0,I>>>=0,O>>>=0,D>>>=0,this===f)return 0;let z=D-O,Ie=I-h;const ke=Math.min(z,Ie),xe=this.slice(O,D),Je=f.slice(h,I);for(let pe=0;pe<ke;++pe)if(xe[pe]!==Je[pe]){z=xe[pe],Ie=Je[pe];break}return z<Ie?-1:Ie<z?1:0};function W(w,f,h,I,O){if(w.length===0)return-1;if(typeof h=="string"?(I=h,h=0):h>2147483647?h=2147483647:h<-2147483648&&(h=-2147483648),h=+h,Qe(h)&&(h=O?0:w.length-1),h<0&&(h=w.length+h),h>=w.length){if(O)return-1;h=w.length-1}else if(h<0)if(O)h=0;else return-1;if(typeof f=="string"&&(f=a.from(f,I)),a.isBuffer(f))return f.length===0?-1:Z(w,f,h,I,O);if(typeof f=="number")return f=f&255,typeof Uint8Array.prototype.indexOf=="function"?O?Uint8Array.prototype.indexOf.call(w,f,h):Uint8Array.prototype.lastIndexOf.call(w,f,h):Z(w,[f],h,I,O);throw new TypeError("val must be string, number or Buffer")}function Z(w,f,h,I,O){let D=1,z=w.length,Ie=f.length;if(I!==void 0&&(I=String(I).toLowerCase(),I==="ucs2"||I==="ucs-2"||I==="utf16le"||I==="utf-16le")){if(w.length<2||f.length<2)return-1;D=2,z/=2,Ie/=2,h/=2}function ke(Je,pe){return D===1?Je[pe]:Je.readUInt16BE(pe*D)}let xe;if(O){let Je=-1;for(xe=h;xe<z;xe++)if(ke(w,xe)===ke(f,Je===-1?0:xe-Je)){if(Je===-1&&(Je=xe),xe-Je+1===Ie)return Je*D}else Je!==-1&&(xe-=xe-Je),Je=-1}else for(h+Ie>z&&(h=z-Ie),xe=h;xe>=0;xe--){let Je=!0;for(let pe=0;pe<Ie;pe++)if(ke(w,xe+pe)!==ke(f,pe)){Je=!1;break}if(Je)return xe}return-1}a.prototype.includes=function(f,h,I){return this.indexOf(f,h,I)!==-1},a.prototype.indexOf=function(f,h,I){return W(this,f,h,I,!0)},a.prototype.lastIndexOf=function(f,h,I){return W(this,f,h,I,!1)};function q(w,f,h,I){h=Number(h)||0;const O=w.length-h;I?(I=Number(I),I>O&&(I=O)):I=O;const D=f.length;I>D/2&&(I=D/2);let z;for(z=0;z<I;++z){const Ie=parseInt(f.substr(z*2,2),16);if(Qe(Ie))return z;w[h+z]=Ie}return z}function $(w,f,h,I){return Ue(Ye(f,w.length-h),w,h,I)}function H(w,f,h,I){return Ue(at(f),w,h,I)}function ee(w,f,h,I){return Ue(Xe(f),w,h,I)}function Q(w,f,h,I){return Ue(Ui(f,w.length-h),w,h,I)}a.prototype.write=function(f,h,I,O){if(h===void 0)O="utf8",I=this.length,h=0;else if(I===void 0&&typeof h=="string")O=h,I=this.length,h=0;else if(isFinite(h))h=h>>>0,isFinite(I)?(I=I>>>0,O===void 0&&(O="utf8")):(O=I,I=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const D=this.length-h;if((I===void 0||I>D)&&(I=D),f.length>0&&(I<0||h<0)||h>this.length)throw new RangeError("Attempt to write outside buffer bounds");O||(O="utf8");let z=!1;for(;;)switch(O){case"hex":return q(this,f,h,I);case"utf8":case"utf-8":return $(this,f,h,I);case"ascii":case"latin1":case"binary":return H(this,f,h,I);case"base64":return ee(this,f,h,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,f,h,I);default:if(z)throw new TypeError("Unknown encoding: "+O);O=(""+O).toLowerCase(),z=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(w,f,h){return f===0&&h===w.length?e.fromByteArray(w):e.fromByteArray(w.slice(f,h))}function u(w,f,h){h=Math.min(w.length,h);const I=[];let O=f;for(;O<h;){const D=w[O];let z=null,Ie=D>239?4:D>223?3:D>191?2:1;if(O+Ie<=h){let ke,xe,Je,pe;switch(Ie){case 1:D<128&&(z=D);break;case 2:ke=w[O+1],(ke&192)===128&&(pe=(D&31)<<6|ke&63,pe>127&&(z=pe));break;case 3:ke=w[O+1],xe=w[O+2],(ke&192)===128&&(xe&192)===128&&(pe=(D&15)<<12|(ke&63)<<6|xe&63,pe>2047&&(pe<55296||pe>57343)&&(z=pe));break;case 4:ke=w[O+1],xe=w[O+2],Je=w[O+3],(ke&192)===128&&(xe&192)===128&&(Je&192)===128&&(pe=(D&15)<<18|(ke&63)<<12|(xe&63)<<6|Je&63,pe>65535&&pe<1114112&&(z=pe))}}z===null?(z=65533,Ie=1):z>65535&&(z-=65536,I.push(z>>>10&1023|55296),z=56320|z&1023),I.push(z),O+=Ie}return v(I)}const p=4096;function v(w){const f=w.length;if(f<=p)return String.fromCharCode.apply(String,w);let h="",I=0;for(;I<f;)h+=String.fromCharCode.apply(String,w.slice(I,I+=p));return h}function E(w,f,h){let I="";h=Math.min(w.length,h);for(let O=f;O<h;++O)I+=String.fromCharCode(w[O]&127);return I}function _(w,f,h){let I="";h=Math.min(w.length,h);for(let O=f;O<h;++O)I+=String.fromCharCode(w[O]);return I}function T(w,f,h){const I=w.length;(!f||f<0)&&(f=0),(!h||h<0||h>I)&&(h=I);let O="";for(let D=f;D<h;++D)O+=lt[w[D]];return O}function B(w,f,h){const I=w.slice(f,h);let O="";for(let D=0;D<I.length-1;D+=2)O+=String.fromCharCode(I[D]+I[D+1]*256);return O}a.prototype.slice=function(f,h){const I=this.length;f=~~f,h=h===void 0?I:~~h,f<0?(f+=I,f<0&&(f=0)):f>I&&(f=I),h<0?(h+=I,h<0&&(h=0)):h>I&&(h=I),h<f&&(h=f);const O=this.subarray(f,h);return Object.setPrototypeOf(O,a.prototype),O};function x(w,f,h){if(w%1!==0||w<0)throw new RangeError("offset is not uint");if(w+f>h)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(f,h,I){f=f>>>0,h=h>>>0,I||x(f,h,this.length);let O=this[f],D=1,z=0;for(;++z<h&&(D*=256);)O+=this[f+z]*D;return O},a.prototype.readUintBE=a.prototype.readUIntBE=function(f,h,I){f=f>>>0,h=h>>>0,I||x(f,h,this.length);let O=this[f+--h],D=1;for(;h>0&&(D*=256);)O+=this[f+--h]*D;return O},a.prototype.readUint8=a.prototype.readUInt8=function(f,h){return f=f>>>0,h||x(f,1,this.length),this[f]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(f,h){return f=f>>>0,h||x(f,2,this.length),this[f]|this[f+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(f,h){return f=f>>>0,h||x(f,2,this.length),this[f]<<8|this[f+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(f,h){return f=f>>>0,h||x(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(f,h){return f=f>>>0,h||x(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},a.prototype.readBigUInt64LE=$t(function(f){f=f>>>0,hn(f,"offset");const h=this[f],I=this[f+7];(h===void 0||I===void 0)&&Ke(f,this.length-8);const O=h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,D=this[++f]+this[++f]*2**8+this[++f]*2**16+I*2**24;return BigInt(O)+(BigInt(D)<<BigInt(32))}),a.prototype.readBigUInt64BE=$t(function(f){f=f>>>0,hn(f,"offset");const h=this[f],I=this[f+7];(h===void 0||I===void 0)&&Ke(f,this.length-8);const O=h*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],D=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+I;return(BigInt(O)<<BigInt(32))+BigInt(D)}),a.prototype.readIntLE=function(f,h,I){f=f>>>0,h=h>>>0,I||x(f,h,this.length);let O=this[f],D=1,z=0;for(;++z<h&&(D*=256);)O+=this[f+z]*D;return D*=128,O>=D&&(O-=Math.pow(2,8*h)),O},a.prototype.readIntBE=function(f,h,I){f=f>>>0,h=h>>>0,I||x(f,h,this.length);let O=h,D=1,z=this[f+--O];for(;O>0&&(D*=256);)z+=this[f+--O]*D;return D*=128,z>=D&&(z-=Math.pow(2,8*h)),z},a.prototype.readInt8=function(f,h){return f=f>>>0,h||x(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},a.prototype.readInt16LE=function(f,h){f=f>>>0,h||x(f,2,this.length);const I=this[f]|this[f+1]<<8;return I&32768?I|4294901760:I},a.prototype.readInt16BE=function(f,h){f=f>>>0,h||x(f,2,this.length);const I=this[f+1]|this[f]<<8;return I&32768?I|4294901760:I},a.prototype.readInt32LE=function(f,h){return f=f>>>0,h||x(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},a.prototype.readInt32BE=function(f,h){return f=f>>>0,h||x(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},a.prototype.readBigInt64LE=$t(function(f){f=f>>>0,hn(f,"offset");const h=this[f],I=this[f+7];(h===void 0||I===void 0)&&Ke(f,this.length-8);const O=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(I<<24);return(BigInt(O)<<BigInt(32))+BigInt(h+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),a.prototype.readBigInt64BE=$t(function(f){f=f>>>0,hn(f,"offset");const h=this[f],I=this[f+7];(h===void 0||I===void 0)&&Ke(f,this.length-8);const O=(h<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(O)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+I)}),a.prototype.readFloatLE=function(f,h){return f=f>>>0,h||x(f,4,this.length),n.read(this,f,!0,23,4)},a.prototype.readFloatBE=function(f,h){return f=f>>>0,h||x(f,4,this.length),n.read(this,f,!1,23,4)},a.prototype.readDoubleLE=function(f,h){return f=f>>>0,h||x(f,8,this.length),n.read(this,f,!0,52,8)},a.prototype.readDoubleBE=function(f,h){return f=f>>>0,h||x(f,8,this.length),n.read(this,f,!1,52,8)};function d(w,f,h,I,O,D){if(!a.isBuffer(w))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>O||f<D)throw new RangeError('"value" argument is out of bounds');if(h+I>w.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(f,h,I,O){if(f=+f,h=h>>>0,I=I>>>0,!O){const Ie=Math.pow(2,8*I)-1;d(this,f,h,I,Ie,0)}let D=1,z=0;for(this[h]=f&255;++z<I&&(D*=256);)this[h+z]=f/D&255;return h+I},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(f,h,I,O){if(f=+f,h=h>>>0,I=I>>>0,!O){const Ie=Math.pow(2,8*I)-1;d(this,f,h,I,Ie,0)}let D=I-1,z=1;for(this[h+D]=f&255;--D>=0&&(z*=256);)this[h+D]=f/z&255;return h+I},a.prototype.writeUint8=a.prototype.writeUInt8=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,1,255,0),this[h]=f&255,h+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,2,65535,0),this[h]=f&255,this[h+1]=f>>>8,h+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,2,65535,0),this[h]=f>>>8,this[h+1]=f&255,h+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,4,4294967295,0),this[h+3]=f>>>24,this[h+2]=f>>>16,this[h+1]=f>>>8,this[h]=f&255,h+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,4,4294967295,0),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4};function A(w,f,h,I,O){Ze(f,I,O,w,h,7);let D=Number(f&BigInt(4294967295));w[h++]=D,D=D>>8,w[h++]=D,D=D>>8,w[h++]=D,D=D>>8,w[h++]=D;let z=Number(f>>BigInt(32)&BigInt(4294967295));return w[h++]=z,z=z>>8,w[h++]=z,z=z>>8,w[h++]=z,z=z>>8,w[h++]=z,h}function te(w,f,h,I,O){Ze(f,I,O,w,h,7);let D=Number(f&BigInt(4294967295));w[h+7]=D,D=D>>8,w[h+6]=D,D=D>>8,w[h+5]=D,D=D>>8,w[h+4]=D;let z=Number(f>>BigInt(32)&BigInt(4294967295));return w[h+3]=z,z=z>>8,w[h+2]=z,z=z>>8,w[h+1]=z,z=z>>8,w[h]=z,h+8}a.prototype.writeBigUInt64LE=$t(function(f,h=0){return A(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=$t(function(f,h=0){return te(this,f,h,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(f,h,I,O){if(f=+f,h=h>>>0,!O){const ke=Math.pow(2,8*I-1);d(this,f,h,I,ke-1,-ke)}let D=0,z=1,Ie=0;for(this[h]=f&255;++D<I&&(z*=256);)f<0&&Ie===0&&this[h+D-1]!==0&&(Ie=1),this[h+D]=(f/z>>0)-Ie&255;return h+I},a.prototype.writeIntBE=function(f,h,I,O){if(f=+f,h=h>>>0,!O){const ke=Math.pow(2,8*I-1);d(this,f,h,I,ke-1,-ke)}let D=I-1,z=1,Ie=0;for(this[h+D]=f&255;--D>=0&&(z*=256);)f<0&&Ie===0&&this[h+D+1]!==0&&(Ie=1),this[h+D]=(f/z>>0)-Ie&255;return h+I},a.prototype.writeInt8=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,1,127,-128),f<0&&(f=255+f+1),this[h]=f&255,h+1},a.prototype.writeInt16LE=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,2,32767,-32768),this[h]=f&255,this[h+1]=f>>>8,h+2},a.prototype.writeInt16BE=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,2,32767,-32768),this[h]=f>>>8,this[h+1]=f&255,h+2},a.prototype.writeInt32LE=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,4,2147483647,-2147483648),this[h]=f&255,this[h+1]=f>>>8,this[h+2]=f>>>16,this[h+3]=f>>>24,h+4},a.prototype.writeInt32BE=function(f,h,I){return f=+f,h=h>>>0,I||d(this,f,h,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[h]=f>>>24,this[h+1]=f>>>16,this[h+2]=f>>>8,this[h+3]=f&255,h+4},a.prototype.writeBigInt64LE=$t(function(f,h=0){return A(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=$t(function(f,h=0){return te(this,f,h,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function J(w,f,h,I,O,D){if(h+I>w.length)throw new RangeError("Index out of range");if(h<0)throw new RangeError("Index out of range")}function re(w,f,h,I,O){return f=+f,h=h>>>0,O||J(w,f,h,4),n.write(w,f,h,I,23,4),h+4}a.prototype.writeFloatLE=function(f,h,I){return re(this,f,h,!0,I)},a.prototype.writeFloatBE=function(f,h,I){return re(this,f,h,!1,I)};function we(w,f,h,I,O){return f=+f,h=h>>>0,O||J(w,f,h,8),n.write(w,f,h,I,52,8),h+8}a.prototype.writeDoubleLE=function(f,h,I){return we(this,f,h,!0,I)},a.prototype.writeDoubleBE=function(f,h,I){return we(this,f,h,!1,I)},a.prototype.copy=function(f,h,I,O){if(!a.isBuffer(f))throw new TypeError("argument should be a Buffer");if(I||(I=0),!O&&O!==0&&(O=this.length),h>=f.length&&(h=f.length),h||(h=0),O>0&&O<I&&(O=I),O===I||f.length===0||this.length===0)return 0;if(h<0)throw new RangeError("targetStart out of bounds");if(I<0||I>=this.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("sourceEnd out of bounds");O>this.length&&(O=this.length),f.length-h<O-I&&(O=f.length-h+I);const D=O-I;return this===f&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(h,I,O):Uint8Array.prototype.set.call(f,this.subarray(I,O),h),D},a.prototype.fill=function(f,h,I,O){if(typeof f=="string"){if(typeof h=="string"?(O=h,h=0,I=this.length):typeof I=="string"&&(O=I,I=this.length),O!==void 0&&typeof O!="string")throw new TypeError("encoding must be a string");if(typeof O=="string"&&!a.isEncoding(O))throw new TypeError("Unknown encoding: "+O);if(f.length===1){const z=f.charCodeAt(0);(O==="utf8"&&z<128||O==="latin1")&&(f=z)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(h<0||this.length<h||this.length<I)throw new RangeError("Out of range index");if(I<=h)return this;h=h>>>0,I=I===void 0?this.length:I>>>0,f||(f=0);let D;if(typeof f=="number")for(D=h;D<I;++D)this[D]=f;else{const z=a.isBuffer(f)?f:a.from(f,O),Ie=z.length;if(Ie===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(D=0;D<I-h;++D)this[D+h]=z[D%Ie]}return this};const ve={};function ye(w,f,h){ve[w]=class extends h{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${w}]`,this.stack,delete this.name}get code(){return w}set code(O){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:O,writable:!0})}toString(){return`${this.name} [${w}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(w){return w?`${w} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(w,f){return`The "${w}" argument must be of type number. Received type ${typeof f}`},TypeError),ye("ERR_OUT_OF_RANGE",function(w,f,h){let I=`The value of "${w}" is out of range.`,O=h;return Number.isInteger(h)&&Math.abs(h)>2**32?O=$e(String(h)):typeof h=="bigint"&&(O=String(h),(h>BigInt(2)**BigInt(32)||h<-(BigInt(2)**BigInt(32)))&&(O=$e(O)),O+="n"),I+=` It must be ${f}. Received ${O}`,I},RangeError);function $e(w){let f="",h=w.length;const I=w[0]==="-"?1:0;for(;h>=I+4;h-=3)f=`_${w.slice(h-3,h)}${f}`;return`${w.slice(0,h)}${f}`}function Ve(w,f,h){hn(f,"offset"),(w[f]===void 0||w[f+h]===void 0)&&Ke(f,w.length-(h+1))}function Ze(w,f,h,I,O,D){if(w>h||w<f){const z=typeof f=="bigint"?"n":"";let Ie;throw f===0||f===BigInt(0)?Ie=`>= 0${z} and < 2${z} ** ${(D+1)*8}${z}`:Ie=`>= -(2${z} ** ${(D+1)*8-1}${z}) and < 2 ** ${(D+1)*8-1}${z}`,new ve.ERR_OUT_OF_RANGE("value",Ie,w)}Ve(I,O,D)}function hn(w,f){if(typeof w!="number")throw new ve.ERR_INVALID_ARG_TYPE(f,"number",w)}function Ke(w,f,h){throw Math.floor(w)!==w?(hn(w,h),new ve.ERR_OUT_OF_RANGE("offset","an integer",w)):f<0?new ve.ERR_BUFFER_OUT_OF_BOUNDS:new ve.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,w)}const nt=/[^+/0-9A-Za-z-_]/g;function sr(w){if(w=w.split("=")[0],w=w.trim().replace(nt,""),w.length<2)return"";for(;w.length%4!==0;)w=w+"=";return w}function Ye(w,f){f=f||1/0;let h;const I=w.length;let O=null;const D=[];for(let z=0;z<I;++z){if(h=w.charCodeAt(z),h>55295&&h<57344){if(!O){if(h>56319){(f-=3)>-1&&D.push(239,191,189);continue}else if(z+1===I){(f-=3)>-1&&D.push(239,191,189);continue}O=h;continue}if(h<56320){(f-=3)>-1&&D.push(239,191,189),O=h;continue}h=(O-55296<<10|h-56320)+65536}else O&&(f-=3)>-1&&D.push(239,191,189);if(O=null,h<128){if((f-=1)<0)break;D.push(h)}else if(h<2048){if((f-=2)<0)break;D.push(h>>6|192,h&63|128)}else if(h<65536){if((f-=3)<0)break;D.push(h>>12|224,h>>6&63|128,h&63|128)}else if(h<1114112){if((f-=4)<0)break;D.push(h>>18|240,h>>12&63|128,h>>6&63|128,h&63|128)}else throw new Error("Invalid code point")}return D}function at(w){const f=[];for(let h=0;h<w.length;++h)f.push(w.charCodeAt(h)&255);return f}function Ui(w,f){let h,I,O;const D=[];for(let z=0;z<w.length&&!((f-=2)<0);++z)h=w.charCodeAt(z),I=h>>8,O=h%256,D.push(O),D.push(I);return D}function Xe(w){return e.toByteArray(sr(w))}function Ue(w,f,h,I){let O;for(O=0;O<I&&!(O+h>=f.length||O>=w.length);++O)f[O+h]=w[O];return O}function Xt(w,f){return w instanceof f||w!=null&&w.constructor!=null&&w.constructor.name!=null&&w.constructor.name===f.name}function Qe(w){return w!==w}const lt=function(){const w="0123456789abcdef",f=new Array(256);for(let h=0;h<16;++h){const I=h*16;for(let O=0;O<16;++O)f[I+O]=w[h]+w[O]}return f}();function $t(w){return typeof BigInt>"u"?ut:w}function ut(){throw new Error("BigInt not supported")}})(Te);const Ms=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Ha(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function $d(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function vs(t,...e){if(!Ha(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function _1(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");$d(t.outputLen),$d(t.blockLen)}function Nu(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function pS(t,e){vs(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function vo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function yf(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function _r(t,e){return t<<32-e|t>>>e}const b1=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",mS=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ts(t){if(vs(t),b1)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=mS[t[n]];return e}const Nr={_0:48,_9:57,A:65,F:70,a:97,f:102};function km(t){if(t>=Nr._0&&t<=Nr._9)return t-Nr._0;if(t>=Nr.A&&t<=Nr.F)return t-(Nr.A-10);if(t>=Nr.a&&t<=Nr.f)return t-(Nr.a-10)}function Ou(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(b1)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=km(t.charCodeAt(s)),a=km(t.charCodeAt(s+1));if(o===void 0||a===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}r[i]=o*16+a}return r}function gS(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ap(t){return typeof t=="string"&&(t=gS(t)),vs(t),t}function Er(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];vs(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class k1{}function S1(t){const e=r=>t().update(ap(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function lp(t=32){if(Ms&&typeof Ms.getRandomValues=="function")return Ms.getRandomValues(new Uint8Array(t));if(Ms&&typeof Ms.randomBytes=="function")return Uint8Array.from(Ms.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}function yS(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),l=r?4:0,c=r?0:4;t.setUint32(e+l,o,r),t.setUint32(e+c,a,r)}function vS(t,e,n){return t&e^~t&n}function wS(t,e,n){return t&e^t&n^e&n}class E1 extends k1{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=yf(this.buffer)}update(e){Nu(this),e=ap(e),vs(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const l=yf(e);for(;i<=s-o;o+=i)this.process(l,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Nu(this),pS(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,vo(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let g=o;g<i;g++)n[g]=0;yS(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=yf(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const c=l/4,m=this.get();if(c>m.length)throw new Error("_sha2: outputLen bigger than state");for(let g=0;g<c;g++)a.setUint32(4*g,m[g],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const ii=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),bl=BigInt(2**32-1),Sm=BigInt(32);function xS(t,e=!1){return e?{h:Number(t&bl),l:Number(t>>Sm&bl)}:{h:Number(t>>Sm&bl)|0,l:Number(t&bl)|0}}function _S(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=xS(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const Em=(t,e,n)=>t>>>n,Cm=(t,e,n)=>t<<32-n|e>>>n,As=(t,e,n)=>t>>>n|e<<32-n,Bs=(t,e,n)=>t<<32-n|e>>>n,kl=(t,e,n)=>t<<64-n|e>>>n-32,Sl=(t,e,n)=>t>>>n-32|e<<64-n;function Or(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const bS=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),kS=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,SS=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),ES=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,CS=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),RS=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,IS=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),si=new Uint32Array(64);class TS extends E1{constructor(e=32){super(64,e,8,!1),this.A=ii[0]|0,this.B=ii[1]|0,this.C=ii[2]|0,this.D=ii[3]|0,this.E=ii[4]|0,this.F=ii[5]|0,this.G=ii[6]|0,this.H=ii[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:l}=this;return[e,n,r,i,s,o,a,l]}set(e,n,r,i,s,o,a,l){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=l|0}process(e,n){for(let g=0;g<16;g++,n+=4)si[g]=e.getUint32(n,!1);for(let g=16;g<64;g++){const y=si[g-15],k=si[g-2],M=_r(y,7)^_r(y,18)^y>>>3,P=_r(k,17)^_r(k,19)^k>>>10;si[g]=P+si[g-7]+M+si[g-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:l,G:c,H:m}=this;for(let g=0;g<64;g++){const y=_r(a,6)^_r(a,11)^_r(a,25),k=m+y+vS(a,l,c)+IS[g]+si[g]|0,P=(_r(r,2)^_r(r,13)^_r(r,22))+wS(r,i,s)|0;m=c,c=l,l=a,a=o+k|0,o=s,s=i,i=r,r=k+P|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,l=l+this.F|0,c=c+this.G|0,m=m+this.H|0,this.set(r,i,s,o,a,l,c,m)}roundClean(){vo(si)}destroy(){this.set(0,0,0,0,0,0,0,0),vo(this.buffer)}}const C1=_S(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),MS=C1[0],AS=C1[1],oi=new Uint32Array(80),ai=new Uint32Array(80);class BS extends E1{constructor(e=64){super(128,e,16,!1),this.Ah=tn[0]|0,this.Al=tn[1]|0,this.Bh=tn[2]|0,this.Bl=tn[3]|0,this.Ch=tn[4]|0,this.Cl=tn[5]|0,this.Dh=tn[6]|0,this.Dl=tn[7]|0,this.Eh=tn[8]|0,this.El=tn[9]|0,this.Fh=tn[10]|0,this.Fl=tn[11]|0,this.Gh=tn[12]|0,this.Gl=tn[13]|0,this.Hh=tn[14]|0,this.Hl=tn[15]|0}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:l,Eh:c,El:m,Fh:g,Fl:y,Gh:k,Gl:M,Hh:P,Hl:L}=this;return[e,n,r,i,s,o,a,l,c,m,g,y,k,M,P,L]}set(e,n,r,i,s,o,a,l,c,m,g,y,k,M,P,L){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=l|0,this.Eh=c|0,this.El=m|0,this.Fh=g|0,this.Fl=y|0,this.Gh=k|0,this.Gl=M|0,this.Hh=P|0,this.Hl=L|0}process(e,n){for(let C=0;C<16;C++,n+=4)oi[C]=e.getUint32(n),ai[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const j=oi[C-15]|0,V=ai[C-15]|0,W=As(j,V,1)^As(j,V,8)^Em(j,V,7),Z=Bs(j,V,1)^Bs(j,V,8)^Cm(j,V,7),q=oi[C-2]|0,$=ai[C-2]|0,H=As(q,$,19)^kl(q,$,61)^Em(q,$,6),ee=Bs(q,$,19)^Sl(q,$,61)^Cm(q,$,6),Q=SS(Z,ee,ai[C-7],ai[C-16]),b=ES(Q,W,H,oi[C-7],oi[C-16]);oi[C]=b|0,ai[C]=Q|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:l,Dh:c,Dl:m,Eh:g,El:y,Fh:k,Fl:M,Gh:P,Gl:L,Hh:S,Hl:R}=this;for(let C=0;C<80;C++){const j=As(g,y,14)^As(g,y,18)^kl(g,y,41),V=Bs(g,y,14)^Bs(g,y,18)^Sl(g,y,41),W=g&k^~g&P,Z=y&M^~y&L,q=CS(R,V,Z,AS[C],ai[C]),$=RS(q,S,j,W,MS[C],oi[C]),H=q|0,ee=As(r,i,28)^kl(r,i,34)^kl(r,i,39),Q=Bs(r,i,28)^Sl(r,i,34)^Sl(r,i,39),b=r&s^r&a^s&a,u=i&o^i&l^o&l;S=P|0,R=L|0,P=k|0,L=M|0,k=g|0,M=y|0,{h:g,l:y}=Or(c|0,m|0,$|0,H|0),c=a|0,m=l|0,a=s|0,l=o|0,s=r|0,o=i|0;const p=bS(H,Q,u);r=kS(p,$,ee,b),i=p|0}({h:r,l:i}=Or(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Or(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l}=Or(this.Ch|0,this.Cl|0,a|0,l|0),{h:c,l:m}=Or(this.Dh|0,this.Dl|0,c|0,m|0),{h:g,l:y}=Or(this.Eh|0,this.El|0,g|0,y|0),{h:k,l:M}=Or(this.Fh|0,this.Fl|0,k|0,M|0),{h:P,l:L}=Or(this.Gh|0,this.Gl|0,P|0,L|0),{h:S,l:R}=Or(this.Hh|0,this.Hl|0,S|0,R|0),this.set(r,i,s,o,a,l,c,m,g,y,k,M,P,L,S,R)}roundClean(){vo(oi,ai)}destroy(){vo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const R1=S1(()=>new TS),PS=S1(()=>new BS);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const up=BigInt(0),Vd=BigInt(1);function ds(t,e=""){if(typeof t!="boolean"){const n=e&&`"${e}"`;throw new Error(n+"expected boolean, got type="+typeof t)}return t}function fr(t,e,n=""){const r=Ha(t),i=t==null?void 0:t.length,s=e!==void 0;if(!r||s&&i!==e){const o=n&&`"${n}" `,a=s?` of length ${e}`:"",l=r?`length=${i}`:`type=${typeof t}`;throw new Error(o+"expected Uint8Array"+a+", got "+l)}return t}function El(t){const e=t.toString(16);return e.length&1?"0"+e:e}function I1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?up:BigInt("0x"+t)}function yc(t){return I1(ts(t))}function Ca(t){return vs(t),I1(ts(Uint8Array.from(t).reverse()))}function cp(t,e){return Ou(t.toString(16).padStart(e*2,"0"))}function T1(t,e){return cp(t,e).reverse()}function Ct(t,e,n){let r;if(typeof e=="string")try{r=Ou(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Ha(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Rm(t){return Uint8Array.from(t)}const vf=t=>typeof t=="bigint"&&up<=t;function NS(t,e,n){return vf(t)&&vf(e)&&vf(n)&&e<=t&&t<n}function Kd(t,e,n,r){if(!NS(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function M1(t){let e;for(e=0;t>up;t>>=Vd,e+=1);return e}const Za=t=>(Vd<<BigInt(t))-Vd;function OS(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=k=>new Uint8Array(k),i=k=>Uint8Array.of(k);let s=r(t),o=r(t),a=0;const l=()=>{s.fill(1),o.fill(0),a=0},c=(...k)=>n(o,s,...k),m=(k=r(0))=>{o=c(i(0),k),s=c(),k.length!==0&&(o=c(i(1),k),s=c())},g=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let k=0;const M=[];for(;k<e;){s=c();const P=s.slice();M.push(P),k+=s.length}return Er(...M)};return(k,M)=>{l(),m(k);let P;for(;!(P=M(g()));)m();return l(),P}}function qa(t,e,n={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function r(i,s,o){const a=t[i];if(o&&a===void 0)return;const l=typeof a;if(l!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>r(i,s,!1)),Object.entries(n).forEach(([i,s])=>r(i,s,!0))}function Lu(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Mn=BigInt(0),Gt=BigInt(1),Gi=BigInt(2),A1=BigInt(3),B1=BigInt(4),P1=BigInt(5),LS=BigInt(7),N1=BigInt(8),jS=BigInt(9),O1=BigInt(16);function Nt(t,e){const n=t%e;return n>=Mn?n:e+n}function Et(t,e,n){let r=t;for(;e-- >Mn;)r*=r,r%=n;return r}function Im(t,e){if(t===Mn)throw new Error("invert: expected non-zero number");if(e<=Mn)throw new Error("invert: expected positive modulus, got "+e);let n=Nt(t,e),r=e,i=Mn,s=Gt;for(;n!==Mn;){const a=r/n,l=r%n,c=i-s*a;r=n,n=l,i=s,s=c}if(r!==Gt)throw new Error("invert: does not exist");return Nt(i,e)}function fp(t,e,n){if(!t.eql(t.sqr(e),n))throw new Error("Cannot find square root")}function L1(t,e){const n=(t.ORDER+Gt)/B1,r=t.pow(e,n);return fp(t,r,e),r}function DS(t,e){const n=(t.ORDER-P1)/N1,r=t.mul(e,Gi),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,Gi),i),a=t.mul(s,t.sub(o,t.ONE));return fp(t,a,e),a}function US(t){const e=ws(t),n=j1(t),r=n(e,e.neg(e.ONE)),i=n(e,r),s=n(e,e.neg(r)),o=(t+LS)/O1;return(a,l)=>{let c=a.pow(l,o),m=a.mul(c,r);const g=a.mul(c,i),y=a.mul(c,s),k=a.eql(a.sqr(m),l),M=a.eql(a.sqr(g),l);c=a.cmov(c,m,k),m=a.cmov(y,g,M);const P=a.eql(a.sqr(m),l),L=a.cmov(c,m,P);return fp(a,L,l),L}}function j1(t){if(t<A1)throw new Error("sqrt is not defined for small field");let e=t-Gt,n=0;for(;e%Gi===Mn;)e/=Gi,n++;let r=Gi;const i=ws(t);for(;Tm(i,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return L1;let s=i.pow(r,e);const o=(e+Gt)/Gi;return function(l,c){if(l.is0(c))return c;if(Tm(l,c)!==1)throw new Error("Cannot find square root");let m=n,g=l.mul(l.ONE,s),y=l.pow(c,e),k=l.pow(c,o);for(;!l.eql(y,l.ONE);){if(l.is0(y))return l.ZERO;let M=1,P=l.sqr(y);for(;!l.eql(P,l.ONE);)if(M++,P=l.sqr(P),M===m)throw new Error("Cannot find square root");const L=Gt<<BigInt(m-M-1),S=l.pow(g,L);m=M,g=l.sqr(S),y=l.mul(y,g),k=l.mul(k,S)}return k}}function FS(t){return t%B1===A1?L1:t%N1===P1?DS:t%O1===jS?US(t):j1(t)}const zS=(t,e)=>(Nt(t,e)&Gt)===Gt,$S=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VS(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=$S.reduce((r,i)=>(r[i]="function",r),e);return qa(t,n),t}function KS(t,e,n){if(n<Mn)throw new Error("invalid exponent, negatives unsupported");if(n===Mn)return t.ONE;if(n===Gt)return e;let r=t.ONE,i=e;for(;n>Mn;)n&Gt&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Gt;return r}function D1(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,l)=>t.is0(a)?o:(r[l]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,l)=>t.is0(a)?o:(r[l]=t.mul(o,r[l]),t.mul(o,a)),s),r}function Tm(t,e){const n=(t.ORDER-Gt)/Gi,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function U1(t,e){e!==void 0&&$d(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function ws(t,e,n=!1,r={}){if(t<=Mn)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s,o=!1,a;if(typeof e=="object"&&e!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const y=e;y.BITS&&(i=y.BITS),y.sqrt&&(s=y.sqrt),typeof y.isLE=="boolean"&&(n=y.isLE),typeof y.modFromBytes=="boolean"&&(o=y.modFromBytes),a=y.allowedLengths}else typeof e=="number"&&(i=e),r.sqrt&&(s=r.sqrt);const{nBitLength:l,nByteLength:c}=U1(t,i);if(c>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let m;const g=Object.freeze({ORDER:t,isLE:n,BITS:l,BYTES:c,MASK:Za(l),ZERO:Mn,ONE:Gt,allowedLengths:a,create:y=>Nt(y,t),isValid:y=>{if(typeof y!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof y);return Mn<=y&&y<t},is0:y=>y===Mn,isValidNot0:y=>!g.is0(y)&&g.isValid(y),isOdd:y=>(y&Gt)===Gt,neg:y=>Nt(-y,t),eql:(y,k)=>y===k,sqr:y=>Nt(y*y,t),add:(y,k)=>Nt(y+k,t),sub:(y,k)=>Nt(y-k,t),mul:(y,k)=>Nt(y*k,t),pow:(y,k)=>KS(g,y,k),div:(y,k)=>Nt(y*Im(k,t),t),sqrN:y=>y*y,addN:(y,k)=>y+k,subN:(y,k)=>y-k,mulN:(y,k)=>y*k,inv:y=>Im(y,t),sqrt:s||(y=>(m||(m=FS(t)),m(g,y))),toBytes:y=>n?T1(y,c):cp(y,c),fromBytes:(y,k=!0)=>{if(a){if(!a.includes(y.length)||y.length>c)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+y.length);const P=new Uint8Array(c);P.set(y,n?0:P.length-y.length),y=P}if(y.length!==c)throw new Error("Field.fromBytes: expected "+c+" bytes, got "+y.length);let M=n?Ca(y):yc(y);if(o&&(M=Nt(M,t)),!k&&!g.isValid(M))throw new Error("invalid field element: outside of range 0..ORDER");return M},invertBatch:y=>D1(g,y),cmov:(y,k,M)=>M?k:y});return Object.freeze(g)}function F1(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function z1(t){const e=F1(t);return e+Math.ceil(e/2)}function WS(t,e,n=!1){const r=t.length,i=F1(e),s=z1(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Ca(t):yc(t),a=Nt(o,e-Gt)+Gt;return n?T1(a,i):cp(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wo=BigInt(0),Yi=BigInt(1);function ju(t,e){const n=e.negate();return t?n:e}function Ji(t,e){const n=D1(t.Fp,e.map(r=>r.Z));return e.map((r,i)=>t.fromAffine(r.toAffine(n[i])))}function $1(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function wf(t,e){$1(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=Za(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function Mm(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),l=t>>o;a>r&&(a-=s,l+=Yi);const c=e*r,m=c+Math.abs(a)-1,g=a===0,y=a<0,k=e%2!==0;return{nextN:l,offset:m,isZero:g,isNeg:y,isNegF:k,offsetF:c}}function HS(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function ZS(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const xf=new WeakMap,V1=new WeakMap;function _f(t){return V1.get(t)||1}function Am(t){if(t!==wo)throw new Error("invalid wNAF")}class K1{constructor(e,n){this.BASE=e.BASE,this.ZERO=e.ZERO,this.Fn=e.Fn,this.bits=n}_unsafeLadder(e,n,r=this.ZERO){let i=e;for(;n>wo;)n&Yi&&(r=r.add(i)),i=i.double(),n>>=Yi;return r}precomputeWindow(e,n){const{windows:r,windowSize:i}=wf(n,this.bits),s=[];let o=e,a=o;for(let l=0;l<r;l++){a=o,s.push(a);for(let c=1;c<i;c++)a=a.add(o),s.push(a);o=a.double()}return s}wNAF(e,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let i=this.ZERO,s=this.BASE;const o=wf(e,this.bits);for(let a=0;a<o.windows;a++){const{nextN:l,offset:c,isZero:m,isNeg:g,isNegF:y,offsetF:k}=Mm(r,a,o);r=l,m?s=s.add(ju(y,n[k])):i=i.add(ju(g,n[c]))}return Am(r),{p:i,f:s}}wNAFUnsafe(e,n,r,i=this.ZERO){const s=wf(e,this.bits);for(let o=0;o<s.windows&&r!==wo;o++){const{nextN:a,offset:l,isZero:c,isNeg:m}=Mm(r,o,s);if(r=a,!c){const g=n[l];i=i.add(m?g.negate():g)}}return Am(r),i}getPrecomputes(e,n,r){let i=xf.get(n);return i||(i=this.precomputeWindow(n,e),e!==1&&(typeof r=="function"&&(i=r(i)),xf.set(n,i))),i}cached(e,n,r){const i=_f(e);return this.wNAF(i,this.getPrecomputes(i,e,r),n)}unsafe(e,n,r,i){const s=_f(e);return s===1?this._unsafeLadder(e,n,i):this.wNAFUnsafe(s,this.getPrecomputes(s,e,r),n,i)}createCache(e,n){$1(n,this.bits),V1.set(e,n),xf.delete(e)}hasCache(e){return _f(e)!==1}}function qS(t,e,n,r){let i=e,s=t.ZERO,o=t.ZERO;for(;n>wo||r>wo;)n&Yi&&(s=s.add(i)),r&Yi&&(o=o.add(i)),i=i.double(),n>>=Yi,r>>=Yi;return{p1:s,p2:o}}function W1(t,e,n,r){HS(n,t),ZS(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=M1(BigInt(i));let l=1;a>12?l=a-3:a>4?l=a-2:a>0&&(l=2);const c=Za(l),m=new Array(Number(c)+1).fill(o),g=Math.floor((e.BITS-1)/l)*l;let y=o;for(let k=g;k>=0;k-=l){m.fill(o);for(let P=0;P<s;P++){const L=r[P],S=Number(L>>BigInt(k)&c);m[S]=m[S].add(n[P])}let M=o;for(let P=m.length-1,L=o;P>0;P--)L=L.add(m[P]),M=M.add(L);if(y=y.add(M),k!==0)for(let P=0;P<l;P++)y=y.double()}return y}function Bm(t,e,n){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return VS(e),e}else return ws(t,{isLE:n})}function H1(t,e,n={},r){if(r===void 0&&(r=t==="edwards"),!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const l of["p","n","h"]){const c=e[l];if(!(typeof c=="bigint"&&c>wo))throw new Error(`CURVE.${l} must be positive bigint`)}const i=Bm(e.p,n.Fp,r),s=Bm(e.n,n.Fn,r),a=["Gx","Gy","a",t==="weierstrass"?"b":"d"];for(const l of a)if(!i.isValid(e[l]))throw new Error(`CURVE.${l} must be valid field element of CURVE.Fp`);return e=Object.freeze(Object.assign({},e)),{CURVE:e,Fp:i,Fn:s}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const li=BigInt(0),Ut=BigInt(1),bf=BigInt(2),GS=BigInt(8);function YS(t,e,n,r){const i=t.sqr(n),s=t.sqr(r),o=t.add(t.mul(e.a,i),s),a=t.add(t.ONE,t.mul(e.d,t.mul(i,s)));return t.eql(o,a)}function JS(t,e={}){const n=H1("edwards",t,e,e.FpFnLE),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o}=s;qa(e,{},{uvRatio:"function"});const a=bf<<BigInt(i.BYTES*8)-Ut,l=L=>r.create(L),c=e.uvRatio||((L,S)=>{try{return{isValid:!0,value:r.sqrt(r.div(L,S))}}catch{return{isValid:!1,value:li}}});if(!YS(r,s,s.Gx,s.Gy))throw new Error("bad curve params: generator point");function m(L,S,R=!1){const C=R?Ut:li;return Kd("coordinate "+L,S,C,a),S}function g(L){if(!(L instanceof M))throw new Error("ExtendedPoint expected")}const y=Lu((L,S)=>{const{X:R,Y:C,Z:j}=L,V=L.is0();S==null&&(S=V?GS:r.inv(j));const W=l(R*S),Z=l(C*S),q=r.mul(j,S);if(V)return{x:li,y:Ut};if(q!==Ut)throw new Error("invZ was invalid");return{x:W,y:Z}}),k=Lu(L=>{const{a:S,d:R}=s;if(L.is0())throw new Error("bad point: ZERO");const{X:C,Y:j,Z:V,T:W}=L,Z=l(C*C),q=l(j*j),$=l(V*V),H=l($*$),ee=l(Z*S),Q=l($*l(ee+q)),b=l(H+l(R*l(Z*q)));if(Q!==b)throw new Error("bad point: equation left != right (1)");const u=l(C*j),p=l(V*W);if(u!==p)throw new Error("bad point: equation left != right (2)");return!0});class M{constructor(S,R,C,j){this.X=m("x",S),this.Y=m("y",R),this.Z=m("z",C,!0),this.T=m("t",j),Object.freeze(this)}static CURVE(){return s}static fromAffine(S){if(S instanceof M)throw new Error("extended point not allowed");const{x:R,y:C}=S||{};return m("x",R),m("y",C),new M(R,C,Ut,l(R*C))}static fromBytes(S,R=!1){const C=r.BYTES,{a:j,d:V}=s;S=Rm(fr(S,C,"point")),ds(R,"zip215");const W=Rm(S),Z=S[C-1];W[C-1]=Z&-129;const q=Ca(W),$=R?a:r.ORDER;Kd("point.y",q,li,$);const H=l(q*q),ee=l(H-Ut),Q=l(V*H-j);let{isValid:b,value:u}=c(ee,Q);if(!b)throw new Error("bad point: invalid y coordinate");const p=(u&Ut)===Ut,v=(Z&128)!==0;if(!R&&u===li&&v)throw new Error("bad point: x=0 and x_0=1");return v!==p&&(u=l(-u)),M.fromAffine({x:u,y:q})}static fromHex(S,R=!1){return M.fromBytes(Ct("point",S),R)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,R=!0){return P.createCache(this,S),R||this.multiply(bf),this}assertValidity(){k(this)}equals(S){g(S);const{X:R,Y:C,Z:j}=this,{X:V,Y:W,Z}=S,q=l(R*Z),$=l(V*j),H=l(C*Z),ee=l(W*j);return q===$&&H===ee}is0(){return this.equals(M.ZERO)}negate(){return new M(l(-this.X),this.Y,this.Z,l(-this.T))}double(){const{a:S}=s,{X:R,Y:C,Z:j}=this,V=l(R*R),W=l(C*C),Z=l(bf*l(j*j)),q=l(S*V),$=R+C,H=l(l($*$)-V-W),ee=q+W,Q=ee-Z,b=q-W,u=l(H*Q),p=l(ee*b),v=l(H*b),E=l(Q*ee);return new M(u,p,E,v)}add(S){g(S);const{a:R,d:C}=s,{X:j,Y:V,Z:W,T:Z}=this,{X:q,Y:$,Z:H,T:ee}=S,Q=l(j*q),b=l(V*$),u=l(Z*C*ee),p=l(W*H),v=l((j+V)*(q+$)-Q-b),E=p-u,_=p+u,T=l(b-R*Q),B=l(v*E),x=l(_*T),d=l(v*T),A=l(E*_);return new M(B,x,A,d)}subtract(S){return this.add(S.negate())}multiply(S){if(!i.isValidNot0(S))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:R,f:C}=P.cached(this,S,j=>Ji(M,j));return Ji(M,[R,C])[0]}multiplyUnsafe(S,R=M.ZERO){if(!i.isValid(S))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return S===li?M.ZERO:this.is0()||S===Ut?this:P.unsafe(this,S,C=>Ji(M,C),R)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return P.unsafe(this,s.n).is0()}toAffine(S){return y(this,S)}clearCofactor(){return o===Ut?this:this.multiplyUnsafe(o)}toBytes(){const{x:S,y:R}=this.toAffine(),C=r.toBytes(R);return C[C.length-1]|=S&Ut?128:0,C}toHex(){return ts(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(S){return Ji(M,S)}static msm(S,R){return W1(M,i,S,R)}_setWindowSize(S){this.precompute(S)}toRawBytes(){return this.toBytes()}}M.BASE=new M(s.Gx,s.Gy,Ut,l(s.Gx*s.Gy)),M.ZERO=new M(li,Ut,Ut,li),M.Fp=r,M.Fn=i;const P=new K1(M,i.BITS);return M.BASE.precompute(8),M}function XS(t,e,n={}){if(typeof e!="function")throw new Error('"hash" function param is required');qa(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:i,Fp:s,Fn:o}=t,a=n.randomBytes||lp,l=n.adjustScalarBytes||($=>$),c=n.domain||(($,H,ee)=>{if(ds(ee,"phflag"),H.length||ee)throw new Error("Contexts/pre-hash are not supported");return $});function m($){return o.create(Ca($))}function g($){const H=C.secretKey;$=Ct("private key",$,H);const ee=Ct("hashed private key",e($),2*H),Q=l(ee.slice(0,H)),b=ee.slice(H,2*H),u=m(Q);return{head:Q,prefix:b,scalar:u}}function y($){const{head:H,prefix:ee,scalar:Q}=g($),b=i.multiply(Q),u=b.toBytes();return{head:H,prefix:ee,scalar:Q,point:b,pointBytes:u}}function k($){return y($).pointBytes}function M($=Uint8Array.of(),...H){const ee=Er(...H);return m(e(c(ee,Ct("context",$),!!r)))}function P($,H,ee={}){$=Ct("message",$),r&&($=r($));const{prefix:Q,scalar:b,pointBytes:u}=y(H),p=M(ee.context,Q,$),v=i.multiply(p).toBytes(),E=M(ee.context,v,u,$),_=o.create(p+E*b);if(!o.isValid(_))throw new Error("sign failed: invalid s");const T=Er(v,o.toBytes(_));return fr(T,C.signature,"result")}const L={zip215:!0};function S($,H,ee,Q=L){const{context:b,zip215:u}=Q,p=C.signature;$=Ct("signature",$,p),H=Ct("message",H),ee=Ct("publicKey",ee,C.publicKey),u!==void 0&&ds(u,"zip215"),r&&(H=r(H));const v=p/2,E=$.subarray(0,v),_=Ca($.subarray(v,p));let T,B,x;try{T=t.fromBytes(ee,u),B=t.fromBytes(E,u),x=i.multiplyUnsafe(_)}catch{return!1}if(!u&&T.isSmallOrder())return!1;const d=M(b,B.toBytes(),T.toBytes(),H);return B.add(T.multiplyUnsafe(d)).subtract(x).clearCofactor().is0()}const R=s.BYTES,C={secretKey:R,publicKey:R,signature:2*R,seed:R};function j($=a(C.seed)){return fr($,C.seed,"seed")}function V($){const H=q.randomSecretKey($);return{secretKey:H,publicKey:k(H)}}function W($){return Ha($)&&$.length===o.BYTES}function Z($,H){try{return!!t.fromBytes($,H)}catch{return!1}}const q={getExtendedPublicKey:y,randomSecretKey:j,isValidSecretKey:W,isValidPublicKey:Z,toMontgomery($){const{y:H}=t.fromBytes($),ee=C.publicKey,Q=ee===32;if(!Q&&ee!==57)throw new Error("only defined for 25519 and 448");const b=Q?s.div(Ut+H,Ut-H):s.div(H-Ut,H+Ut);return s.toBytes(b)},toMontgomerySecret($){const H=C.secretKey;fr($,H);const ee=e($.subarray(0,H));return l(ee).subarray(0,H)},randomPrivateKey:j,precompute($=8,H=t.BASE){return H.precompute($,!1)}};return Object.freeze({keygen:V,getPublicKey:k,sign:P,verify:S,utils:q,Point:t,lengths:C})}function QS(t){const e={a:t.a,d:t.d,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp,r=ws(e.n,t.nBitLength,!0),i={Fp:n,Fn:r,uvRatio:t.uvRatio},s={randomBytes:t.randomBytes,adjustScalarBytes:t.adjustScalarBytes,domain:t.domain,prehash:t.prehash,mapToCurve:t.mapToCurve};return{CURVE:e,curveOpts:i,hash:t.hash,eddsaOpts:s}}function eE(t,e){const n=e.Point;return Object.assign({},e,{ExtendedPoint:n,CURVE:t,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function tE(t){const{CURVE:e,curveOpts:n,hash:r,eddsaOpts:i}=QS(t),s=JS(e,n),o=XS(s,r,i);return eE(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const nE=BigInt(1),Pm=BigInt(2);BigInt(3);const rE=BigInt(5),iE=BigInt(8),dp=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),Z1={p:dp,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:iE,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function sE(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=dp,a=t*t%s*t%s,l=Et(a,Pm,s)*a%s,c=Et(l,nE,s)*t%s,m=Et(c,rE,s)*c%s,g=Et(m,e,s)*m%s,y=Et(g,n,s)*g%s,k=Et(y,r,s)*y%s,M=Et(k,i,s)*k%s,P=Et(M,i,s)*k%s,L=Et(P,e,s)*m%s;return{pow_p_5_8:Et(L,Pm,s)*t%s,b2:a}}function oE(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const Nm=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function aE(t,e){const n=dp,r=Nt(e*e*e,n),i=Nt(r*r*e,n),s=sE(t*i).pow_p_5_8;let o=Nt(t*r*s,n);const a=Nt(e*o*o,n),l=o,c=Nt(o*Nm,n),m=a===t,g=a===Nt(-t,n),y=a===Nt(-t*Nm,n);return m&&(o=l),(g||y)&&(o=c),zS(o,n)&&(o=Nt(-o,n)),{isValid:m||g,value:o}}const lE=ws(Z1.p,{isLE:!0}),uE={...Z1,Fp:lE,hash:PS,adjustScalarBytes:oE,uvRatio:aE},Ga=tE(uE);var hp={exports:{}};const cE={},fE=Object.freeze(Object.defineProperty({__proto__:null,default:cE},Symbol.toStringTag,{value:"Module"})),dE=nh(fE);hp.exports;(function(t){(function(e,n){function r(b,u){if(!b)throw new Error(u||"Assertion failed")}function i(b,u){b.super_=u;var p=function(){};p.prototype=u.prototype,b.prototype=new p,b.prototype.constructor=b}function s(b,u,p){if(s.isBN(b))return b;this.negative=0,this.words=null,this.length=0,this.red=null,b!==null&&((u==="le"||u==="be")&&(p=u,u=10),this._init(b||0,u||10,p||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=dE.Buffer}catch{}s.isBN=function(u){return u instanceof s?!0:u!==null&&typeof u=="object"&&u.constructor.wordSize===s.wordSize&&Array.isArray(u.words)},s.max=function(u,p){return u.cmp(p)>0?u:p},s.min=function(u,p){return u.cmp(p)<0?u:p},s.prototype._init=function(u,p,v){if(typeof u=="number")return this._initNumber(u,p,v);if(typeof u=="object")return this._initArray(u,p,v);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),u=u.toString().replace(/\s+/g,"");var E=0;u[0]==="-"&&(E++,this.negative=1),E<u.length&&(p===16?this._parseHex(u,E,v):(this._parseBase(u,p,E),v==="le"&&this._initArray(this.toArray(),p,v)))},s.prototype._initNumber=function(u,p,v){u<0&&(this.negative=1,u=-u),u<67108864?(this.words=[u&67108863],this.length=1):u<4503599627370496?(this.words=[u&67108863,u/67108864&67108863],this.length=2):(r(u<9007199254740992),this.words=[u&67108863,u/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),p,v)},s.prototype._initArray=function(u,p,v){if(r(typeof u.length=="number"),u.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(u.length/3),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var _,T,B=0;if(v==="be")for(E=u.length-1,_=0;E>=0;E-=3)T=u[E]|u[E-1]<<8|u[E-2]<<16,this.words[_]|=T<<B&67108863,this.words[_+1]=T>>>26-B&67108863,B+=24,B>=26&&(B-=26,_++);else if(v==="le")for(E=0,_=0;E<u.length;E+=3)T=u[E]|u[E+1]<<8|u[E+2]<<16,this.words[_]|=T<<B&67108863,this.words[_+1]=T>>>26-B&67108863,B+=24,B>=26&&(B-=26,_++);return this._strip()};function a(b,u){var p=b.charCodeAt(u);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;r(!1,"Invalid character in "+b)}function l(b,u,p){var v=a(b,p);return p-1>=u&&(v|=a(b,p-1)<<4),v}s.prototype._parseHex=function(u,p,v){this.length=Math.ceil((u.length-p)/6),this.words=new Array(this.length);for(var E=0;E<this.length;E++)this.words[E]=0;var _=0,T=0,B;if(v==="be")for(E=u.length-1;E>=p;E-=2)B=l(u,p,E)<<_,this.words[T]|=B&67108863,_>=18?(_-=18,T+=1,this.words[T]|=B>>>26):_+=8;else{var x=u.length-p;for(E=x%2===0?p+1:p;E<u.length;E+=2)B=l(u,p,E)<<_,this.words[T]|=B&67108863,_>=18?(_-=18,T+=1,this.words[T]|=B>>>26):_+=8}this._strip()};function c(b,u,p,v){for(var E=0,_=0,T=Math.min(b.length,p),B=u;B<T;B++){var x=b.charCodeAt(B)-48;E*=v,x>=49?_=x-49+10:x>=17?_=x-17+10:_=x,r(x>=0&&_<v,"Invalid character"),E+=_}return E}s.prototype._parseBase=function(u,p,v){this.words=[0],this.length=1;for(var E=0,_=1;_<=67108863;_*=p)E++;E--,_=_/p|0;for(var T=u.length-v,B=T%E,x=Math.min(T,T-B)+v,d=0,A=v;A<x;A+=E)d=c(u,A,A+E,p),this.imuln(_),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d);if(B!==0){var te=1;for(d=c(u,A,u.length,p),A=0;A<B;A++)te*=p;this.imuln(te),this.words[0]+d<67108864?this.words[0]+=d:this._iaddn(d)}this._strip()},s.prototype.copy=function(u){u.words=new Array(this.length);for(var p=0;p<this.length;p++)u.words[p]=this.words[p];u.length=this.length,u.negative=this.negative,u.red=this.red};function m(b,u){b.words=u.words,b.length=u.length,b.negative=u.negative,b.red=u.red}if(s.prototype._move=function(u){m(u,this)},s.prototype.clone=function(){var u=new s(null);return this.copy(u),u},s.prototype._expand=function(u){for(;this.length<u;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{s.prototype.inspect=g}else s.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(u,p){u=u||10,p=p|0||1;var v;if(u===16||u==="hex"){v="";for(var E=0,_=0,T=0;T<this.length;T++){var B=this.words[T],x=((B<<E|_)&16777215).toString(16);_=B>>>24-E&16777215,E+=2,E>=26&&(E-=26,T--),_!==0||T!==this.length-1?v=y[6-x.length]+x+v:v=x+v}for(_!==0&&(v=_.toString(16)+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(u===(u|0)&&u>=2&&u<=36){var d=k[u],A=M[u];v="";var te=this.clone();for(te.negative=0;!te.isZero();){var J=te.modrn(A).toString(u);te=te.idivn(A),te.isZero()?v=J+v:v=y[d-J.length]+J+v}for(this.isZero()&&(v="0"+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var u=this.words[0];return this.length===2?u+=this.words[1]*67108864:this.length===3&&this.words[2]===1?u+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-u:u},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(u,p){return this.toArrayLike(o,u,p)}),s.prototype.toArray=function(u,p){return this.toArrayLike(Array,u,p)};var P=function(u,p){return u.allocUnsafe?u.allocUnsafe(p):new u(p)};s.prototype.toArrayLike=function(u,p,v){this._strip();var E=this.byteLength(),_=v||Math.max(1,E);r(E<=_,"byte array longer than desired length"),r(_>0,"Requested array length <= 0");var T=P(u,_),B=p==="le"?"LE":"BE";return this["_toArrayLike"+B](T,E),T},s.prototype._toArrayLikeLE=function(u,p){for(var v=0,E=0,_=0,T=0;_<this.length;_++){var B=this.words[_]<<T|E;u[v++]=B&255,v<u.length&&(u[v++]=B>>8&255),v<u.length&&(u[v++]=B>>16&255),T===6?(v<u.length&&(u[v++]=B>>24&255),E=0,T=0):(E=B>>>24,T+=2)}if(v<u.length)for(u[v++]=E;v<u.length;)u[v++]=0},s.prototype._toArrayLikeBE=function(u,p){for(var v=u.length-1,E=0,_=0,T=0;_<this.length;_++){var B=this.words[_]<<T|E;u[v--]=B&255,v>=0&&(u[v--]=B>>8&255),v>=0&&(u[v--]=B>>16&255),T===6?(v>=0&&(u[v--]=B>>24&255),E=0,T=0):(E=B>>>24,T+=2)}if(v>=0)for(u[v--]=E;v>=0;)u[v--]=0},Math.clz32?s.prototype._countBits=function(u){return 32-Math.clz32(u)}:s.prototype._countBits=function(u){var p=u,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},s.prototype._zeroBits=function(u){if(u===0)return 26;var p=u,v=0;return p&8191||(v+=13,p>>>=13),p&127||(v+=7,p>>>=7),p&15||(v+=4,p>>>=4),p&3||(v+=2,p>>>=2),p&1||v++,v},s.prototype.bitLength=function(){var u=this.words[this.length-1],p=this._countBits(u);return(this.length-1)*26+p};function L(b){for(var u=new Array(b.bitLength()),p=0;p<u.length;p++){var v=p/26|0,E=p%26;u[p]=b.words[v]>>>E&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var u=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(u+=v,v!==26)break}return u},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(u){return this.negative!==0?this.abs().inotn(u).iaddn(1):this.clone()},s.prototype.fromTwos=function(u){return this.testn(u-1)?this.notn(u).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(u){for(;this.length<u.length;)this.words[this.length++]=0;for(var p=0;p<u.length;p++)this.words[p]=this.words[p]|u.words[p];return this._strip()},s.prototype.ior=function(u){return r((this.negative|u.negative)===0),this.iuor(u)},s.prototype.or=function(u){return this.length>u.length?this.clone().ior(u):u.clone().ior(this)},s.prototype.uor=function(u){return this.length>u.length?this.clone().iuor(u):u.clone().iuor(this)},s.prototype.iuand=function(u){var p;this.length>u.length?p=u:p=this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&u.words[v];return this.length=p.length,this._strip()},s.prototype.iand=function(u){return r((this.negative|u.negative)===0),this.iuand(u)},s.prototype.and=function(u){return this.length>u.length?this.clone().iand(u):u.clone().iand(this)},s.prototype.uand=function(u){return this.length>u.length?this.clone().iuand(u):u.clone().iuand(this)},s.prototype.iuxor=function(u){var p,v;this.length>u.length?(p=this,v=u):(p=u,v=this);for(var E=0;E<v.length;E++)this.words[E]=p.words[E]^v.words[E];if(this!==p)for(;E<p.length;E++)this.words[E]=p.words[E];return this.length=p.length,this._strip()},s.prototype.ixor=function(u){return r((this.negative|u.negative)===0),this.iuxor(u)},s.prototype.xor=function(u){return this.length>u.length?this.clone().ixor(u):u.clone().ixor(this)},s.prototype.uxor=function(u){return this.length>u.length?this.clone().iuxor(u):u.clone().iuxor(this)},s.prototype.inotn=function(u){r(typeof u=="number"&&u>=0);var p=Math.ceil(u/26)|0,v=u%26;this._expand(p),v>0&&p--;for(var E=0;E<p;E++)this.words[E]=~this.words[E]&67108863;return v>0&&(this.words[E]=~this.words[E]&67108863>>26-v),this._strip()},s.prototype.notn=function(u){return this.clone().inotn(u)},s.prototype.setn=function(u,p){r(typeof u=="number"&&u>=0);var v=u/26|0,E=u%26;return this._expand(v+1),p?this.words[v]=this.words[v]|1<<E:this.words[v]=this.words[v]&~(1<<E),this._strip()},s.prototype.iadd=function(u){var p;if(this.negative!==0&&u.negative===0)return this.negative=0,p=this.isub(u),this.negative^=1,this._normSign();if(this.negative===0&&u.negative!==0)return u.negative=0,p=this.isub(u),u.negative=1,p._normSign();var v,E;this.length>u.length?(v=this,E=u):(v=u,E=this);for(var _=0,T=0;T<E.length;T++)p=(v.words[T]|0)+(E.words[T]|0)+_,this.words[T]=p&67108863,_=p>>>26;for(;_!==0&&T<v.length;T++)p=(v.words[T]|0)+_,this.words[T]=p&67108863,_=p>>>26;if(this.length=v.length,_!==0)this.words[this.length]=_,this.length++;else if(v!==this)for(;T<v.length;T++)this.words[T]=v.words[T];return this},s.prototype.add=function(u){var p;return u.negative!==0&&this.negative===0?(u.negative=0,p=this.sub(u),u.negative^=1,p):u.negative===0&&this.negative!==0?(this.negative=0,p=u.sub(this),this.negative=1,p):this.length>u.length?this.clone().iadd(u):u.clone().iadd(this)},s.prototype.isub=function(u){if(u.negative!==0){u.negative=0;var p=this.iadd(u);return u.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(u),this.negative=1,this._normSign();var v=this.cmp(u);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var E,_;v>0?(E=this,_=u):(E=u,_=this);for(var T=0,B=0;B<_.length;B++)p=(E.words[B]|0)-(_.words[B]|0)+T,T=p>>26,this.words[B]=p&67108863;for(;T!==0&&B<E.length;B++)p=(E.words[B]|0)+T,T=p>>26,this.words[B]=p&67108863;if(T===0&&B<E.length&&E!==this)for(;B<E.length;B++)this.words[B]=E.words[B];return this.length=Math.max(this.length,B),E!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(u){return this.clone().isub(u)};function S(b,u,p){p.negative=u.negative^b.negative;var v=b.length+u.length|0;p.length=v,v=v-1|0;var E=b.words[0]|0,_=u.words[0]|0,T=E*_,B=T&67108863,x=T/67108864|0;p.words[0]=B;for(var d=1;d<v;d++){for(var A=x>>>26,te=x&67108863,J=Math.min(d,u.length-1),re=Math.max(0,d-b.length+1);re<=J;re++){var we=d-re|0;E=b.words[we]|0,_=u.words[re]|0,T=E*_+te,A+=T/67108864|0,te=T&67108863}p.words[d]=te|0,x=A|0}return x!==0?p.words[d]=x|0:p.length--,p._strip()}var R=function(u,p,v){var E=u.words,_=p.words,T=v.words,B=0,x,d,A,te=E[0]|0,J=te&8191,re=te>>>13,we=E[1]|0,ve=we&8191,ye=we>>>13,$e=E[2]|0,Ve=$e&8191,Ze=$e>>>13,hn=E[3]|0,Ke=hn&8191,nt=hn>>>13,sr=E[4]|0,Ye=sr&8191,at=sr>>>13,Ui=E[5]|0,Xe=Ui&8191,Ue=Ui>>>13,Xt=E[6]|0,Qe=Xt&8191,lt=Xt>>>13,$t=E[7]|0,ut=$t&8191,w=$t>>>13,f=E[8]|0,h=f&8191,I=f>>>13,O=E[9]|0,D=O&8191,z=O>>>13,Ie=_[0]|0,ke=Ie&8191,xe=Ie>>>13,Je=_[1]|0,pe=Je&8191,ct=Je>>>13,Qa=_[2]|0,rt=Qa&8191,xt=Qa>>>13,or=_[3]|0,ht=or&8191,_t=or>>>13,el=_[4]|0,We=el&8191,ft=el>>>13,tl=_[5]|0,bt=tl&8191,kt=tl>>>13,nl=_[6]|0,pt=nl&8191,mt=nl>>>13,rl=_[7]|0,St=rl&8191,K=rl>>>13,ue=_[8]|0,_e=ue&8191,Me=ue>>>13,qn=_[9]|0,Ne=qn&8191,He=qn>>>13;v.negative=u.negative^p.negative,v.length=19,x=Math.imul(J,ke),d=Math.imul(J,xe),d=d+Math.imul(re,ke)|0,A=Math.imul(re,xe);var Es=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Es>>>26)|0,Es&=67108863,x=Math.imul(ve,ke),d=Math.imul(ve,xe),d=d+Math.imul(ye,ke)|0,A=Math.imul(ye,xe),x=x+Math.imul(J,pe)|0,d=d+Math.imul(J,ct)|0,d=d+Math.imul(re,pe)|0,A=A+Math.imul(re,ct)|0;var On=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(On>>>26)|0,On&=67108863,x=Math.imul(Ve,ke),d=Math.imul(Ve,xe),d=d+Math.imul(Ze,ke)|0,A=Math.imul(Ze,xe),x=x+Math.imul(ve,pe)|0,d=d+Math.imul(ve,ct)|0,d=d+Math.imul(ye,pe)|0,A=A+Math.imul(ye,ct)|0,x=x+Math.imul(J,rt)|0,d=d+Math.imul(J,xt)|0,d=d+Math.imul(re,rt)|0,A=A+Math.imul(re,xt)|0;var Pr=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Pr>>>26)|0,Pr&=67108863,x=Math.imul(Ke,ke),d=Math.imul(Ke,xe),d=d+Math.imul(nt,ke)|0,A=Math.imul(nt,xe),x=x+Math.imul(Ve,pe)|0,d=d+Math.imul(Ve,ct)|0,d=d+Math.imul(Ze,pe)|0,A=A+Math.imul(Ze,ct)|0,x=x+Math.imul(ve,rt)|0,d=d+Math.imul(ve,xt)|0,d=d+Math.imul(ye,rt)|0,A=A+Math.imul(ye,xt)|0,x=x+Math.imul(J,ht)|0,d=d+Math.imul(J,_t)|0,d=d+Math.imul(re,ht)|0,A=A+Math.imul(re,_t)|0;var wr=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(wr>>>26)|0,wr&=67108863,x=Math.imul(Ye,ke),d=Math.imul(Ye,xe),d=d+Math.imul(at,ke)|0,A=Math.imul(at,xe),x=x+Math.imul(Ke,pe)|0,d=d+Math.imul(Ke,ct)|0,d=d+Math.imul(nt,pe)|0,A=A+Math.imul(nt,ct)|0,x=x+Math.imul(Ve,rt)|0,d=d+Math.imul(Ve,xt)|0,d=d+Math.imul(Ze,rt)|0,A=A+Math.imul(Ze,xt)|0,x=x+Math.imul(ve,ht)|0,d=d+Math.imul(ve,_t)|0,d=d+Math.imul(ye,ht)|0,A=A+Math.imul(ye,_t)|0,x=x+Math.imul(J,We)|0,d=d+Math.imul(J,ft)|0,d=d+Math.imul(re,We)|0,A=A+Math.imul(re,ft)|0;var Qr=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Qr>>>26)|0,Qr&=67108863,x=Math.imul(Xe,ke),d=Math.imul(Xe,xe),d=d+Math.imul(Ue,ke)|0,A=Math.imul(Ue,xe),x=x+Math.imul(Ye,pe)|0,d=d+Math.imul(Ye,ct)|0,d=d+Math.imul(at,pe)|0,A=A+Math.imul(at,ct)|0,x=x+Math.imul(Ke,rt)|0,d=d+Math.imul(Ke,xt)|0,d=d+Math.imul(nt,rt)|0,A=A+Math.imul(nt,xt)|0,x=x+Math.imul(Ve,ht)|0,d=d+Math.imul(Ve,_t)|0,d=d+Math.imul(Ze,ht)|0,A=A+Math.imul(Ze,_t)|0,x=x+Math.imul(ve,We)|0,d=d+Math.imul(ve,ft)|0,d=d+Math.imul(ye,We)|0,A=A+Math.imul(ye,ft)|0,x=x+Math.imul(J,bt)|0,d=d+Math.imul(J,kt)|0,d=d+Math.imul(re,bt)|0,A=A+Math.imul(re,kt)|0;var ei=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(ei>>>26)|0,ei&=67108863,x=Math.imul(Qe,ke),d=Math.imul(Qe,xe),d=d+Math.imul(lt,ke)|0,A=Math.imul(lt,xe),x=x+Math.imul(Xe,pe)|0,d=d+Math.imul(Xe,ct)|0,d=d+Math.imul(Ue,pe)|0,A=A+Math.imul(Ue,ct)|0,x=x+Math.imul(Ye,rt)|0,d=d+Math.imul(Ye,xt)|0,d=d+Math.imul(at,rt)|0,A=A+Math.imul(at,xt)|0,x=x+Math.imul(Ke,ht)|0,d=d+Math.imul(Ke,_t)|0,d=d+Math.imul(nt,ht)|0,A=A+Math.imul(nt,_t)|0,x=x+Math.imul(Ve,We)|0,d=d+Math.imul(Ve,ft)|0,d=d+Math.imul(Ze,We)|0,A=A+Math.imul(Ze,ft)|0,x=x+Math.imul(ve,bt)|0,d=d+Math.imul(ve,kt)|0,d=d+Math.imul(ye,bt)|0,A=A+Math.imul(ye,kt)|0,x=x+Math.imul(J,pt)|0,d=d+Math.imul(J,mt)|0,d=d+Math.imul(re,pt)|0,A=A+Math.imul(re,mt)|0;var Cs=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Cs>>>26)|0,Cs&=67108863,x=Math.imul(ut,ke),d=Math.imul(ut,xe),d=d+Math.imul(w,ke)|0,A=Math.imul(w,xe),x=x+Math.imul(Qe,pe)|0,d=d+Math.imul(Qe,ct)|0,d=d+Math.imul(lt,pe)|0,A=A+Math.imul(lt,ct)|0,x=x+Math.imul(Xe,rt)|0,d=d+Math.imul(Xe,xt)|0,d=d+Math.imul(Ue,rt)|0,A=A+Math.imul(Ue,xt)|0,x=x+Math.imul(Ye,ht)|0,d=d+Math.imul(Ye,_t)|0,d=d+Math.imul(at,ht)|0,A=A+Math.imul(at,_t)|0,x=x+Math.imul(Ke,We)|0,d=d+Math.imul(Ke,ft)|0,d=d+Math.imul(nt,We)|0,A=A+Math.imul(nt,ft)|0,x=x+Math.imul(Ve,bt)|0,d=d+Math.imul(Ve,kt)|0,d=d+Math.imul(Ze,bt)|0,A=A+Math.imul(Ze,kt)|0,x=x+Math.imul(ve,pt)|0,d=d+Math.imul(ve,mt)|0,d=d+Math.imul(ye,pt)|0,A=A+Math.imul(ye,mt)|0,x=x+Math.imul(J,St)|0,d=d+Math.imul(J,K)|0,d=d+Math.imul(re,St)|0,A=A+Math.imul(re,K)|0;var Ic=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Ic>>>26)|0,Ic&=67108863,x=Math.imul(h,ke),d=Math.imul(h,xe),d=d+Math.imul(I,ke)|0,A=Math.imul(I,xe),x=x+Math.imul(ut,pe)|0,d=d+Math.imul(ut,ct)|0,d=d+Math.imul(w,pe)|0,A=A+Math.imul(w,ct)|0,x=x+Math.imul(Qe,rt)|0,d=d+Math.imul(Qe,xt)|0,d=d+Math.imul(lt,rt)|0,A=A+Math.imul(lt,xt)|0,x=x+Math.imul(Xe,ht)|0,d=d+Math.imul(Xe,_t)|0,d=d+Math.imul(Ue,ht)|0,A=A+Math.imul(Ue,_t)|0,x=x+Math.imul(Ye,We)|0,d=d+Math.imul(Ye,ft)|0,d=d+Math.imul(at,We)|0,A=A+Math.imul(at,ft)|0,x=x+Math.imul(Ke,bt)|0,d=d+Math.imul(Ke,kt)|0,d=d+Math.imul(nt,bt)|0,A=A+Math.imul(nt,kt)|0,x=x+Math.imul(Ve,pt)|0,d=d+Math.imul(Ve,mt)|0,d=d+Math.imul(Ze,pt)|0,A=A+Math.imul(Ze,mt)|0,x=x+Math.imul(ve,St)|0,d=d+Math.imul(ve,K)|0,d=d+Math.imul(ye,St)|0,A=A+Math.imul(ye,K)|0,x=x+Math.imul(J,_e)|0,d=d+Math.imul(J,Me)|0,d=d+Math.imul(re,_e)|0,A=A+Math.imul(re,Me)|0;var Tc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Tc>>>26)|0,Tc&=67108863,x=Math.imul(D,ke),d=Math.imul(D,xe),d=d+Math.imul(z,ke)|0,A=Math.imul(z,xe),x=x+Math.imul(h,pe)|0,d=d+Math.imul(h,ct)|0,d=d+Math.imul(I,pe)|0,A=A+Math.imul(I,ct)|0,x=x+Math.imul(ut,rt)|0,d=d+Math.imul(ut,xt)|0,d=d+Math.imul(w,rt)|0,A=A+Math.imul(w,xt)|0,x=x+Math.imul(Qe,ht)|0,d=d+Math.imul(Qe,_t)|0,d=d+Math.imul(lt,ht)|0,A=A+Math.imul(lt,_t)|0,x=x+Math.imul(Xe,We)|0,d=d+Math.imul(Xe,ft)|0,d=d+Math.imul(Ue,We)|0,A=A+Math.imul(Ue,ft)|0,x=x+Math.imul(Ye,bt)|0,d=d+Math.imul(Ye,kt)|0,d=d+Math.imul(at,bt)|0,A=A+Math.imul(at,kt)|0,x=x+Math.imul(Ke,pt)|0,d=d+Math.imul(Ke,mt)|0,d=d+Math.imul(nt,pt)|0,A=A+Math.imul(nt,mt)|0,x=x+Math.imul(Ve,St)|0,d=d+Math.imul(Ve,K)|0,d=d+Math.imul(Ze,St)|0,A=A+Math.imul(Ze,K)|0,x=x+Math.imul(ve,_e)|0,d=d+Math.imul(ve,Me)|0,d=d+Math.imul(ye,_e)|0,A=A+Math.imul(ye,Me)|0,x=x+Math.imul(J,Ne)|0,d=d+Math.imul(J,He)|0,d=d+Math.imul(re,Ne)|0,A=A+Math.imul(re,He)|0;var Mc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Mc>>>26)|0,Mc&=67108863,x=Math.imul(D,pe),d=Math.imul(D,ct),d=d+Math.imul(z,pe)|0,A=Math.imul(z,ct),x=x+Math.imul(h,rt)|0,d=d+Math.imul(h,xt)|0,d=d+Math.imul(I,rt)|0,A=A+Math.imul(I,xt)|0,x=x+Math.imul(ut,ht)|0,d=d+Math.imul(ut,_t)|0,d=d+Math.imul(w,ht)|0,A=A+Math.imul(w,_t)|0,x=x+Math.imul(Qe,We)|0,d=d+Math.imul(Qe,ft)|0,d=d+Math.imul(lt,We)|0,A=A+Math.imul(lt,ft)|0,x=x+Math.imul(Xe,bt)|0,d=d+Math.imul(Xe,kt)|0,d=d+Math.imul(Ue,bt)|0,A=A+Math.imul(Ue,kt)|0,x=x+Math.imul(Ye,pt)|0,d=d+Math.imul(Ye,mt)|0,d=d+Math.imul(at,pt)|0,A=A+Math.imul(at,mt)|0,x=x+Math.imul(Ke,St)|0,d=d+Math.imul(Ke,K)|0,d=d+Math.imul(nt,St)|0,A=A+Math.imul(nt,K)|0,x=x+Math.imul(Ve,_e)|0,d=d+Math.imul(Ve,Me)|0,d=d+Math.imul(Ze,_e)|0,A=A+Math.imul(Ze,Me)|0,x=x+Math.imul(ve,Ne)|0,d=d+Math.imul(ve,He)|0,d=d+Math.imul(ye,Ne)|0,A=A+Math.imul(ye,He)|0;var Ac=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Ac>>>26)|0,Ac&=67108863,x=Math.imul(D,rt),d=Math.imul(D,xt),d=d+Math.imul(z,rt)|0,A=Math.imul(z,xt),x=x+Math.imul(h,ht)|0,d=d+Math.imul(h,_t)|0,d=d+Math.imul(I,ht)|0,A=A+Math.imul(I,_t)|0,x=x+Math.imul(ut,We)|0,d=d+Math.imul(ut,ft)|0,d=d+Math.imul(w,We)|0,A=A+Math.imul(w,ft)|0,x=x+Math.imul(Qe,bt)|0,d=d+Math.imul(Qe,kt)|0,d=d+Math.imul(lt,bt)|0,A=A+Math.imul(lt,kt)|0,x=x+Math.imul(Xe,pt)|0,d=d+Math.imul(Xe,mt)|0,d=d+Math.imul(Ue,pt)|0,A=A+Math.imul(Ue,mt)|0,x=x+Math.imul(Ye,St)|0,d=d+Math.imul(Ye,K)|0,d=d+Math.imul(at,St)|0,A=A+Math.imul(at,K)|0,x=x+Math.imul(Ke,_e)|0,d=d+Math.imul(Ke,Me)|0,d=d+Math.imul(nt,_e)|0,A=A+Math.imul(nt,Me)|0,x=x+Math.imul(Ve,Ne)|0,d=d+Math.imul(Ve,He)|0,d=d+Math.imul(Ze,Ne)|0,A=A+Math.imul(Ze,He)|0;var Bc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Bc>>>26)|0,Bc&=67108863,x=Math.imul(D,ht),d=Math.imul(D,_t),d=d+Math.imul(z,ht)|0,A=Math.imul(z,_t),x=x+Math.imul(h,We)|0,d=d+Math.imul(h,ft)|0,d=d+Math.imul(I,We)|0,A=A+Math.imul(I,ft)|0,x=x+Math.imul(ut,bt)|0,d=d+Math.imul(ut,kt)|0,d=d+Math.imul(w,bt)|0,A=A+Math.imul(w,kt)|0,x=x+Math.imul(Qe,pt)|0,d=d+Math.imul(Qe,mt)|0,d=d+Math.imul(lt,pt)|0,A=A+Math.imul(lt,mt)|0,x=x+Math.imul(Xe,St)|0,d=d+Math.imul(Xe,K)|0,d=d+Math.imul(Ue,St)|0,A=A+Math.imul(Ue,K)|0,x=x+Math.imul(Ye,_e)|0,d=d+Math.imul(Ye,Me)|0,d=d+Math.imul(at,_e)|0,A=A+Math.imul(at,Me)|0,x=x+Math.imul(Ke,Ne)|0,d=d+Math.imul(Ke,He)|0,d=d+Math.imul(nt,Ne)|0,A=A+Math.imul(nt,He)|0;var Pc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Pc>>>26)|0,Pc&=67108863,x=Math.imul(D,We),d=Math.imul(D,ft),d=d+Math.imul(z,We)|0,A=Math.imul(z,ft),x=x+Math.imul(h,bt)|0,d=d+Math.imul(h,kt)|0,d=d+Math.imul(I,bt)|0,A=A+Math.imul(I,kt)|0,x=x+Math.imul(ut,pt)|0,d=d+Math.imul(ut,mt)|0,d=d+Math.imul(w,pt)|0,A=A+Math.imul(w,mt)|0,x=x+Math.imul(Qe,St)|0,d=d+Math.imul(Qe,K)|0,d=d+Math.imul(lt,St)|0,A=A+Math.imul(lt,K)|0,x=x+Math.imul(Xe,_e)|0,d=d+Math.imul(Xe,Me)|0,d=d+Math.imul(Ue,_e)|0,A=A+Math.imul(Ue,Me)|0,x=x+Math.imul(Ye,Ne)|0,d=d+Math.imul(Ye,He)|0,d=d+Math.imul(at,Ne)|0,A=A+Math.imul(at,He)|0;var Nc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Nc>>>26)|0,Nc&=67108863,x=Math.imul(D,bt),d=Math.imul(D,kt),d=d+Math.imul(z,bt)|0,A=Math.imul(z,kt),x=x+Math.imul(h,pt)|0,d=d+Math.imul(h,mt)|0,d=d+Math.imul(I,pt)|0,A=A+Math.imul(I,mt)|0,x=x+Math.imul(ut,St)|0,d=d+Math.imul(ut,K)|0,d=d+Math.imul(w,St)|0,A=A+Math.imul(w,K)|0,x=x+Math.imul(Qe,_e)|0,d=d+Math.imul(Qe,Me)|0,d=d+Math.imul(lt,_e)|0,A=A+Math.imul(lt,Me)|0,x=x+Math.imul(Xe,Ne)|0,d=d+Math.imul(Xe,He)|0,d=d+Math.imul(Ue,Ne)|0,A=A+Math.imul(Ue,He)|0;var Oc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Oc>>>26)|0,Oc&=67108863,x=Math.imul(D,pt),d=Math.imul(D,mt),d=d+Math.imul(z,pt)|0,A=Math.imul(z,mt),x=x+Math.imul(h,St)|0,d=d+Math.imul(h,K)|0,d=d+Math.imul(I,St)|0,A=A+Math.imul(I,K)|0,x=x+Math.imul(ut,_e)|0,d=d+Math.imul(ut,Me)|0,d=d+Math.imul(w,_e)|0,A=A+Math.imul(w,Me)|0,x=x+Math.imul(Qe,Ne)|0,d=d+Math.imul(Qe,He)|0,d=d+Math.imul(lt,Ne)|0,A=A+Math.imul(lt,He)|0;var Lc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Lc>>>26)|0,Lc&=67108863,x=Math.imul(D,St),d=Math.imul(D,K),d=d+Math.imul(z,St)|0,A=Math.imul(z,K),x=x+Math.imul(h,_e)|0,d=d+Math.imul(h,Me)|0,d=d+Math.imul(I,_e)|0,A=A+Math.imul(I,Me)|0,x=x+Math.imul(ut,Ne)|0,d=d+Math.imul(ut,He)|0,d=d+Math.imul(w,Ne)|0,A=A+Math.imul(w,He)|0;var jc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(jc>>>26)|0,jc&=67108863,x=Math.imul(D,_e),d=Math.imul(D,Me),d=d+Math.imul(z,_e)|0,A=Math.imul(z,Me),x=x+Math.imul(h,Ne)|0,d=d+Math.imul(h,He)|0,d=d+Math.imul(I,Ne)|0,A=A+Math.imul(I,He)|0;var Dc=(B+x|0)+((d&8191)<<13)|0;B=(A+(d>>>13)|0)+(Dc>>>26)|0,Dc&=67108863,x=Math.imul(D,Ne),d=Math.imul(D,He),d=d+Math.imul(z,Ne)|0,A=Math.imul(z,He);var Uc=(B+x|0)+((d&8191)<<13)|0;return B=(A+(d>>>13)|0)+(Uc>>>26)|0,Uc&=67108863,T[0]=Es,T[1]=On,T[2]=Pr,T[3]=wr,T[4]=Qr,T[5]=ei,T[6]=Cs,T[7]=Ic,T[8]=Tc,T[9]=Mc,T[10]=Ac,T[11]=Bc,T[12]=Pc,T[13]=Nc,T[14]=Oc,T[15]=Lc,T[16]=jc,T[17]=Dc,T[18]=Uc,B!==0&&(T[19]=B,v.length++),v};Math.imul||(R=S);function C(b,u,p){p.negative=u.negative^b.negative,p.length=b.length+u.length;for(var v=0,E=0,_=0;_<p.length-1;_++){var T=E;E=0;for(var B=v&67108863,x=Math.min(_,u.length-1),d=Math.max(0,_-b.length+1);d<=x;d++){var A=_-d,te=b.words[A]|0,J=u.words[d]|0,re=te*J,we=re&67108863;T=T+(re/67108864|0)|0,we=we+B|0,B=we&67108863,T=T+(we>>>26)|0,E+=T>>>26,T&=67108863}p.words[_]=B,v=T,T=E}return v!==0?p.words[_]=v:p.length--,p._strip()}function j(b,u,p){return C(b,u,p)}s.prototype.mulTo=function(u,p){var v,E=this.length+u.length;return this.length===10&&u.length===10?v=R(this,u,p):E<63?v=S(this,u,p):E<1024?v=C(this,u,p):v=j(this,u,p),v},s.prototype.mul=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),this.mulTo(u,p)},s.prototype.mulf=function(u){var p=new s(null);return p.words=new Array(this.length+u.length),j(this,u,p)},s.prototype.imul=function(u){return this.clone().mulTo(u,this)},s.prototype.imuln=function(u){var p=u<0;p&&(u=-u),r(typeof u=="number"),r(u<67108864);for(var v=0,E=0;E<this.length;E++){var _=(this.words[E]|0)*u,T=(_&67108863)+(v&67108863);v>>=26,v+=_/67108864|0,v+=T>>>26,this.words[E]=T&67108863}return v!==0&&(this.words[E]=v,this.length++),this.length=u===0?1:this.length,p?this.ineg():this},s.prototype.muln=function(u){return this.clone().imuln(u)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(u){var p=L(u);if(p.length===0)return new s(1);for(var v=this,E=0;E<p.length&&p[E]===0;E++,v=v.sqr());if(++E<p.length)for(var _=v.sqr();E<p.length;E++,_=_.sqr())p[E]!==0&&(v=v.mul(_));return v},s.prototype.iushln=function(u){r(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26,E=67108863>>>26-p<<26-p,_;if(p!==0){var T=0;for(_=0;_<this.length;_++){var B=this.words[_]&E,x=(this.words[_]|0)-B<<p;this.words[_]=x|T,T=B>>>26-p}T&&(this.words[_]=T,this.length++)}if(v!==0){for(_=this.length-1;_>=0;_--)this.words[_+v]=this.words[_];for(_=0;_<v;_++)this.words[_]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(u){return r(this.negative===0),this.iushln(u)},s.prototype.iushrn=function(u,p,v){r(typeof u=="number"&&u>=0);var E;p?E=(p-p%26)/26:E=0;var _=u%26,T=Math.min((u-_)/26,this.length),B=67108863^67108863>>>_<<_,x=v;if(E-=T,E=Math.max(0,E),x){for(var d=0;d<T;d++)x.words[d]=this.words[d];x.length=T}if(T!==0)if(this.length>T)for(this.length-=T,d=0;d<this.length;d++)this.words[d]=this.words[d+T];else this.words[0]=0,this.length=1;var A=0;for(d=this.length-1;d>=0&&(A!==0||d>=E);d--){var te=this.words[d]|0;this.words[d]=A<<26-_|te>>>_,A=te&B}return x&&A!==0&&(x.words[x.length++]=A),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(u,p,v){return r(this.negative===0),this.iushrn(u,p,v)},s.prototype.shln=function(u){return this.clone().ishln(u)},s.prototype.ushln=function(u){return this.clone().iushln(u)},s.prototype.shrn=function(u){return this.clone().ishrn(u)},s.prototype.ushrn=function(u){return this.clone().iushrn(u)},s.prototype.testn=function(u){r(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26,E=1<<p;if(this.length<=v)return!1;var _=this.words[v];return!!(_&E)},s.prototype.imaskn=function(u){r(typeof u=="number"&&u>=0);var p=u%26,v=(u-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(p!==0&&v++,this.length=Math.min(v,this.length),p!==0){var E=67108863^67108863>>>p<<p;this.words[this.length-1]&=E}return this._strip()},s.prototype.maskn=function(u){return this.clone().imaskn(u)},s.prototype.iaddn=function(u){return r(typeof u=="number"),r(u<67108864),u<0?this.isubn(-u):this.negative!==0?this.length===1&&(this.words[0]|0)<=u?(this.words[0]=u-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(u),this.negative=1,this):this._iaddn(u)},s.prototype._iaddn=function(u){this.words[0]+=u;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(u){if(r(typeof u=="number"),r(u<67108864),u<0)return this.iaddn(-u);if(this.negative!==0)return this.negative=0,this.iaddn(u),this.negative=1,this;if(this.words[0]-=u,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(u){return this.clone().iaddn(u)},s.prototype.subn=function(u){return this.clone().isubn(u)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(u,p,v){var E=u.length+v,_;this._expand(E);var T,B=0;for(_=0;_<u.length;_++){T=(this.words[_+v]|0)+B;var x=(u.words[_]|0)*p;T-=x&67108863,B=(T>>26)-(x/67108864|0),this.words[_+v]=T&67108863}for(;_<this.length-v;_++)T=(this.words[_+v]|0)+B,B=T>>26,this.words[_+v]=T&67108863;if(B===0)return this._strip();for(r(B===-1),B=0,_=0;_<this.length;_++)T=-(this.words[_]|0)+B,B=T>>26,this.words[_]=T&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(u,p){var v=this.length-u.length,E=this.clone(),_=u,T=_.words[_.length-1]|0,B=this._countBits(T);v=26-B,v!==0&&(_=_.ushln(v),E.iushln(v),T=_.words[_.length-1]|0);var x=E.length-_.length,d;if(p!=="mod"){d=new s(null),d.length=x+1,d.words=new Array(d.length);for(var A=0;A<d.length;A++)d.words[A]=0}var te=E.clone()._ishlnsubmul(_,1,x);te.negative===0&&(E=te,d&&(d.words[x]=1));for(var J=x-1;J>=0;J--){var re=(E.words[_.length+J]|0)*67108864+(E.words[_.length+J-1]|0);for(re=Math.min(re/T|0,67108863),E._ishlnsubmul(_,re,J);E.negative!==0;)re--,E.negative=0,E._ishlnsubmul(_,1,J),E.isZero()||(E.negative^=1);d&&(d.words[J]=re)}return d&&d._strip(),E._strip(),p!=="div"&&v!==0&&E.iushrn(v),{div:d||null,mod:E}},s.prototype.divmod=function(u,p,v){if(r(!u.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var E,_,T;return this.negative!==0&&u.negative===0?(T=this.neg().divmod(u,p),p!=="mod"&&(E=T.div.neg()),p!=="div"&&(_=T.mod.neg(),v&&_.negative!==0&&_.iadd(u)),{div:E,mod:_}):this.negative===0&&u.negative!==0?(T=this.divmod(u.neg(),p),p!=="mod"&&(E=T.div.neg()),{div:E,mod:T.mod}):this.negative&u.negative?(T=this.neg().divmod(u.neg(),p),p!=="div"&&(_=T.mod.neg(),v&&_.negative!==0&&_.isub(u)),{div:T.div,mod:_}):u.length>this.length||this.cmp(u)<0?{div:new s(0),mod:this}:u.length===1?p==="div"?{div:this.divn(u.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(u.words[0]))}:{div:this.divn(u.words[0]),mod:new s(this.modrn(u.words[0]))}:this._wordDiv(u,p)},s.prototype.div=function(u){return this.divmod(u,"div",!1).div},s.prototype.mod=function(u){return this.divmod(u,"mod",!1).mod},s.prototype.umod=function(u){return this.divmod(u,"mod",!0).mod},s.prototype.divRound=function(u){var p=this.divmod(u);if(p.mod.isZero())return p.div;var v=p.div.negative!==0?p.mod.isub(u):p.mod,E=u.ushrn(1),_=u.andln(1),T=v.cmp(E);return T<0||_===1&&T===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(u){var p=u<0;p&&(u=-u),r(u<=67108863);for(var v=(1<<26)%u,E=0,_=this.length-1;_>=0;_--)E=(v*E+(this.words[_]|0))%u;return p?-E:E},s.prototype.modn=function(u){return this.modrn(u)},s.prototype.idivn=function(u){var p=u<0;p&&(u=-u),r(u<=67108863);for(var v=0,E=this.length-1;E>=0;E--){var _=(this.words[E]|0)+v*67108864;this.words[E]=_/u|0,v=_%u}return this._strip(),p?this.ineg():this},s.prototype.divn=function(u){return this.clone().idivn(u)},s.prototype.egcd=function(u){r(u.negative===0),r(!u.isZero());var p=this,v=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var E=new s(1),_=new s(0),T=new s(0),B=new s(1),x=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++x;for(var d=v.clone(),A=p.clone();!p.isZero();){for(var te=0,J=1;!(p.words[0]&J)&&te<26;++te,J<<=1);if(te>0)for(p.iushrn(te);te-- >0;)(E.isOdd()||_.isOdd())&&(E.iadd(d),_.isub(A)),E.iushrn(1),_.iushrn(1);for(var re=0,we=1;!(v.words[0]&we)&&re<26;++re,we<<=1);if(re>0)for(v.iushrn(re);re-- >0;)(T.isOdd()||B.isOdd())&&(T.iadd(d),B.isub(A)),T.iushrn(1),B.iushrn(1);p.cmp(v)>=0?(p.isub(v),E.isub(T),_.isub(B)):(v.isub(p),T.isub(E),B.isub(_))}return{a:T,b:B,gcd:v.iushln(x)}},s.prototype._invmp=function(u){r(u.negative===0),r(!u.isZero());var p=this,v=u.clone();p.negative!==0?p=p.umod(u):p=p.clone();for(var E=new s(1),_=new s(0),T=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var B=0,x=1;!(p.words[0]&x)&&B<26;++B,x<<=1);if(B>0)for(p.iushrn(B);B-- >0;)E.isOdd()&&E.iadd(T),E.iushrn(1);for(var d=0,A=1;!(v.words[0]&A)&&d<26;++d,A<<=1);if(d>0)for(v.iushrn(d);d-- >0;)_.isOdd()&&_.iadd(T),_.iushrn(1);p.cmp(v)>=0?(p.isub(v),E.isub(_)):(v.isub(p),_.isub(E))}var te;return p.cmpn(1)===0?te=E:te=_,te.cmpn(0)<0&&te.iadd(u),te},s.prototype.gcd=function(u){if(this.isZero())return u.abs();if(u.isZero())return this.abs();var p=this.clone(),v=u.clone();p.negative=0,v.negative=0;for(var E=0;p.isEven()&&v.isEven();E++)p.iushrn(1),v.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var _=p.cmp(v);if(_<0){var T=p;p=v,v=T}else if(_===0||v.cmpn(1)===0)break;p.isub(v)}while(!0);return v.iushln(E)},s.prototype.invm=function(u){return this.egcd(u).a.umod(u)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(u){return this.words[0]&u},s.prototype.bincn=function(u){r(typeof u=="number");var p=u%26,v=(u-p)/26,E=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=E,this;for(var _=E,T=v;_!==0&&T<this.length;T++){var B=this.words[T]|0;B+=_,_=B>>>26,B&=67108863,this.words[T]=B}return _!==0&&(this.words[T]=_,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(u){var p=u<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var v;if(this.length>1)v=1;else{p&&(u=-u),r(u<=67108863,"Number is too big");var E=this.words[0]|0;v=E===u?0:E<u?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(u){if(this.negative!==0&&u.negative===0)return-1;if(this.negative===0&&u.negative!==0)return 1;var p=this.ucmp(u);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(u){if(this.length>u.length)return 1;if(this.length<u.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var E=this.words[v]|0,_=u.words[v]|0;if(E!==_){E<_?p=-1:E>_&&(p=1);break}}return p},s.prototype.gtn=function(u){return this.cmpn(u)===1},s.prototype.gt=function(u){return this.cmp(u)===1},s.prototype.gten=function(u){return this.cmpn(u)>=0},s.prototype.gte=function(u){return this.cmp(u)>=0},s.prototype.ltn=function(u){return this.cmpn(u)===-1},s.prototype.lt=function(u){return this.cmp(u)===-1},s.prototype.lten=function(u){return this.cmpn(u)<=0},s.prototype.lte=function(u){return this.cmp(u)<=0},s.prototype.eqn=function(u){return this.cmpn(u)===0},s.prototype.eq=function(u){return this.cmp(u)===0},s.red=function(u){return new ee(u)},s.prototype.toRed=function(u){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),u.convertTo(this)._forceRed(u)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(u){return this.red=u,this},s.prototype.forceRed=function(u){return r(!this.red,"Already a number in reduction context"),this._forceRed(u)},s.prototype.redAdd=function(u){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,u)},s.prototype.redIAdd=function(u){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,u)},s.prototype.redSub=function(u){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,u)},s.prototype.redISub=function(u){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,u)},s.prototype.redShl=function(u){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,u)},s.prototype.redMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.mul(this,u)},s.prototype.redIMul=function(u){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,u),this.red.imul(this,u)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(u){return r(this.red&&!u.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,u)};var V={k256:null,p224:null,p192:null,p25519:null};function W(b,u){this.name=b,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var u=new s(null);return u.words=new Array(Math.ceil(this.n/13)),u},W.prototype.ireduce=function(u){var p=u,v;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),v=p.bitLength();while(v>this.n);var E=v<this.n?-1:p.ucmp(this.p);return E===0?(p.words[0]=0,p.length=1):E>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},W.prototype.split=function(u,p){u.iushrn(this.n,0,p)},W.prototype.imulK=function(u){return u.imul(this.k)};function Z(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(Z,W),Z.prototype.split=function(u,p){for(var v=4194303,E=Math.min(u.length,9),_=0;_<E;_++)p.words[_]=u.words[_];if(p.length=E,u.length<=9){u.words[0]=0,u.length=1;return}var T=u.words[9];for(p.words[p.length++]=T&v,_=10;_<u.length;_++){var B=u.words[_]|0;u.words[_-10]=(B&v)<<4|T>>>22,T=B}T>>>=22,u.words[_-10]=T,T===0&&u.length>10?u.length-=10:u.length-=9},Z.prototype.imulK=function(u){u.words[u.length]=0,u.words[u.length+1]=0,u.length+=2;for(var p=0,v=0;v<u.length;v++){var E=u.words[v]|0;p+=E*977,u.words[v]=p&67108863,p=E*64+(p/67108864|0)}return u.words[u.length-1]===0&&(u.length--,u.words[u.length-1]===0&&u.length--),u};function q(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(q,W);function $(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i($,W);function H(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(H,W),H.prototype.imulK=function(u){for(var p=0,v=0;v<u.length;v++){var E=(u.words[v]|0)*19+p,_=E&67108863;E>>>=26,u.words[v]=_,p=E}return p!==0&&(u.words[u.length++]=p),u},s._prime=function(u){if(V[u])return V[u];var p;if(u==="k256")p=new Z;else if(u==="p224")p=new q;else if(u==="p192")p=new $;else if(u==="p25519")p=new H;else throw new Error("Unknown prime "+u);return V[u]=p,p};function ee(b){if(typeof b=="string"){var u=s._prime(b);this.m=u.p,this.prime=u}else r(b.gtn(1),"modulus must be greater than 1"),this.m=b,this.prime=null}ee.prototype._verify1=function(u){r(u.negative===0,"red works only with positives"),r(u.red,"red works only with red numbers")},ee.prototype._verify2=function(u,p){r((u.negative|p.negative)===0,"red works only with positives"),r(u.red&&u.red===p.red,"red works only with red numbers")},ee.prototype.imod=function(u){return this.prime?this.prime.ireduce(u)._forceRed(this):(m(u,u.umod(this.m)._forceRed(this)),u)},ee.prototype.neg=function(u){return u.isZero()?u.clone():this.m.sub(u)._forceRed(this)},ee.prototype.add=function(u,p){this._verify2(u,p);var v=u.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},ee.prototype.iadd=function(u,p){this._verify2(u,p);var v=u.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},ee.prototype.sub=function(u,p){this._verify2(u,p);var v=u.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},ee.prototype.isub=function(u,p){this._verify2(u,p);var v=u.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},ee.prototype.shl=function(u,p){return this._verify1(u),this.imod(u.ushln(p))},ee.prototype.imul=function(u,p){return this._verify2(u,p),this.imod(u.imul(p))},ee.prototype.mul=function(u,p){return this._verify2(u,p),this.imod(u.mul(p))},ee.prototype.isqr=function(u){return this.imul(u,u.clone())},ee.prototype.sqr=function(u){return this.mul(u,u)},ee.prototype.sqrt=function(u){if(u.isZero())return u.clone();var p=this.m.andln(3);if(r(p%2===1),p===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(u,v)}for(var E=this.m.subn(1),_=0;!E.isZero()&&E.andln(1)===0;)_++,E.iushrn(1);r(!E.isZero());var T=new s(1).toRed(this),B=T.redNeg(),x=this.m.subn(1).iushrn(1),d=this.m.bitLength();for(d=new s(2*d*d).toRed(this);this.pow(d,x).cmp(B)!==0;)d.redIAdd(B);for(var A=this.pow(d,E),te=this.pow(u,E.addn(1).iushrn(1)),J=this.pow(u,E),re=_;J.cmp(T)!==0;){for(var we=J,ve=0;we.cmp(T)!==0;ve++)we=we.redSqr();r(ve<re);var ye=this.pow(A,new s(1).iushln(re-ve-1));te=te.redMul(ye),A=ye.redSqr(),J=J.redMul(A),re=ve}return te},ee.prototype.invm=function(u){var p=u._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},ee.prototype.pow=function(u,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return u.clone();var v=4,E=new Array(1<<v);E[0]=new s(1).toRed(this),E[1]=u;for(var _=2;_<E.length;_++)E[_]=this.mul(E[_-1],u);var T=E[0],B=0,x=0,d=p.bitLength()%26;for(d===0&&(d=26),_=p.length-1;_>=0;_--){for(var A=p.words[_],te=d-1;te>=0;te--){var J=A>>te&1;if(T!==E[0]&&(T=this.sqr(T)),J===0&&B===0){x=0;continue}B<<=1,B|=J,x++,!(x!==v&&(_!==0||te!==0))&&(T=this.mul(T,E[B]),x=0,B=0)}d=26}return T},ee.prototype.convertTo=function(u){var p=u.umod(this.m);return p===u?p.clone():p},ee.prototype.convertFrom=function(u){var p=u.clone();return p.red=null,p},s.mont=function(u){return new Q(u)};function Q(b){ee.call(this,b),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(Q,ee),Q.prototype.convertTo=function(u){return this.imod(u.ushln(this.shift))},Q.prototype.convertFrom=function(u){var p=this.imod(u.mul(this.rinv));return p.red=null,p},Q.prototype.imul=function(u,p){if(u.isZero()||p.isZero())return u.words[0]=0,u.length=1,u;var v=u.imul(p),E=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=v.isub(E).iushrn(this.shift),T=_;return _.cmp(this.m)>=0?T=_.isub(this.m):_.cmpn(0)<0&&(T=_.iadd(this.m)),T._forceRed(this)},Q.prototype.mul=function(u,p){if(u.isZero()||p.isZero())return new s(0)._forceRed(this);var v=u.mul(p),E=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=v.isub(E).iushrn(this.shift),T=_;return _.cmp(this.m)>=0?T=_.isub(this.m):_.cmpn(0)<0&&(T=_.iadd(this.m)),T._forceRed(this)},Q.prototype.invm=function(u){var p=this.imod(u._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,mr)})(hp);var q1=hp.exports;const Om=Fa(q1);var Wd={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var n=Te,r=n.Buffer;function i(o,a){for(var l in o)a[l]=o[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=n:(i(n,e),e.Buffer=s);function s(o,a,l){return r(o,a,l)}s.prototype=Object.create(r.prototype),i(r,s),s.from=function(o,a,l){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,l)},s.alloc=function(o,a,l){if(typeof o!="number")throw new TypeError("Argument must be a number");var c=r(o);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(Wd,Wd.exports);var hE=Wd.exports,Cl=hE.Buffer;function pE(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),l=Math.log(o)/Math.log(256),c=Math.log(256)/Math.log(o);function m(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=Cl.from(k)),!Cl.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var M=0,P=0,L=0,S=k.length;L!==S&&k[L]===0;)L++,M++;for(var R=(S-L)*c+1>>>0,C=new Uint8Array(R);L!==S;){for(var j=k[L],V=0,W=R-1;(j!==0||V<P)&&W!==-1;W--,V++)j+=256*C[W]>>>0,C[W]=j%o>>>0,j=j/o>>>0;if(j!==0)throw new Error("Non-zero carry");P=V,L++}for(var Z=R-P;Z!==R&&C[Z]===0;)Z++;for(var q=a.repeat(M);Z<R;++Z)q+=t.charAt(C[Z]);return q}function g(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return Cl.alloc(0);for(var M=0,P=0,L=0;k[M]===a;)P++,M++;for(var S=(k.length-M)*l+1>>>0,R=new Uint8Array(S);M<k.length;){var C=k.charCodeAt(M);if(C>255)return;var j=e[C];if(j===255)return;for(var V=0,W=S-1;(j!==0||V<L)&&W!==-1;W--,V++)j+=o*R[W]>>>0,R[W]=j%256>>>0,j=j/256>>>0;if(j!==0)throw new Error("Non-zero carry");L=V,M++}for(var Z=S-L;Z!==S&&R[Z]===0;)Z++;var q=Cl.allocUnsafe(P+(S-Z));q.fill(0,0,P);for(var $=P;Z!==S;)q[$++]=R[Z++];return q}function y(k){var M=g(k);if(M)return M;throw new Error("Non-base"+o+" character")}return{encode:m,decodeUnsafe:g,decode:y}}var mE=pE,gE=mE,yE="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",G1=gE(yE);const gn=Fa(G1),Lm=R1;var Ht={};function Fr(t,e,n){return e<=t&&t<=n}function vc(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function vE(t){for(var e=String(t),n=e.length,r=0,i=[];r<n;){var s=e.charCodeAt(r);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(r===n-1)i.push(65533);else{var o=t.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=s&1023,l=o&1023;i.push(65536+(a<<10)+l),r+=1}else i.push(65533)}r+=1}return i}function wE(t){for(var e="",n=0;n<t.length;++n){var r=t[n];r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return e}var Du=-1;function pp(t){this.tokens=[].slice.call(t)}pp.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Du},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var xo=-1;function kf(t,e){if(t)throw TypeError("Decoder error");return e||65533}var Uu="utf-8";function Fu(t,e){if(!(this instanceof Fu))return new Fu(t,e);if(t=t!==void 0?String(t).toLowerCase():Uu,t!==Uu)throw new Error("Encoding not supported. Only utf-8 is supported");e=vc(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Fu.prototype={decode:function(e,n){var r;typeof e=="object"&&e instanceof ArrayBuffer?r=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?r=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):r=new Uint8Array(0),n=vc(n),this._streaming||(this._decoder=new xE({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var i=new pp(r),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==xo);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===xo)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),wE(s)}};function zu(t,e){if(!(this instanceof zu))return new zu(t,e);if(t=t!==void 0?String(t).toLowerCase():Uu,t!==Uu)throw new Error("Encoding not supported. Only utf-8 is supported");e=vc(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}zu.prototype={encode:function(e,n){e=e?String(e):"",n=vc(n),this._streaming||(this._encoder=new _E(this._options)),this._streaming=!!n.stream;for(var r=[],i=new pp(vE(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==xo);)Array.isArray(s)?r.push.apply(r,s):r.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==xo;)Array.isArray(s)?r.push.apply(r,s):r.push(s);this._encoder=null}return new Uint8Array(r)}};function xE(t){var e=t.fatal,n=0,r=0,i=0,s=128,o=191;this.handler=function(a,l){if(l===Du&&i!==0)return i=0,kf(e);if(l===Du)return xo;if(i===0){if(Fr(l,0,127))return l;if(Fr(l,194,223))i=1,n=l-192;else if(Fr(l,224,239))l===224&&(s=160),l===237&&(o=159),i=2,n=l-224;else if(Fr(l,240,244))l===240&&(s=144),l===244&&(o=143),i=3,n=l-240;else return kf(e);return n=n<<6*i,null}if(!Fr(l,s,o))return n=i=r=0,s=128,o=191,a.prepend(l),kf(e);if(s=128,o=191,r+=1,n+=l-128<<6*(i-r),r!==i)return null;var c=n;return n=i=r=0,c}}function _E(t){t.fatal,this.handler=function(e,n){if(n===Du)return xo;if(Fr(n,0,127))return n;var r,i;Fr(n,128,2047)?(r=1,i=192):Fr(n,2048,65535)?(r=2,i=224):Fr(n,65536,1114111)&&(r=3,i=240);for(var s=[(n>>6*r)+i];r>0;){var o=n>>6*(r-1);s.push(128|o&63),r-=1}return s}}const bE=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Fu,TextEncoder:zu},Symbol.toStringTag,{value:"Module"})),kE=nh(bE);var SE=mr&&mr.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),EE=mr&&mr.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Mr=mr&&mr.__decorate||function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s},CE=mr&&mr.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.hasOwnProperty.call(t,n)&&SE(e,t,n);return EE(e,t),e},Y1=mr&&mr.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ht,"__esModule",{value:!0});var J1=Ht.deserializeUnchecked=rw=Ht.deserialize=nw=Ht.serialize=Ht.BinaryReader=Ht.BinaryWriter=Ht.BorshError=Ht.baseDecode=Ht.baseEncode=void 0;const wi=Y1(q1),X1=Y1(G1),RE=CE(kE),IE=typeof TextDecoder!="function"?RE.TextDecoder:TextDecoder,TE=new IE("utf-8",{fatal:!0});function ME(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),X1.default.encode(Buffer.from(t))}Ht.baseEncode=ME;function AE(t){return Buffer.from(X1.default.decode(t))}Ht.baseDecode=AE;const Sf=1024;class yn extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Ht.BorshError=yn;class Q1{constructor(){this.buf=Buffer.alloc(Sf),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Sf)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new wi.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new wi.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new wi.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new wi.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Sf)]),this.length+=e.length}writeString(e){this.maybeResize();const n=Buffer.from(e,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,n){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}Ht.BinaryWriter=Q1;function Ar(t,e,n){const r=n.value;n.value=function(...i){try{return r.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new yn("Reached the end of buffer when deserializing")}throw s}}}class Zn{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new wi.default(e,"le")}readU128(){const e=this.readBuffer(16);return new wi.default(e,"le")}readU256(){const e=this.readBuffer(32);return new wi.default(e,"le")}readU512(){const e=this.readBuffer(64);return new wi.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new yn(`Expected buffer length ${e} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,n}readString(){const e=this.readU32(),n=this.readBuffer(e);try{return TE.decode(n)}catch(r){throw new yn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const n=this.readU32(),r=Array();for(let i=0;i<n;++i)r.push(e());return r}}Mr([Ar],Zn.prototype,"readU8",null);Mr([Ar],Zn.prototype,"readU16",null);Mr([Ar],Zn.prototype,"readU32",null);Mr([Ar],Zn.prototype,"readU64",null);Mr([Ar],Zn.prototype,"readU128",null);Mr([Ar],Zn.prototype,"readU256",null);Mr([Ar],Zn.prototype,"readU512",null);Mr([Ar],Zn.prototype,"readString",null);Mr([Ar],Zn.prototype,"readFixedArray",null);Mr([Ar],Zn.prototype,"readArray",null);Ht.BinaryReader=Zn;function ew(t){return t.charAt(0).toUpperCase()+t.slice(1)}function $i(t,e,n,r,i){try{if(typeof r=="string")i[`write${ew(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new yn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);i.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new yn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let s=0;s<r[1];s++)$i(t,null,n[s],r[0],i)}else i.writeArray(n,s=>{$i(t,e,s,r[0],i)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?i.writeU8(0):(i.writeU8(1),$i(t,e,n,r.type,i));break}case"map":{i.writeU32(n.size),n.forEach((s,o)=>{$i(t,e,o,r.key,i),$i(t,e,s,r.value,i)});break}default:throw new yn(`FieldType ${r} unrecognized`)}else tw(t,n,i)}catch(s){throw s instanceof yn&&s.addToFieldPath(e),s}}function tw(t,e,n){if(typeof e.borshSerialize=="function"){e.borshSerialize(n);return}const r=t.get(e.constructor);if(!r)throw new yn(`Class ${e.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([i,s])=>{$i(t,i,e[i],s,n)});else if(r.kind==="enum"){const i=e[r.field];for(let s=0;s<r.values.length;++s){const[o,a]=r.values[s];if(o===i){n.writeU8(s),$i(t,o,e[o],a,n);break}}}else throw new yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function BE(t,e,n=Q1){const r=new n;return tw(t,e,r),r.toArray()}var nw=Ht.serialize=BE;function Vi(t,e,n,r){try{if(typeof n=="string")return r[`read${ew(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const i=[];for(let s=0;s<n[1];s++)i.push(Vi(t,null,n[0],r));return i}else return r.readArray(()=>Vi(t,e,n[0],r))}if(n.kind==="option")return r.readU8()?Vi(t,e,n.type,r):void 0;if(n.kind==="map"){let i=new Map;const s=r.readU32();for(let o=0;o<s;o++){const a=Vi(t,e,n.key,r),l=Vi(t,e,n.value,r);i.set(a,l)}return i}return mp(t,n,r)}catch(i){throw i instanceof yn&&i.addToFieldPath(e),i}}function mp(t,e,n){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(n);const r=t.get(e);if(!r)throw new yn(`Class ${e.name} is missing in schema`);if(r.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Vi(t,s,o,n);return new e(i)}if(r.kind==="enum"){const i=n.readU8();if(i>=r.values.length)throw new yn(`Enum index: ${i} is out of range`);const[s,o]=r.values[i],a=Vi(t,s,o,n);return new e({[s]:a})}throw new yn(`Unexpected schema kind: ${r.kind} for ${e.constructor.name}`)}function PE(t,e,n,r=Zn){const i=new r(n),s=mp(t,e,i);if(i.offset<n.length)throw new yn(`Unexpected ${n.length-i.offset} bytes after deserialized data`);return s}var rw=Ht.deserialize=PE;function NE(t,e,n,r=Zn){const i=new r(n);return mp(t,e,i)}J1=Ht.deserializeUnchecked=NE;var F={};Object.defineProperty(F,"__esModule",{value:!0});F.s16=F.s8=F.nu64be=F.u48be=F.u40be=F.u32be=F.u24be=F.u16be=Kt=F.nu64=F.u48=F.u40=ge=F.u32=F.u24=Yn=F.u16=ze=F.u8=ns=F.offset=F.greedy=F.Constant=F.UTF8=F.CString=F.Blob=F.Boolean=F.BitField=F.BitStructure=F.VariantLayout=F.Union=F.UnionLayoutDiscriminator=F.UnionDiscriminator=F.Structure=F.Sequence=F.DoubleBE=F.Double=F.FloatBE=F.Float=F.NearInt64BE=F.NearInt64=F.NearUInt64BE=F.NearUInt64=F.IntBE=F.Int=F.UIntBE=F.UInt=F.OffsetLayout=F.GreedyCount=F.ExternalLayout=F.bindConstructorLayout=F.nameWithProperty=F.Layout=F.uint8ArrayToBuffer=F.checkUint8Array=void 0;F.constant=F.utf8=F.cstr=st=F.blob=F.unionLayoutDiscriminator=F.union=vn=F.seq=F.bits=de=F.struct=F.f64be=F.f64=F.f32be=F.f32=F.ns64be=F.s48be=F.s40be=F.s32be=F.s24be=F.s16be=jn=F.ns64=F.s48=F.s40=F.s32=F.s24=void 0;const gp=Te;function To(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}F.checkUint8Array=To;function De(t){return To(t),gp.Buffer.from(t.buffer,t.byteOffset,t.length)}F.uint8ArrayToBuffer=De;class Ge{constructor(e,n){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=n}makeDestinationObject(){return{}}getSpan(e,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=e,n}fromArray(e){}}F.Layout=Ge;function yp(t,e){return e.property?t+"["+e.property+"]":t}F.nameWithProperty=yp;function OE(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ge))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(n,r){return e.encode(this,n,r)},writable:!0}),Object.defineProperty(t,"decode",{value(n,r){return e.decode(n,r)},writable:!0})}F.bindConstructorLayout=OE;class In extends Ge{isCount(){throw new Error("ExternalLayout is abstract")}}F.ExternalLayout=In;class iw extends In{constructor(e=1,n){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=e}isCount(){return!0}decode(e,n=0){To(e);const r=e.length-n;return Math.floor(r/this.elementSpan)}encode(e,n,r){return 0}}F.GreedyCount=iw;class vp extends In{constructor(e,n=0,r){if(!(e instanceof Ge))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=n}isCount(){return this.layout instanceof tr||this.layout instanceof pr}decode(e,n=0){return this.layout.decode(e,n+this.offset)}encode(e,n,r=0){return this.layout.encode(e,n,r+this.offset)}}F.OffsetLayout=vp;class tr extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return De(e).readUIntLE(n,this.span)}encode(e,n,r=0){return De(n).writeUIntLE(e,r,this.span),this.span}}F.UInt=tr;class pr extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return De(e).readUIntBE(n,this.span)}encode(e,n,r=0){return De(n).writeUIntBE(e,r,this.span),this.span}}F.UIntBE=pr;class xs extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return De(e).readIntLE(n,this.span)}encode(e,n,r=0){return De(n).writeIntLE(e,r,this.span),this.span}}F.Int=xs;class Mo extends Ge{constructor(e,n){if(super(e,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,n=0){return De(e).readIntBE(n,this.span)}encode(e,n,r=0){return De(n).writeIntBE(e,r,this.span),this.span}}F.IntBE=Mo;const Hd=Math.pow(2,32);function wc(t){const e=Math.floor(t/Hd),n=t-e*Hd;return{hi32:e,lo32:n}}function xc(t,e){return t*Hd+e}class sw extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=De(e),i=r.readUInt32LE(n),s=r.readUInt32LE(n+4);return xc(s,i)}encode(e,n,r=0){const i=wc(e),s=De(n);return s.writeUInt32LE(i.lo32,r),s.writeUInt32LE(i.hi32,r+4),8}}F.NearUInt64=sw;class ow extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=De(e),i=r.readUInt32BE(n),s=r.readUInt32BE(n+4);return xc(i,s)}encode(e,n,r=0){const i=wc(e),s=De(n);return s.writeUInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}F.NearUInt64BE=ow;class aw extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=De(e),i=r.readUInt32LE(n),s=r.readInt32LE(n+4);return xc(s,i)}encode(e,n,r=0){const i=wc(e),s=De(n);return s.writeUInt32LE(i.lo32,r),s.writeInt32LE(i.hi32,r+4),8}}F.NearInt64=aw;class lw extends Ge{constructor(e){super(8,e)}decode(e,n=0){const r=De(e),i=r.readInt32BE(n),s=r.readUInt32BE(n+4);return xc(i,s)}encode(e,n,r=0){const i=wc(e),s=De(n);return s.writeInt32BE(i.hi32,r),s.writeUInt32BE(i.lo32,r+4),8}}F.NearInt64BE=lw;class uw extends Ge{constructor(e){super(4,e)}decode(e,n=0){return De(e).readFloatLE(n)}encode(e,n,r=0){return De(n).writeFloatLE(e,r),4}}F.Float=uw;class cw extends Ge{constructor(e){super(4,e)}decode(e,n=0){return De(e).readFloatBE(n)}encode(e,n,r=0){return De(n).writeFloatBE(e,r),4}}F.FloatBE=cw;class fw extends Ge{constructor(e){super(8,e)}decode(e,n=0){return De(e).readDoubleLE(n)}encode(e,n,r=0){return De(n).writeDoubleLE(e,r),8}}F.Double=fw;class dw extends Ge{constructor(e){super(8,e)}decode(e,n=0){return De(e).readDoubleBE(n)}encode(e,n,r=0){return De(n).writeDoubleBE(e,r),8}}F.DoubleBE=dw;class hw extends Ge{constructor(e,n,r){if(!(e instanceof Ge))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof In&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(n instanceof In)&&0<e.span&&(i=n*e.span),super(i,r),this.elementLayout=e,this.count=n}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0,i=this.count;if(i instanceof In&&(i=i.decode(e,n)),0<this.elementLayout.span)r=i*this.elementLayout.span;else{let s=0;for(;s<i;)r+=this.elementLayout.getSpan(e,n+r),++s}return r}decode(e,n=0){const r=[];let i=0,s=this.count;for(s instanceof In&&(s=s.decode(e,n));i<s;)r.push(this.elementLayout.decode(e,n)),n+=this.elementLayout.getSpan(e,n),i+=1;return r}encode(e,n,r=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,n,r+o),0);return this.count instanceof In&&this.count.encode(e.length,n,r),s}}F.Sequence=hw;class pw extends Ge{constructor(e,n,r){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ge,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,n),this.fields=e,this.decodePrefixes=!!r}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((i,s)=>{const o=s.getSpan(e,n);return n+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(e,n=0){To(e);const r=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(r[i.property]=i.decode(e,n)),n+=i.getSpan(e,n),this.decodePrefixes&&e.length===n)break;return r}encode(e,n,r=0){const i=r;let s=0,o=0;for(const a of this.fields){let l=a.span;if(o=0<l?l:0,a.property!==void 0){const c=e[a.property];c!==void 0&&(o=a.encode(c,n,r),0>l&&(l=a.getSpan(n,r)))}s=r,r+=l}return s+o-i}fromArray(e){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<e.length&&(n[r.property]=e.shift());return n}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===e)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}F.Structure=pw;class wp{constructor(e){this.property=e}decode(e,n){throw new Error("UnionDiscriminator is abstract")}encode(e,n,r){throw new Error("UnionDiscriminator is abstract")}}F.UnionDiscriminator=wp;class $u extends wp{constructor(e,n){if(!(e instanceof In&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||e.property||"variant"),this.layout=e}decode(e,n){return this.layout.decode(e,n)}encode(e,n,r){return this.layout.encode(e,n,r)}}F.UnionLayoutDiscriminator=$u;class xp extends Ge{constructor(e,n,r){let i;if(e instanceof tr||e instanceof pr)i=new $u(new vp(e));else if(e instanceof In&&e.isCount())i=new $u(e);else if(e instanceof wp)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof Ge))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let s=-1;n&&(s=n.span,0<=s&&(e instanceof tr||e instanceof pr)&&(s+=i.layout.span)),super(s,r),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof tr||e instanceof pr,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,n=0){if(0<=this.span)return this.span;const r=this.getVariant(e,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,n)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const n=this.registry[e[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(e,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,n=0){let r;const i=this.discriminator,s=i.decode(e,n),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let l=0;this.usesPrefixDiscriminator&&(l=i.layout.span),r=this.makeDestinationObject(),r[i.property]=s,r[a.property]=a.decode(e,n+l)}else r=o.decode(e,n);return r}encode(e,n,r=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],n,r),a+o.encode(e[o.property],n,r+a)}return i.encode(e,n,r)}addVariant(e,n,r){const i=new mw(this,e,n,r);return this.registry[e]=i,i}getVariant(e,n=0){let r;return e instanceof Uint8Array?r=this.discriminator.decode(e,n):r=e,this.registry[r]}}F.Union=xp;class mw extends Ge{constructor(e,n,r,i){if(!(e instanceof xp))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&i===void 0&&(i=r,r=null),r){if(!(r instanceof Ge))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=r?r.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=n,this.layout=r||null}getSpan(e,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,n+r)),r+i}decode(e,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,n))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,n+i):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,n,r=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let s=i;if(this.layout&&(this.layout.encode(e[this.property],n,r+i),s+=this.layout.getSpan(n,r+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}F.VariantLayout=mw;function Os(t){return 0>t&&(t+=4294967296),t}class _p extends Ge{constructor(e,n,r){if(!(e instanceof tr||e instanceof pr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!n,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Os(s),this},this._packedGetValue=function(){return i}}decode(e,n=0){const r=this.makeDestinationObject(),i=this.word.decode(e,n);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(r[s.property]=s.decode(e));return r}encode(e,n,r=0){const i=this.word.decode(n,r);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(e,n){const r=new bp(this,e,n);return this.fields.push(r),r}addBoolean(e){const n=new gw(this,e);return this.fields.push(n),n}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===e)return n}}F.BitStructure=_p;class bp{constructor(e,n,r){if(!(e instanceof _p))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(n+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-n),this.wordMask=Os(this.valueMask<<this.start),this.property=r}decode(e,n){const r=this.container._packedGetValue();return Os(r&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Os(e&this.valueMask))throw new TypeError(yp("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=Os(e<<this.start);this.container._packedSetValue(Os(n&~this.wordMask)|r)}}F.BitField=bp;let gw=class extends bp{constructor(e,n){super(e,1,n)}decode(e,n){return!!super.decode(e,n)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};F.Boolean=gw;let yw=class extends Ge{constructor(e,n){if(!(e instanceof In&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof In||(r=e),super(r,n),this.length=e}getSpan(e,n){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),r}decode(e,n=0){let r=this.span;return 0>r&&(r=this.length.decode(e,n)),De(e).slice(n,n+r)}encode(e,n,r){let i=this.length;if(this.length instanceof In&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(yp("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(r+i>n.length)throw new RangeError("encoding overruns Uint8Array");const s=De(e);return De(n).write(s.toString("hex"),r,i,"hex"),this.length instanceof In&&this.length.encode(i,n,r),i}};F.Blob=yw;class vw extends Ge{constructor(e){super(-1,e)}getSpan(e,n=0){To(e);let r=n;for(;r<e.length&&e[r]!==0;)r+=1;return 1+r-n}decode(e,n=0){const r=this.getSpan(e,n);return De(e).slice(n,n+r-1).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=gp.Buffer.from(e,"utf8"),s=i.length;if(r+s>n.length)throw new RangeError("encoding overruns Buffer");const o=De(n);return i.copy(o,r),o[r+s]=0,s+1}}F.CString=vw;class ww extends Ge{constructor(e,n){if(typeof e=="string"&&n===void 0&&(n=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=e}getSpan(e,n=0){return To(e),e.length-n}decode(e,n=0){const r=this.getSpan(e,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return De(e).slice(n,n+r).toString("utf-8")}encode(e,n,r=0){typeof e!="string"&&(e=String(e));const i=gp.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>n.length)throw new RangeError("encoding overruns Buffer");return i.copy(De(n),r),s}}F.UTF8=ww;class xw extends Ge{constructor(e,n){super(0,n),this.value=e}decode(e,n){return this.value}encode(e,n,r){return 0}}F.Constant=xw;F.greedy=(t,e)=>new iw(t,e);var ns=F.offset=(t,e,n)=>new vp(t,e,n),ze=F.u8=t=>new tr(1,t),Yn=F.u16=t=>new tr(2,t);F.u24=t=>new tr(3,t);var ge=F.u32=t=>new tr(4,t);F.u40=t=>new tr(5,t);F.u48=t=>new tr(6,t);var Kt=F.nu64=t=>new sw(t);F.u16be=t=>new pr(2,t);F.u24be=t=>new pr(3,t);F.u32be=t=>new pr(4,t);F.u40be=t=>new pr(5,t);F.u48be=t=>new pr(6,t);F.nu64be=t=>new ow(t);F.s8=t=>new xs(1,t);F.s16=t=>new xs(2,t);F.s24=t=>new xs(3,t);F.s32=t=>new xs(4,t);F.s40=t=>new xs(5,t);F.s48=t=>new xs(6,t);var jn=F.ns64=t=>new aw(t);F.s16be=t=>new Mo(2,t);F.s24be=t=>new Mo(3,t);F.s32be=t=>new Mo(4,t);F.s40be=t=>new Mo(5,t);F.s48be=t=>new Mo(6,t);F.ns64be=t=>new lw(t);F.f32=t=>new uw(t);F.f32be=t=>new cw(t);F.f64=t=>new fw(t);F.f64be=t=>new dw(t);var de=F.struct=(t,e,n)=>new pw(t,e,n);F.bits=(t,e,n)=>new _p(t,e,n);var vn=F.seq=(t,e,n)=>new hw(t,e,n);F.union=(t,e,n)=>new xp(t,e,n);F.unionLayoutDiscriminator=(t,e)=>new $u(t,e);var st=F.blob=(t,e)=>new yw(t,e);F.cstr=t=>new vw(t);F.utf8=(t,e)=>new ww(t,e);F.constant=(t,e)=>new xw(t,e);var LE=8078e3,jE=8078001,DE=8078004,UE=8078005,FE=8078006,zE=8078011;function _w(t){return Array.isArray(t)?"%5B"+t.map(_w).join("%2C%20")+"%5D":typeof t=="bigint"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function $E([t,e]){return`${t}=${_w(e)}`}function VE(t){const e=Object.entries(t).map($E).join("&");return btoa(e)}function KE(t,e={}){{let n=`Solana error #${t}; Decode this error by running \`npx @solana/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${VE(e)}'`),`${n}\``}}var so=class extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=KE(e,r);super(s,i);En(this,"cause",this.cause);En(this,"context");this.context={__code:e,...r},this.name="SolanaError"}};function WE(t,e){return"fixedSize"in e?e.fixedSize:e.getSizeFromValue(t)}function HE(t){return Object.freeze({...t,encode:e=>{const n=new Uint8Array(WE(e,t));return t.write(e,n,0),n}})}function ZE(t){return Object.freeze({...t,decode:(e,n=0)=>t.read(e,n)[0]})}function Ps(t){return"fixedSize"in t&&typeof t.fixedSize=="number"}function qE(t,e){if(Ps(t)!==Ps(e))throw new so(DE);if(Ps(t)&&Ps(e)&&t.fixedSize!==e.fixedSize)throw new so(UE,{decoderFixedSize:e.fixedSize,encoderFixedSize:t.fixedSize});if(!Ps(t)&&!Ps(e)&&t.maxSize!==e.maxSize)throw new so(FE,{decoderMaxSize:e.maxSize,encoderMaxSize:t.maxSize});return{...e,...t,decode:e.decode,encode:t.encode,read:e.read,write:t.write}}function GE(t,e,n=0){if(e.length-n<=0)throw new so(LE,{codecDescription:t})}function YE(t,e,n,r=0){const i=n.length-r;if(i<e)throw new so(jE,{bytesLength:i,codecDescription:t,expected:e})}function JE(t,e,n,r){if(r<e||r>n)throw new so(zE,{codecDescription:t,max:n,min:e,value:r})}function bw(t){return(t==null?void 0:t.endian)!==1}function XE(t){return HE({fixedSize:t.size,write(e,n,r){t.range&&JE(t.name,t.range[0],t.range[1],e);const i=new ArrayBuffer(t.size);return t.set(new DataView(i),e,bw(t.config)),n.set(new Uint8Array(i),r),r+t.size}})}function QE(t){return ZE({fixedSize:t.size,read(e,n=0){GE(t.name,e,n),YE(t.name,t.size,e,n);const r=new DataView(eC(e,n,t.size));return[t.get(r,bw(t.config)),n+t.size]}})}function eC(t,e,n){const r=t.byteOffset+(e??0),i=n??t.byteLength;return t.buffer.slice(r,r+i)}var tC=(t={})=>XE({config:t,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(e,n,r)=>e.setBigUint64(0,BigInt(n),r),size:8}),nC=(t={})=>QE({config:t,get:(e,n)=>e.getBigUint64(0,n),name:"u64",size:8}),rC=(t={})=>qE(tC(t),nC(t));class iC extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,l=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??l),s!=null&&(this.cause=l),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function sC(t){return Ya(t)&&typeof t[Symbol.iterator]=="function"}function Ya(t){return typeof t=="object"&&t!=null}function Vu(t){return Ya(t)&&!Array.isArray(t)}function yr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function oC(t){const{done:e,value:n}=t.next();return e?void 0:n}function aC(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:l=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${yr(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:l}}function*jm(t,e,n,r){sC(t)||(t=[t]);for(const i of t){const s=aC(i,e,n,r);s&&(yield s)}}function*kp(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i,mask:o};s&&(t=e.coercer(t,a));let l="valid";for(const c of e.validator(t,a))c.explanation=n.message,l="not_valid",yield[c,void 0];for(let[c,m,g]of e.entries(t,a)){const y=kp(m,g,{path:c===void 0?r:[...r,c],branch:c===void 0?i:[...i,m],coerce:s,mask:o,message:n.message});for(const k of y)k[0]?(l=k[0].refinement!=null?"not_refined":"not_valid",yield[k[0],void 0]):s&&(m=k[1],c===void 0?t=m:t instanceof Map?t.set(c,m):t instanceof Set?t.add(m):Ya(t)&&(m!==void 0||c in t)&&(t[c]=m))}if(l!=="not_valid")for(const c of e.refiner(t,a))c.explanation=n.message,l="not_refined",yield[c,void 0];l==="valid"&&(yield[void 0,t])}let Br=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=l=>l,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(l,c)=>{const m=i(l,c);return jm(m,c,this,l)}:this.validator=()=>[],s?this.refiner=(l,c)=>{const m=s(l,c);return jm(m,c,this,l)}:this.refiner=()=>[]}assert(e,n){return lC(e,this,n)}create(e,n){return Ra(e,this,n)}is(e){return kw(e,this)}mask(e,n){return uC(e,this,n)}validate(e,n={}){return Ja(e,this,n)}};function lC(t,e,n){const r=Ja(t,e,{message:n});if(r[0])throw r[0]}function Ra(t,e,n){const r=Ja(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function uC(t,e,n){const r=Ja(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function kw(t,e){return!Ja(t,e)[0]}function Ja(t,e,n={}){const r=kp(t,e,n),i=oC(r);return i[0]?[new iC(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function _s(t,e){return new Br({type:t,schema:null,validator:e})}function cC(){return _s("any",()=>!0)}function se(t){return new Br({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${yr(e)}`}})}function Tr(){return _s("boolean",t=>typeof t=="boolean")}function Sp(t){return _s("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${yr(e)}`)}function yt(t){const e=yr(t),n=typeof t;return new Br({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${yr(r)}`}})}function fC(){return _s("never",()=>!1)}function oe(t){return new Br({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function U(){return _s("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${yr(t)}`)}function he(t){return new Br({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Sw(t,e){return new Br({type:"record",schema:null,*entries(n){if(Ya(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Vu(n)||`Expected an object, but received: ${yr(n)}`},coercer(n){return Vu(n)?{...n}:n}})}function ne(){return _s("string",t=>typeof t=="string"||`Expected a string, but received: ${yr(t)}`)}function Ep(t){const e=fC();return new Br({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${yr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function G(t){const e=Object.keys(t);return new Br({type:"type",schema:t,*entries(n){if(Ya(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Vu(n)||`Expected an object, but received: ${yr(n)}`},coercer(n){return Vu(n)?{...n}:n}})}function _n(t){const e=t.map(n=>n.type).join(" | ");return new Br({type:"union",schema:null,coercer(n,r){for(const i of t){const[s,o]=i.validate(n,{coerce:!0,mask:r.mask});if(!s)return o}return n},validator(n,r){const i=[];for(const s of t){const[...o]=kp(n,s,r),[a]=o;if(a[0])for(const[l]of o)l&&i.push(l);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${yr(n)}`,...i]}})}function Ao(){return _s("unknown",()=>!0)}function Xa(t,e,n){return new Br({...t,coercer:(r,i)=>kw(r,e)?t.coercer(n(r,i),i):t.coercer(r,i)})}var Rl,dC=new Uint8Array(16);function Ew(){if(!Rl&&(Rl=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Rl))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Rl(dC)}const hC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function _c(t){return typeof t=="string"&&hC.test(t)}var Vt=[];for(var Ef=0;Ef<256;++Ef)Vt.push((Ef+256).toString(16).substr(1));function bc(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Vt[t[e+0]]+Vt[t[e+1]]+Vt[t[e+2]]+Vt[t[e+3]]+"-"+Vt[t[e+4]]+Vt[t[e+5]]+"-"+Vt[t[e+6]]+Vt[t[e+7]]+"-"+Vt[t[e+8]]+Vt[t[e+9]]+"-"+Vt[t[e+10]]+Vt[t[e+11]]+Vt[t[e+12]]+Vt[t[e+13]]+Vt[t[e+14]]+Vt[t[e+15]]).toLowerCase();if(!_c(n))throw TypeError("Stringified UUID is invalid");return n}var Dm,Cf,Rf=0,If=0;function pC(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||Dm,o=t.clockseq!==void 0?t.clockseq:Cf;if(s==null||o==null){var a=t.random||(t.rng||Ew)();s==null&&(s=Dm=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Cf=(a[6]<<8|a[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),c=t.nsecs!==void 0?t.nsecs:If+1,m=l-Rf+(c-If)/1e4;if(m<0&&t.clockseq===void 0&&(o=o+1&16383),(m<0||l>Rf)&&t.nsecs===void 0&&(c=0),c>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Rf=l,If=c,Cf=o,l+=122192928e5;var g=((l&268435455)*1e4+c)%4294967296;i[r++]=g>>>24&255,i[r++]=g>>>16&255,i[r++]=g>>>8&255,i[r++]=g&255;var y=l/4294967296*1e4&268435455;i[r++]=y>>>8&255,i[r++]=y&255,i[r++]=y>>>24&15|16,i[r++]=y>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var k=0;k<6;++k)i[r+k]=s[k];return e||bc(i)}function Cw(t){if(!_c(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function mC(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var gC="6ba7b810-9dad-11d1-80b4-00c04fd430c8",yC="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Rw(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=mC(i)),typeof s=="string"&&(s=Cw(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(s),l.set(i,s.length),l=n(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,o){a=a||0;for(var c=0;c<16;++c)o[a+c]=l[c];return o}return bc(l)}try{r.name=t}catch{}return r.DNS=gC,r.URL=yC,r}function vC(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return wC(xC(_C(t),t.length*8))}function wC(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function Iw(t){return(t+64>>>9<<4)+14+1}function xC(t,e){t[e>>5]|=128<<e%32,t[Iw(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,l=r,c=i,m=s;n=nn(n,r,i,s,t[o],7,-680876936),s=nn(s,n,r,i,t[o+1],12,-389564586),i=nn(i,s,n,r,t[o+2],17,606105819),r=nn(r,i,s,n,t[o+3],22,-1044525330),n=nn(n,r,i,s,t[o+4],7,-176418897),s=nn(s,n,r,i,t[o+5],12,1200080426),i=nn(i,s,n,r,t[o+6],17,-1473231341),r=nn(r,i,s,n,t[o+7],22,-45705983),n=nn(n,r,i,s,t[o+8],7,1770035416),s=nn(s,n,r,i,t[o+9],12,-1958414417),i=nn(i,s,n,r,t[o+10],17,-42063),r=nn(r,i,s,n,t[o+11],22,-1990404162),n=nn(n,r,i,s,t[o+12],7,1804603682),s=nn(s,n,r,i,t[o+13],12,-40341101),i=nn(i,s,n,r,t[o+14],17,-1502002290),r=nn(r,i,s,n,t[o+15],22,1236535329),n=rn(n,r,i,s,t[o+1],5,-165796510),s=rn(s,n,r,i,t[o+6],9,-1069501632),i=rn(i,s,n,r,t[o+11],14,643717713),r=rn(r,i,s,n,t[o],20,-373897302),n=rn(n,r,i,s,t[o+5],5,-701558691),s=rn(s,n,r,i,t[o+10],9,38016083),i=rn(i,s,n,r,t[o+15],14,-660478335),r=rn(r,i,s,n,t[o+4],20,-405537848),n=rn(n,r,i,s,t[o+9],5,568446438),s=rn(s,n,r,i,t[o+14],9,-1019803690),i=rn(i,s,n,r,t[o+3],14,-187363961),r=rn(r,i,s,n,t[o+8],20,1163531501),n=rn(n,r,i,s,t[o+13],5,-1444681467),s=rn(s,n,r,i,t[o+2],9,-51403784),i=rn(i,s,n,r,t[o+7],14,1735328473),r=rn(r,i,s,n,t[o+12],20,-1926607734),n=sn(n,r,i,s,t[o+5],4,-378558),s=sn(s,n,r,i,t[o+8],11,-2022574463),i=sn(i,s,n,r,t[o+11],16,1839030562),r=sn(r,i,s,n,t[o+14],23,-35309556),n=sn(n,r,i,s,t[o+1],4,-1530992060),s=sn(s,n,r,i,t[o+4],11,1272893353),i=sn(i,s,n,r,t[o+7],16,-155497632),r=sn(r,i,s,n,t[o+10],23,-1094730640),n=sn(n,r,i,s,t[o+13],4,681279174),s=sn(s,n,r,i,t[o],11,-358537222),i=sn(i,s,n,r,t[o+3],16,-722521979),r=sn(r,i,s,n,t[o+6],23,76029189),n=sn(n,r,i,s,t[o+9],4,-640364487),s=sn(s,n,r,i,t[o+12],11,-421815835),i=sn(i,s,n,r,t[o+15],16,530742520),r=sn(r,i,s,n,t[o+2],23,-995338651),n=on(n,r,i,s,t[o],6,-198630844),s=on(s,n,r,i,t[o+7],10,1126891415),i=on(i,s,n,r,t[o+14],15,-1416354905),r=on(r,i,s,n,t[o+5],21,-57434055),n=on(n,r,i,s,t[o+12],6,1700485571),s=on(s,n,r,i,t[o+3],10,-1894986606),i=on(i,s,n,r,t[o+10],15,-1051523),r=on(r,i,s,n,t[o+1],21,-2054922799),n=on(n,r,i,s,t[o+8],6,1873313359),s=on(s,n,r,i,t[o+15],10,-30611744),i=on(i,s,n,r,t[o+6],15,-1560198380),r=on(r,i,s,n,t[o+13],21,1309151649),n=on(n,r,i,s,t[o+4],6,-145523070),s=on(s,n,r,i,t[o+11],10,-1120210379),i=on(i,s,n,r,t[o+2],15,718787259),r=on(r,i,s,n,t[o+9],21,-343485551),n=xi(n,a),r=xi(r,l),i=xi(i,c),s=xi(s,m)}return[n,r,i,s]}function _C(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(Iw(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function xi(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function bC(t,e){return t<<e|t>>>32-e}function kc(t,e,n,r,i,s){return xi(bC(xi(xi(e,t),xi(r,s)),i),n)}function nn(t,e,n,r,i,s,o){return kc(e&n|~e&r,t,e,i,s,o)}function rn(t,e,n,r,i,s,o){return kc(e&r|n&~r,t,e,i,s,o)}function sn(t,e,n,r,i,s,o){return kc(e^n^r,t,e,i,s,o)}function on(t,e,n,r,i,s,o){return kc(n^(e|~r),t,e,i,s,o)}var kC=Rw("v3",48,vC);function SC(t,e,n){t=t||{};var r=t.random||(t.rng||Ew)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return bc(r)}function EC(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Tf(t,e){return t<<e|t>>>32-e}function CC(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),l=0;l<o;++l){for(var c=new Uint32Array(16),m=0;m<16;++m)c[m]=t[l*64+m*4]<<24|t[l*64+m*4+1]<<16|t[l*64+m*4+2]<<8|t[l*64+m*4+3];a[l]=c}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var g=0;g<o;++g){for(var y=new Uint32Array(80),k=0;k<16;++k)y[k]=a[g][k];for(var M=16;M<80;++M)y[M]=Tf(y[M-3]^y[M-8]^y[M-14]^y[M-16],1);for(var P=n[0],L=n[1],S=n[2],R=n[3],C=n[4],j=0;j<80;++j){var V=Math.floor(j/20),W=Tf(P,5)+EC(V,L,S,R)+C+e[V]+y[j]>>>0;C=R,R=S,S=Tf(L,30)>>>0,L=P,P=W}n[0]=n[0]+P>>>0,n[1]=n[1]+L>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+R>>>0,n[4]=n[4]+C>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var RC=Rw("v5",80,CC);const IC="00000000-0000-0000-0000-000000000000";function TC(t){if(!_c(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const MC=Object.freeze(Object.defineProperty({__proto__:null,NIL:IC,parse:Cw,stringify:bc,v1:pC,v3:kC,v4:SC,v5:RC,validate:_c,version:TC},Symbol.toStringTag,{value:"Module"})),Tw=nh(MC),AC=Tw.v4,BC=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return AC()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var PC=BC;const NC=Tw.v4,OC=PC,Ku=function(t,e){if(!(this instanceof Ku))return new Ku(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return NC()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};Ku.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const c=typeof r=="function";try{s=OC(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(m){if(c)return r(m);throw m}if(!c)return s}let l;try{l=JSON.stringify(s,this.options.replacer)}catch(c){return r(c)}return this.callServer(l,function(c,m){i._parseResponse(c,m,r)}),s};Ku.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var Mw={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,m){this.fn=l,this.context=c,this.once=m||!1}function s(l,c,m,g,y){if(typeof m!="function")throw new TypeError("The listener must be a function");var k=new i(m,g||l,y),M=n?n+c:c;return l._events[M]?l._events[M].fn?l._events[M]=[l._events[M],k]:l._events[M].push(k):(l._events[M]=k,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],m,g;if(this._eventsCount===0)return c;for(g in m=this._events)e.call(m,g)&&c.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(m)):c},a.prototype.listeners=function(c){var m=n?n+c:c,g=this._events[m];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,k=g.length,M=new Array(k);y<k;y++)M[y]=g[y].fn;return M},a.prototype.listenerCount=function(c){var m=n?n+c:c,g=this._events[m];return g?g.fn?1:g.length:0},a.prototype.emit=function(c,m,g,y,k,M){var P=n?n+c:c;if(!this._events[P])return!1;var L=this._events[P],S=arguments.length,R,C;if(L.fn){switch(L.once&&this.removeListener(c,L.fn,void 0,!0),S){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,m),!0;case 3:return L.fn.call(L.context,m,g),!0;case 4:return L.fn.call(L.context,m,g,y),!0;case 5:return L.fn.call(L.context,m,g,y,k),!0;case 6:return L.fn.call(L.context,m,g,y,k,M),!0}for(C=1,R=new Array(S-1);C<S;C++)R[C-1]=arguments[C];L.fn.apply(L.context,R)}else{var j=L.length,V;for(C=0;C<j;C++)switch(L[C].once&&this.removeListener(c,L[C].fn,void 0,!0),S){case 1:L[C].fn.call(L[C].context);break;case 2:L[C].fn.call(L[C].context,m);break;case 3:L[C].fn.call(L[C].context,m,g);break;case 4:L[C].fn.call(L[C].context,m,g,y);break;default:if(!R)for(V=1,R=new Array(S-1);V<S;V++)R[V-1]=arguments[V];L[C].fn.apply(L[C].context,R)}}return!0},a.prototype.on=function(c,m,g){return s(this,c,m,g,!1)},a.prototype.once=function(c,m,g){return s(this,c,m,g,!0)},a.prototype.removeListener=function(c,m,g,y){var k=n?n+c:c;if(!this._events[k])return this;if(!m)return o(this,k),this;var M=this._events[k];if(M.fn)M.fn===m&&(!y||M.once)&&(!g||M.context===g)&&o(this,k);else{for(var P=0,L=[],S=M.length;P<S;P++)(M[P].fn!==m||y&&!M[P].once||g&&M[P].context!==g)&&L.push(M[P]);L.length?this._events[k]=L.length===1?L[0]:L:o(this,k)}return this},a.prototype.removeAllListeners=function(c){var m;return c?(m=n?n+c:c,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Mw);var LC=Mw.exports;const Aw=Fa(LC);class Bw extends k1{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,_1(e);const r=ap(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),vo(s)}update(e){return Nu(this),this.iHash.update(e),this}digestInto(e){Nu(this),vs(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Pw=(t,e,n)=>new Bw(t,e).update(n).digest();Pw.create=(t,e)=>new Bw(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Um=(t,e)=>(t+(t>=0?e:-e)/Nw)/e;function jC(t,e,n){const[[r,i],[s,o]]=e,a=Um(o*t,n),l=Um(-i*t,n);let c=t-a*r-l*s,m=-a*i-l*o;const g=c<Kr,y=m<Kr;g&&(c=-c),y&&(m=-m);const k=Za(Math.ceil(M1(n)/2))+oo;if(c<Kr||c>=k||m<Kr||m>=k)throw new Error("splitScalar (endomorphism): failed, k="+t);return{k1neg:g,k1:c,k2neg:y,k2:m}}function Zd(t){if(!["compact","recovered","der"].includes(t))throw new Error('Signature format must be "compact", "recovered", or "der"');return t}function Mf(t,e){const n={};for(let r of Object.keys(e))n[r]=t[r]===void 0?e[r]:t[r];return ds(n.lowS,"lowS"),ds(n.prehash,"prehash"),n.format!==void 0&&Zd(n.format),n}class DC extends Error{constructor(e=""){super(e)}}const Ur={Err:DC,_tlv:{encode:(t,e)=>{const{Err:n}=Ur;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=El(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?El(i.length/2|128):"";return El(t)+s+i+e},decode(t,e){const{Err:n}=Ur;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const l=i&127;if(!l)throw new n("tlv.decode(long): indefinite length not supported");if(l>4)throw new n("tlv.decode(long): byte length is too big");const c=e.subarray(r,r+l);if(c.length!==l)throw new n("tlv.decode: length bytes not complete");if(c[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const m of c)o=o<<8|m;if(r+=l,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Ur;if(t<Kr)throw new e("integer: negative integers are not allowed");let n=El(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Ur;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return yc(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Ur,i=Ct("signature",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l}=r.decode(2,s),{v:c,l:m}=r.decode(2,l);if(m.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(c)}},hexFromSig(t){const{_tlv:e,_int:n}=Ur,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Kr=BigInt(0),oo=BigInt(1),Nw=BigInt(2),Il=BigInt(3),UC=BigInt(4);function Gs(t,e){const{BYTES:n}=t;let r;if(typeof e=="bigint")r=e;else{let i=Ct("private key",e);try{r=t.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof e}`)}}if(!t.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function FC(t,e={}){const n=H1("weierstrass",t,e),{Fp:r,Fn:i}=n;let s=n.CURVE;const{h:o,n:a}=s;qa(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:l}=e;if(l&&(!r.is0(s.a)||typeof l.beta!="bigint"||!Array.isArray(l.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const c=Lw(r,i);function m(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function g(Q,b,u){const{x:p,y:v}=b.toAffine(),E=r.toBytes(p);if(ds(u,"isCompressed"),u){m();const _=!r.isOdd(v);return Er(Ow(_),E)}else return Er(Uint8Array.of(4),E,r.toBytes(v))}function y(Q){fr(Q,void 0,"Point");const{publicKey:b,publicKeyUncompressed:u}=c,p=Q.length,v=Q[0],E=Q.subarray(1);if(p===b&&(v===2||v===3)){const _=r.fromBytes(E);if(!r.isValid(_))throw new Error("bad point: is not on curve, wrong x");const T=P(_);let B;try{B=r.sqrt(T)}catch(A){const te=A instanceof Error?": "+A.message:"";throw new Error("bad point: is not on curve, sqrt error"+te)}m();const x=r.isOdd(B);return(v&1)===1!==x&&(B=r.neg(B)),{x:_,y:B}}else if(p===u&&v===4){const _=r.BYTES,T=r.fromBytes(E.subarray(0,_)),B=r.fromBytes(E.subarray(_,_*2));if(!L(T,B))throw new Error("bad point: is not on curve");return{x:T,y:B}}else throw new Error(`bad point: got length ${p}, expected compressed=${b} or uncompressed=${u}`)}const k=e.toBytes||g,M=e.fromBytes||y;function P(Q){const b=r.sqr(Q),u=r.mul(b,Q);return r.add(r.add(u,r.mul(Q,s.a)),s.b)}function L(Q,b){const u=r.sqr(b),p=P(Q);return r.eql(u,p)}if(!L(s.Gx,s.Gy))throw new Error("bad curve params: generator point");const S=r.mul(r.pow(s.a,Il),UC),R=r.mul(r.sqr(s.b),BigInt(27));if(r.is0(r.add(S,R)))throw new Error("bad curve params: a or b");function C(Q,b,u=!1){if(!r.isValid(b)||u&&r.is0(b))throw new Error(`bad point coordinate ${Q}`);return b}function j(Q){if(!(Q instanceof $))throw new Error("ProjectivePoint expected")}function V(Q){if(!l||!l.basises)throw new Error("no endo");return jC(Q,l.basises,i.ORDER)}const W=Lu((Q,b)=>{const{X:u,Y:p,Z:v}=Q;if(r.eql(v,r.ONE))return{x:u,y:p};const E=Q.is0();b==null&&(b=E?r.ONE:r.inv(v));const _=r.mul(u,b),T=r.mul(p,b),B=r.mul(v,b);if(E)return{x:r.ZERO,y:r.ZERO};if(!r.eql(B,r.ONE))throw new Error("invZ was invalid");return{x:_,y:T}}),Z=Lu(Q=>{if(Q.is0()){if(e.allowInfinityPoint&&!r.is0(Q.Y))return;throw new Error("bad point: ZERO")}const{x:b,y:u}=Q.toAffine();if(!r.isValid(b)||!r.isValid(u))throw new Error("bad point: x or y not field elements");if(!L(b,u))throw new Error("bad point: equation left != right");if(!Q.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function q(Q,b,u,p,v){return u=new $(r.mul(u.X,Q),u.Y,u.Z),b=ju(p,b),u=ju(v,u),b.add(u)}class ${constructor(b,u,p){this.X=C("x",b),this.Y=C("y",u,!0),this.Z=C("z",p),Object.freeze(this)}static CURVE(){return s}static fromAffine(b){const{x:u,y:p}=b||{};if(!b||!r.isValid(u)||!r.isValid(p))throw new Error("invalid affine point");if(b instanceof $)throw new Error("projective point not allowed");return r.is0(u)&&r.is0(p)?$.ZERO:new $(u,p,r.ONE)}static fromBytes(b){const u=$.fromAffine(M(fr(b,void 0,"point")));return u.assertValidity(),u}static fromHex(b){return $.fromBytes(Ct("pointHex",b))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(b=8,u=!0){return ee.createCache(this,b),u||this.multiply(Il),this}assertValidity(){Z(this)}hasEvenY(){const{y:b}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(b)}equals(b){j(b);const{X:u,Y:p,Z:v}=this,{X:E,Y:_,Z:T}=b,B=r.eql(r.mul(u,T),r.mul(E,v)),x=r.eql(r.mul(p,T),r.mul(_,v));return B&&x}negate(){return new $(this.X,r.neg(this.Y),this.Z)}double(){const{a:b,b:u}=s,p=r.mul(u,Il),{X:v,Y:E,Z:_}=this;let T=r.ZERO,B=r.ZERO,x=r.ZERO,d=r.mul(v,v),A=r.mul(E,E),te=r.mul(_,_),J=r.mul(v,E);return J=r.add(J,J),x=r.mul(v,_),x=r.add(x,x),T=r.mul(b,x),B=r.mul(p,te),B=r.add(T,B),T=r.sub(A,B),B=r.add(A,B),B=r.mul(T,B),T=r.mul(J,T),x=r.mul(p,x),te=r.mul(b,te),J=r.sub(d,te),J=r.mul(b,J),J=r.add(J,x),x=r.add(d,d),d=r.add(x,d),d=r.add(d,te),d=r.mul(d,J),B=r.add(B,d),te=r.mul(E,_),te=r.add(te,te),d=r.mul(te,J),T=r.sub(T,d),x=r.mul(te,A),x=r.add(x,x),x=r.add(x,x),new $(T,B,x)}add(b){j(b);const{X:u,Y:p,Z:v}=this,{X:E,Y:_,Z:T}=b;let B=r.ZERO,x=r.ZERO,d=r.ZERO;const A=s.a,te=r.mul(s.b,Il);let J=r.mul(u,E),re=r.mul(p,_),we=r.mul(v,T),ve=r.add(u,p),ye=r.add(E,_);ve=r.mul(ve,ye),ye=r.add(J,re),ve=r.sub(ve,ye),ye=r.add(u,v);let $e=r.add(E,T);return ye=r.mul(ye,$e),$e=r.add(J,we),ye=r.sub(ye,$e),$e=r.add(p,v),B=r.add(_,T),$e=r.mul($e,B),B=r.add(re,we),$e=r.sub($e,B),d=r.mul(A,ye),B=r.mul(te,we),d=r.add(B,d),B=r.sub(re,d),d=r.add(re,d),x=r.mul(B,d),re=r.add(J,J),re=r.add(re,J),we=r.mul(A,we),ye=r.mul(te,ye),re=r.add(re,we),we=r.sub(J,we),we=r.mul(A,we),ye=r.add(ye,we),J=r.mul(re,ye),x=r.add(x,J),J=r.mul($e,ye),B=r.mul(ve,B),B=r.sub(B,J),J=r.mul(ve,re),d=r.mul($e,d),d=r.add(d,J),new $(B,x,d)}subtract(b){return this.add(b.negate())}is0(){return this.equals($.ZERO)}multiply(b){const{endo:u}=e;if(!i.isValidNot0(b))throw new Error("invalid scalar: out of range");let p,v;const E=_=>ee.cached(this,_,T=>Ji($,T));if(u){const{k1neg:_,k1:T,k2neg:B,k2:x}=V(b),{p:d,f:A}=E(T),{p:te,f:J}=E(x);v=A.add(J),p=q(u.beta,d,te,_,B)}else{const{p:_,f:T}=E(b);p=_,v=T}return Ji($,[p,v])[0]}multiplyUnsafe(b){const{endo:u}=e,p=this;if(!i.isValid(b))throw new Error("invalid scalar: out of range");if(b===Kr||p.is0())return $.ZERO;if(b===oo)return p;if(ee.hasCache(this))return this.multiply(b);if(u){const{k1neg:v,k1:E,k2neg:_,k2:T}=V(b),{p1:B,p2:x}=qS($,p,E,T);return q(u.beta,B,x,v,_)}else return ee.unsafe(p,b)}multiplyAndAddUnsafe(b,u,p){const v=this.multiplyUnsafe(u).add(b.multiplyUnsafe(p));return v.is0()?void 0:v}toAffine(b){return W(this,b)}isTorsionFree(){const{isTorsionFree:b}=e;return o===oo?!0:b?b($,this):ee.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:b}=e;return o===oo?this:b?b($,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(b=!0){return ds(b,"isCompressed"),this.assertValidity(),k($,this,b)}toHex(b=!0){return ts(this.toBytes(b))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(b=!0){return this.toBytes(b)}_setWindowSize(b){this.precompute(b)}static normalizeZ(b){return Ji($,b)}static msm(b,u){return W1($,i,b,u)}static fromPrivateKey(b){return $.BASE.multiply(Gs(i,b))}}$.BASE=new $(s.Gx,s.Gy,r.ONE),$.ZERO=new $(r.ZERO,r.ONE,r.ZERO),$.Fp=r,$.Fn=i;const H=i.BITS,ee=new K1($,e.endo?Math.ceil(H/2):H);return $.BASE.precompute(8),$}function Ow(t){return Uint8Array.of(t?2:3)}function Lw(t,e){return{secretKey:e.BYTES,publicKey:1+t.BYTES,publicKeyUncompressed:1+2*t.BYTES,publicKeyHasPrefix:!0,signature:2*e.BYTES}}function zC(t,e={}){const{Fn:n}=t,r=e.randomBytes||lp,i=Object.assign(Lw(t.Fp,n),{seed:z1(n.ORDER)});function s(k){try{return!!Gs(n,k)}catch{return!1}}function o(k,M){const{publicKey:P,publicKeyUncompressed:L}=i;try{const S=k.length;return M===!0&&S!==P||M===!1&&S!==L?!1:!!t.fromBytes(k)}catch{return!1}}function a(k=r(i.seed)){return WS(fr(k,i.seed,"seed"),n.ORDER)}function l(k,M=!0){return t.BASE.multiply(Gs(n,k)).toBytes(M)}function c(k){const M=a(k);return{secretKey:M,publicKey:l(M)}}function m(k){if(typeof k=="bigint")return!1;if(k instanceof t)return!0;const{secretKey:M,publicKey:P,publicKeyUncompressed:L}=i;if(n.allowedLengths||M===P)return;const S=Ct("key",k).length;return S===P||S===L}function g(k,M,P=!0){if(m(k)===!0)throw new Error("first arg must be private key");if(m(M)===!1)throw new Error("second arg must be public key");const L=Gs(n,k);return t.fromHex(M).multiply(L).toBytes(P)}return Object.freeze({getPublicKey:l,getSharedSecret:g,keygen:c,Point:t,utils:{isValidSecretKey:s,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:s,randomPrivateKey:a,normPrivateKeyToScalar:k=>Gs(n,k),precompute(k=8,M=t.BASE){return M.precompute(k,!1)}},lengths:i})}function $C(t,e,n={}){_1(e),qa(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||lp,i=n.hmac||((u,...p)=>Pw(e,u,Er(...p))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:l}=o,{keygen:c,getPublicKey:m,getSharedSecret:g,utils:y,lengths:k}=zC(t,n),M={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},P="compact";function L(u){const p=a>>oo;return u>p}function S(u,p){if(!o.isValidNot0(p))throw new Error(`invalid signature ${u}: out of range 1..Point.Fn.ORDER`);return p}function R(u,p){Zd(p);const v=k.signature,E=p==="compact"?v:p==="recovered"?v+1:void 0;return fr(u,E,`${p} signature`)}class C{constructor(p,v,E){this.r=S("r",p),this.s=S("s",v),E!=null&&(this.recovery=E),Object.freeze(this)}static fromBytes(p,v=P){R(p,v);let E;if(v==="der"){const{r:x,s:d}=Ur.toSig(fr(p));return new C(x,d)}v==="recovered"&&(E=p[0],v="compact",p=p.subarray(1));const _=o.BYTES,T=p.subarray(0,_),B=p.subarray(_,_*2);return new C(o.fromBytes(T),o.fromBytes(B),E)}static fromHex(p,v){return this.fromBytes(Ou(p),v)}addRecoveryBit(p){return new C(this.r,this.s,p)}recoverPublicKey(p){const v=s.ORDER,{r:E,s:_,recovery:T}=this;if(T==null||![0,1,2,3].includes(T))throw new Error("recovery id invalid");if(a*Nw<v&&T>1)throw new Error("recovery id is ambiguous for h>1 curve");const x=T===2||T===3?E+a:E;if(!s.isValid(x))throw new Error("recovery id 2 or 3 invalid");const d=s.toBytes(x),A=t.fromBytes(Er(Ow((T&1)===0),d)),te=o.inv(x),J=V(Ct("msgHash",p)),re=o.create(-J*te),we=o.create(_*te),ve=t.BASE.multiplyUnsafe(re).add(A.multiplyUnsafe(we));if(ve.is0())throw new Error("point at infinify");return ve.assertValidity(),ve}hasHighS(){return L(this.s)}toBytes(p=P){if(Zd(p),p==="der")return Ou(Ur.hexFromSig(this));const v=o.toBytes(this.r),E=o.toBytes(this.s);if(p==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Er(Uint8Array.of(this.recovery),v,E)}return Er(v,E)}toHex(p){return ts(this.toBytes(p))}assertValidity(){}static fromCompact(p){return C.fromBytes(Ct("sig",p),"compact")}static fromDER(p){return C.fromBytes(Ct("sig",p),"der")}normalizeS(){return this.hasHighS()?new C(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return ts(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return ts(this.toBytes("compact"))}}const j=n.bits2int||function(p){if(p.length>8192)throw new Error("input is too large");const v=yc(p),E=p.length*8-l;return E>0?v>>BigInt(E):v},V=n.bits2int_modN||function(p){return o.create(j(p))},W=Za(l);function Z(u){return Kd("num < 2^"+l,u,Kr,W),o.toBytes(u)}function q(u,p){return fr(u,void 0,"message"),p?fr(e(u),void 0,"prehashed message"):u}function $(u,p,v){if(["recovered","canonical"].some(re=>re in v))throw new Error("sign() legacy options not supported");const{lowS:E,prehash:_,extraEntropy:T}=Mf(v,M);u=q(u,_);const B=V(u),x=Gs(o,p),d=[Z(x),Z(B)];if(T!=null&&T!==!1){const re=T===!0?r(k.secretKey):T;d.push(Ct("extraEntropy",re))}const A=Er(...d),te=B;function J(re){const we=j(re);if(!o.isValidNot0(we))return;const ve=o.inv(we),ye=t.BASE.multiply(we).toAffine(),$e=o.create(ye.x);if($e===Kr)return;const Ve=o.create(ve*o.create(te+$e*x));if(Ve===Kr)return;let Ze=(ye.x===$e?0:2)|Number(ye.y&oo),hn=Ve;return E&&L(Ve)&&(hn=o.neg(Ve),Ze^=1),new C($e,hn,Ze)}return{seed:A,k2sig:J}}function H(u,p,v={}){u=Ct("message",u);const{seed:E,k2sig:_}=$(u,p,v);return OS(e.outputLen,o.BYTES,i)(E,_)}function ee(u){let p;const v=typeof u=="string"||Ha(u),E=!v&&u!==null&&typeof u=="object"&&typeof u.r=="bigint"&&typeof u.s=="bigint";if(!v&&!E)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(E)p=new C(u.r,u.s);else if(v){try{p=C.fromBytes(Ct("sig",u),"der")}catch(_){if(!(_ instanceof Ur.Err))throw _}if(!p)try{p=C.fromBytes(Ct("sig",u),"compact")}catch{return!1}}return p||!1}function Q(u,p,v,E={}){const{lowS:_,prehash:T,format:B}=Mf(E,M);if(v=Ct("publicKey",v),p=q(Ct("message",p),T),"strict"in E)throw new Error("options.strict was renamed to lowS");const x=B===void 0?ee(u):C.fromBytes(Ct("sig",u),B);if(x===!1)return!1;try{const d=t.fromBytes(v);if(_&&x.hasHighS())return!1;const{r:A,s:te}=x,J=V(p),re=o.inv(te),we=o.create(J*re),ve=o.create(A*re),ye=t.BASE.multiplyUnsafe(we).add(d.multiplyUnsafe(ve));return ye.is0()?!1:o.create(ye.x)===A}catch{return!1}}function b(u,p,v={}){const{prehash:E}=Mf(v,M);return p=q(p,E),C.fromBytes(u,"recovered").recoverPublicKey(p).toBytes()}return Object.freeze({keygen:c,getPublicKey:m,getSharedSecret:g,utils:y,lengths:k,Point:t,sign:H,verify:Q,recoverPublicKey:b,Signature:C,hash:e})}function VC(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},n=t.Fp;let r=t.allowedPrivateKeyLengths?Array.from(new Set(t.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const i=ws(e.n,{BITS:t.nBitLength,allowedLengths:r,modFromBytes:t.wrapPrivateKey}),s={Fp:n,Fn:i,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:s}}function KC(t){const{CURVE:e,curveOpts:n}=VC(t),r={hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:n,hash:t.hash,ecdsaOpts:r}}function WC(t,e){const n=e.Point;return Object.assign({},e,{ProjectivePoint:n,CURVE:Object.assign({},t,U1(n.Fn.ORDER,n.Fn.BITS))})}function HC(t){const{CURVE:e,curveOpts:n,hash:r,ecdsaOpts:i}=KC(t),s=FC(e,n),o=$C(s,r,i);return WC(t,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZC(t,e){const n=r=>HC({...t,hash:r});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Cp={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},qC={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},Fm=BigInt(2);function GC(t){const e=Cp.p,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),l=BigInt(88),c=t*t*t%e,m=c*c*t%e,g=Et(m,n,e)*m%e,y=Et(g,n,e)*m%e,k=Et(y,Fm,e)*c%e,M=Et(k,i,e)*k%e,P=Et(M,s,e)*M%e,L=Et(P,a,e)*P%e,S=Et(L,l,e)*L%e,R=Et(S,a,e)*P%e,C=Et(R,n,e)*m%e,j=Et(C,o,e)*M%e,V=Et(j,r,e)*c%e,W=Et(V,Fm,e);if(!qd.eql(qd.sqr(W),t))throw new Error("Cannot find square root");return W}const qd=ws(Cp.p,{sqrt:GC}),YC=ZC({...Cp,Fp:qd,lowS:!0,endo:qC},R1);Ga.utils.randomPrivateKey;Ga.getPublicKey;function zm(t){try{return Ga.ExtendedPoint.fromHex(t),!0}catch{return!1}}const jw=(t,e)=>Ga.sign(t,e.slice(0,32)),JC=Ga.verify,Rp=t=>Te.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Te.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Te.Buffer.from(t);class XC{constructor(e){Object.assign(this,e)}encode(){return Te.Buffer.from(nw(Gl,this))}static decode(e){return rw(Gl,this,e)}static decodeUnchecked(e){return J1(Gl,this,e)}}const Gl=new Map;var Dw;const QC=32,Ai=32;function e3(t){return t._bn!==void 0}let $m=1;class Re extends XC{constructor(e){if(super({}),this._bn=void 0,e3(e))this._bn=e._bn;else{if(typeof e=="string"){const n=gn.decode(e);if(n.length!=Ai)throw new Error("Invalid public key input");this._bn=new Om(n)}else this._bn=new Om(e);if(this._bn.byteLength()>Ai)throw new Error("Invalid public key input")}}static unique(){const e=new Re($m);return $m+=1,new Re(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return gn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Te.Buffer);if(e.length===Ai)return e;const n=Te.Buffer.alloc(32);return e.copy(n,32-e.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,n,r){const i=Te.Buffer.concat([e.toBuffer(),Te.Buffer.from(n),r.toBuffer()]),s=Lm(i);return new Re(s)}static createProgramAddressSync(e,n){let r=Te.Buffer.alloc(0);e.forEach(function(s){if(s.length>QC)throw new TypeError("Max seed length exceeded");r=Te.Buffer.concat([r,Rp(s)])}),r=Te.Buffer.concat([r,n.toBuffer(),Te.Buffer.from("ProgramDerivedAddress")]);const i=Lm(r);if(zm(i))throw new Error("Invalid seeds, address must fall off the curve");return new Re(i)}static async createProgramAddress(e,n){return this.createProgramAddressSync(e,n)}static findProgramAddressSync(e,n){let r=255,i;for(;r!=0;){try{const s=e.concat(Te.Buffer.from([r]));i=this.createProgramAddressSync(s,n)}catch(s){if(s instanceof TypeError)throw s;r--;continue}return[i,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,n){return this.findProgramAddressSync(e,n)}static isOnCurve(e){const n=new Re(e);return zm(n.toBytes())}}Dw=Re;Re.default=new Dw("11111111111111111111111111111111");Gl.set(Re,{kind:"struct",fields:[["_bn","u256"]]});new Re("BPFLoader1111111111111111111111111111111111");const ao=1232,Ip=127,Wu=64;class Hu{constructor(e,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=n}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const n of this.keySegments()){if(e<n.length)return n[e];e-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((s,o)=>{r.set(s.toBase58(),o)});const i=s=>{const o=r.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const Pe=(t="publicKey")=>st(32,t),t3=(t="signature")=>st(64,t),Ys=(t="string")=>{const e=de([ge("length"),ge("lengthPadding"),st(ns(ge(),-8),"chars")],t),n=e.decode.bind(e),r=e.encode.bind(e),i=e;return i.decode=(s,o)=>n(s,o).chars.toString(),i.encode=(s,o,a)=>{const l={chars:Te.Buffer.from(s,"utf8")};return r(l,o,a)},i.alloc=s=>ge().span+ge().span+Te.Buffer.from(s,"utf8").length,i},n3=(t="authorized")=>de([Pe("staker"),Pe("withdrawer")],t),r3=(t="lockup")=>de([jn("unixTimestamp"),jn("epoch"),Pe("custodian")],t),i3=(t="voteInit")=>de([Pe("nodePubkey"),Pe("authorizedVoter"),Pe("authorizedWithdrawer"),ze("commission")],t),s3=(t="voteAuthorizeWithSeedArgs")=>de([ge("voteAuthorizationType"),Pe("currentAuthorityDerivedKeyOwnerPubkey"),Ys("currentAuthorityDerivedKeySeed"),Pe("newAuthorized")],t);function Dn(t){let e=0,n=0;for(;;){let r=t.shift();if(e|=(r&127)<<n*7,n+=1,!(r&128))break}return e}function Un(t,e){let n=e;for(;;){let r=n&127;if(n>>=7,n==0){t.push(r);break}else r|=128,t.push(r)}}function Lt(t,e){if(!t)throw new Error(e||"Assertion failed")}class Sc{constructor(e,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=n}static compile(e,n){const r=new Map,i=o=>{const a=o.toBase58();let l=r.get(a);return l===void 0&&(l={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,l)),l},s=i(n);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const l=i(a.pubkey);l.isSigner||(l.isSigner=a.isSigner),l.isWritable||(l.isWritable=a.isWritable)}}return new Sc(n,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Lt(e.length<=256,"Max static account keys length exceeded");const n=e.filter(([,l])=>l.isSigner&&l.isWritable),r=e.filter(([,l])=>l.isSigner&&!l.isWritable),i=e.filter(([,l])=>!l.isSigner&&l.isWritable),s=e.filter(([,l])=>!l.isSigner&&!l.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:s.length};{Lt(n.length>0,"Expected at least one writable signer key");const[l]=n[0];Lt(l===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([l])=>new Re(l)),...r.map(([l])=>new Re(l)),...i.map(([l])=>new Re(l)),...s.map(([l])=>new Re(l))];return[o,a]}extractTableLookup(e){const[n,r]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:n,readonlyIndexes:i},{writable:r,readonly:s}]}drainKeysFoundInLookupTable(e,n){const r=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(n(o)){const a=new Re(s),l=e.findIndex(c=>c.equals(a));l>=0&&(Lt(l<256,"Max lookup table index exceeded"),r.push(l),i.push(a),this.keyMetaMap.delete(s))}return[r,i]}}const Uw="Reached end of buffer unexpectedly";function zr(t){if(t.length===0)throw new Error(Uw);return t.shift()}function Fn(t,...e){const[n]=e;if(e.length===2?n+(e[1]??0)>t.length:n>=t.length)throw new Error(Uw);return t.splice(...e)}class _o{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(n=>new Re(n)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:gn.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Hu(this.staticAccountKeys)}static compile(e){const n=Sc.compile(e.instructions,e.payerKey),[r,i]=n.getMessageComponents(),o=new Hu(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:gn.encode(a.data)}));return new _o({header:r,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const r=e-n,s=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<s}else{const r=n-this.header.numReadonlySignedAccounts;return e<r}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,n)=>!this.isProgramId(n))}serialize(){const e=this.accountKeys.length;let n=[];Un(n,e);const r=this.instructions.map(g=>{const{accounts:y,programIdIndex:k}=g,M=Array.from(gn.decode(g.data));let P=[];Un(P,y.length);let L=[];return Un(L,M.length),{programIdIndex:k,keyIndicesCount:Te.Buffer.from(P),keyIndices:y,dataLength:Te.Buffer.from(L),data:M}});let i=[];Un(i,r.length);let s=Te.Buffer.alloc(ao);Te.Buffer.from(i).copy(s);let o=i.length;r.forEach(g=>{const k=de([ze("programIdIndex"),st(g.keyIndicesCount.length,"keyIndicesCount"),vn(ze("keyIndex"),g.keyIndices.length,"keyIndices"),st(g.dataLength.length,"dataLength"),vn(ze("userdatum"),g.data.length,"data")]).encode(g,s,o);o+=k}),s=s.slice(0,o);const a=de([st(1,"numRequiredSignatures"),st(1,"numReadonlySignedAccounts"),st(1,"numReadonlyUnsignedAccounts"),st(n.length,"keyCount"),vn(Pe("key"),e,"keys"),Pe("recentBlockhash")]),l={numRequiredSignatures:Te.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Te.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Te.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Te.Buffer.from(n),keys:this.accountKeys.map(g=>Rp(g.toBytes())),recentBlockhash:gn.decode(this.recentBlockhash)};let c=Te.Buffer.alloc(2048);const m=a.encode(l,c);return s.copy(c,m),c.slice(0,m+s.length)}static from(e){let n=[...e];const r=zr(n);if(r!==(r&Ip))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=zr(n),s=zr(n),o=Dn(n);let a=[];for(let y=0;y<o;y++){const k=Fn(n,0,Ai);a.push(new Re(Te.Buffer.from(k)))}const l=Fn(n,0,Ai),c=Dn(n);let m=[];for(let y=0;y<c;y++){const k=zr(n),M=Dn(n),P=Fn(n,0,M),L=Dn(n),S=Fn(n,0,L),R=gn.encode(Te.Buffer.from(S));m.push({programIdIndex:k,accounts:P,data:R})}const g={header:{numRequiredSignatures:r,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:gn.encode(Te.Buffer.from(l)),accountKeys:a,instructions:m};return new _o(g)}}class Zu{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const n of this.addressTableLookups)e+=n.readonlyIndexes.length+n.writableIndexes.length;return e}getAccountKeys(e){let n;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)n=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Hu(this.staticAccountKeys,n)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){const i=e-r,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=n-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const i=e.find(s=>s.key.equals(r.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const s of r.writableIndexes)if(s<i.state.addresses.length)n.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`);for(const s of r.readonlyIndexes)if(s<i.state.addresses.length)n.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(e){const n=Sc.compile(e.instructions,e.payerKey),r=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const m of s){const g=n.extractTableLookup(m);if(g!==void 0){const[y,{writable:k,readonly:M}]=g;r.push(y),i.writable.push(...k),i.readonly.push(...M)}}const[o,a]=n.getMessageComponents(),c=new Hu(a,i).compileInstructions(e.instructions);return new Zu({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:c,addressTableLookups:r})}serialize(){const e=Array();Un(e,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();Un(r,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();Un(s,this.addressTableLookups.length);const o=de([ze("prefix"),de([ze("numRequiredSignatures"),ze("numReadonlySignedAccounts"),ze("numReadonlyUnsignedAccounts")],"header"),st(e.length,"staticAccountKeysLength"),vn(Pe(),this.staticAccountKeys.length,"staticAccountKeys"),Pe("recentBlockhash"),st(r.length,"instructionsLength"),st(n.length,"serializedInstructions"),st(s.length,"addressTableLookupsLength"),st(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(ao),c=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(m=>m.toBytes()),recentBlockhash:gn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,c)}serializeInstructions(){let e=0;const n=new Uint8Array(ao);for(const r of this.compiledInstructions){const i=Array();Un(i,r.accountKeyIndexes.length);const s=Array();Un(s,r.data.length);const o=de([ze("programIdIndex"),st(i.length,"encodedAccountKeyIndexesLength"),vn(ze(),r.accountKeyIndexes.length,"accountKeyIndexes"),st(s.length,"encodedDataLength"),st(r.data.length,"data")]);e+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:r.data},n,e)}return n.slice(0,e)}serializeAddressTableLookups(){let e=0;const n=new Uint8Array(ao);for(const r of this.addressTableLookups){const i=Array();Un(i,r.writableIndexes.length);const s=Array();Un(s,r.readonlyIndexes.length);const o=de([Pe("accountKey"),st(i.length,"encodedWritableIndexesLength"),vn(ze(),r.writableIndexes.length,"writableIndexes"),st(s.length,"encodedReadonlyIndexesLength"),vn(ze(),r.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:r.readonlyIndexes},n,e)}return n.slice(0,e)}static deserialize(e){let n=[...e];const r=zr(n),i=r&Ip;Lt(r!==i,"Expected versioned message but received legacy message");const s=i;Lt(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:zr(n),numReadonlySignedAccounts:zr(n),numReadonlyUnsignedAccounts:zr(n)},a=[],l=Dn(n);for(let M=0;M<l;M++)a.push(new Re(Fn(n,0,Ai)));const c=gn.encode(Fn(n,0,Ai)),m=Dn(n),g=[];for(let M=0;M<m;M++){const P=zr(n),L=Dn(n),S=Fn(n,0,L),R=Dn(n),C=new Uint8Array(Fn(n,0,R));g.push({programIdIndex:P,accountKeyIndexes:S,data:C})}const y=Dn(n),k=[];for(let M=0;M<y;M++){const P=new Re(Fn(n,0,Ai)),L=Dn(n),S=Fn(n,0,L),R=Dn(n),C=Fn(n,0,R);k.push({accountKey:P,writableIndexes:S,readonlyIndexes:C})}return new Zu({header:o,staticAccountKeys:a,recentBlockhash:c,compiledInstructions:g,addressTableLookups:k})}}const Tp={deserializeMessageVersion(t){const e=t[0],n=e&Ip;return n===e?"legacy":n},deserialize:t=>{const e=Tp.deserializeMessageVersion(t);if(e==="legacy")return _o.from(t);if(e===0)return Zu.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}},o3=Te.Buffer.alloc(Wu).fill(0);class Vm{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Te.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:n,isWritable:r})=>({pubkey:e.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class qu{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=e;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=e;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new Vm(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,n;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(e=this.recentBlockhash,n=this.instructions),!e)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let P=0;P<n.length;P++)if(n[P].programId===void 0)throw new Error(`Transaction instruction index ${P} has undefined program id`);const i=[],s=[];n.forEach(P=>{P.keys.forEach(S=>{s.push({...S})});const L=P.programId.toString();i.includes(L)||i.push(L)}),i.forEach(P=>{s.push({pubkey:new Re(P),isSigner:!1,isWritable:!1})});const o=[];s.forEach(P=>{const L=P.pubkey.toString(),S=o.findIndex(R=>R.pubkey.toString()===L);S>-1?(o[S].isWritable=o[S].isWritable||P.isWritable,o[S].isSigner=o[S].isSigner||P.isSigner):o.push(P)}),o.sort(function(P,L){if(P.isSigner!==L.isSigner)return P.isSigner?-1:1;if(P.isWritable!==L.isWritable)return P.isWritable?-1:1;const S={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return P.pubkey.toBase58().localeCompare(L.pubkey.toBase58(),"en",S)});const a=o.findIndex(P=>P.pubkey.equals(r));if(a>-1){const[P]=o.splice(a,1);P.isSigner=!0,P.isWritable=!0,o.unshift(P)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const P of this.signatures){const L=o.findIndex(S=>S.pubkey.equals(P.publicKey));if(L>-1)o[L].isSigner||(o[L].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${P.publicKey.toString()}`)}let l=0,c=0,m=0;const g=[],y=[];o.forEach(({pubkey:P,isSigner:L,isWritable:S})=>{L?(g.push(P.toString()),l+=1,S||(c+=1)):(y.push(P.toString()),S||(m+=1))});const k=g.concat(y),M=n.map(P=>{const{data:L,programId:S}=P;return{programIdIndex:k.indexOf(S.toString()),accounts:P.keys.map(R=>k.indexOf(R.pubkey.toString())),data:gn.encode(L)}});return M.forEach(P=>{Lt(P.programIdIndex>=0),P.accounts.forEach(L=>Lt(L>=0))}),new _o({header:{numRequiredSignatures:l,numReadonlySignedAccounts:c,numReadonlyUnsignedAccounts:m},accountKeys:k,recentBlockhash:e,instructions:M})}_compile(){const e=this.compileMessage(),n=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((i,s)=>n[s].equals(i.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const n=new Set;this.signatures=e.filter(r=>{const i=r.toString();return n.has(i)?!1:(n.add(i),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}this.signatures=r.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...r)}partialSign(...e){if(e.length===0)throw new Error("No signers");const n=new Set,r=[];for(const s of e){const o=s.publicKey.toString();n.has(o)||(n.add(o),r.push(s))}const i=this._compile();this._partialSign(i,...r)}_partialSign(e,...n){const r=e.serialize();n.forEach(i=>{const s=jw(r,i.secretKey);this._addSignature(i.publicKey,Rp(s))})}addSignature(e,n){this._compile(),this._addSignature(e,n)}_addSignature(e,n){Lt(n.length===64);const r=this.signatures.findIndex(i=>e.equals(i.publicKey));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=Te.Buffer.from(n)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,n){const r={};for(const{signature:i,publicKey:s}of this.signatures)i===null?n&&(r.missing||(r.missing=[])).push(s):JC(i,e,s.toBytes())||(r.invalid||(r.invalid=[])).push(s);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(r){const s=this._getMessageSignednessErrors(i,n);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:n}=this,r=[];Un(r,n.length);const i=r.length+n.length*64+e.length,s=Te.Buffer.alloc(i);return Lt(n.length<256),Te.Buffer.from(r).copy(s,0),n.forEach(({signature:o},a)=>{o!==null&&(Lt(o.length===64,"signature has invalid length"),Te.Buffer.from(o).copy(s,r.length+a*64))}),e.copy(s,r.length+n.length*64),Lt(s.length<=ao,`Transaction too large: ${s.length} > ${ao}`),s}get keys(){return Lt(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return Lt(this.instructions.length===1),this.instructions[0].programId}get data(){return Lt(this.instructions.length===1),this.instructions[0].data}static from(e){let n=[...e];const r=Dn(n);let i=[];for(let s=0;s<r;s++){const o=Fn(n,0,Wu);i.push(gn.encode(Te.Buffer.from(o)))}return qu.populate(_o.from(n),i)}static populate(e,n=[]){const r=new qu;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),n.forEach((i,s)=>{const o={signature:i==gn.encode(o3)?null:gn.decode(i),publicKey:e.accountKeys[s]};r.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(l=>l.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});r.instructions.push(new Vm({keys:s,programId:e.accountKeys[i.programIdIndex],data:gn.decode(i.data)}))}),r._message=e,r._json=r.toJSON(),r}}class Mp{get version(){return this.message.version}constructor(e,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)Lt(n.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let i=0;i<e.header.numRequiredSignatures;i++)r.push(new Uint8Array(Wu));this.signatures=r}this.message=e}serialize(){const e=this.message.serialize(),n=Array();Un(n,this.signatures.length);const r=de([st(n.length,"encodedSignaturesLength"),vn(t3(),this.signatures.length,"signatures"),st(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let n=[...e];const r=[],i=Dn(n);for(let o=0;o<i;o++)r.push(new Uint8Array(Fn(n,0,Wu)));const s=Tp.deserialize(new Uint8Array(n));return new Mp(s,r)}sign(e){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=r.findIndex(o=>o.equals(i.publicKey));Lt(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=jw(n,i.secretKey)}}addSignature(e,n){Lt(n.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));Lt(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=n}}new Re("SysvarC1ock11111111111111111111111111111111");new Re("SysvarEpochSchedu1e111111111111111111111111");new Re("Sysvar1nstructions1111111111111111111111111");new Re("SysvarRecentB1ockHashes11111111111111111111");new Re("SysvarRent111111111111111111111111111111111");new Re("SysvarRewards111111111111111111111111111111");new Re("SysvarS1otHashes111111111111111111111111111");new Re("SysvarS1otHistory11111111111111111111111111");new Re("SysvarStakeHistory1111111111111111111111111");const a3=Kt("lamportsPerSignature"),l3=de([ge("version"),ge("state"),Pe("authorizedPubkey"),Pe("nonce"),de([a3],"feeCalculator")]);l3.span;function bo(t){const e=st(8,t),n=e.decode.bind(e),r=e.encode.bind(e),i=e,s=rC();return i.decode=(o,a)=>{const l=n(o,a);return s.decode(l)},i.encode=(o,a,l)=>{const c=s.encode(o);return r(c,a,l)},i}Object.freeze({Create:{index:0,layout:de([ge("instruction"),jn("lamports"),jn("space"),Pe("programId")])},Assign:{index:1,layout:de([ge("instruction"),Pe("programId")])},Transfer:{index:2,layout:de([ge("instruction"),bo("lamports")])},CreateWithSeed:{index:3,layout:de([ge("instruction"),Pe("base"),Ys("seed"),jn("lamports"),jn("space"),Pe("programId")])},AdvanceNonceAccount:{index:4,layout:de([ge("instruction")])},WithdrawNonceAccount:{index:5,layout:de([ge("instruction"),jn("lamports")])},InitializeNonceAccount:{index:6,layout:de([ge("instruction"),Pe("authorized")])},AuthorizeNonceAccount:{index:7,layout:de([ge("instruction"),Pe("authorized")])},Allocate:{index:8,layout:de([ge("instruction"),jn("space")])},AllocateWithSeed:{index:9,layout:de([ge("instruction"),Pe("base"),Ys("seed"),jn("space"),Pe("programId")])},AssignWithSeed:{index:10,layout:de([ge("instruction"),Pe("base"),Ys("seed"),Pe("programId")])},TransferWithSeed:{index:11,layout:de([ge("instruction"),bo("lamports"),Ys("seed"),Pe("programId")])},UpgradeNonceAccount:{index:12,layout:de([ge("instruction")])}});new Re("11111111111111111111111111111111");new Re("BPFLoader2111111111111111111111111111111111");de([ge("typeIndex"),bo("deactivationSlot"),Kt("lastExtendedSlot"),ze("lastExtendedStartIndex"),ze(),vn(Pe(),ns(ze(),-1),"authority")]);const Tt=Xa(Sp(Re),ne(),t=>new Re(t)),Fw=Ep([ne(),yt("base64")]),Ap=Xa(Sp(Te.Buffer),Fw,t=>Te.Buffer.from(t[0],"base64"));function zw(t){return _n([G({jsonrpc:yt("2.0"),id:ne(),result:t}),G({jsonrpc:yt("2.0"),id:ne(),error:G({code:Ao(),message:ne(),data:he(cC())})})])}const u3=zw(Ao());function tt(t){return Xa(zw(t),u3,e=>"error"in e?e:{...e,result:Ra(e.result,t)})}function vr(t){return tt(G({context:G({slot:U()}),value:t}))}function Ec(t){return G({context:G({slot:U()}),value:t})}const c3=G({foundation:U(),foundationTerm:U(),initial:U(),taper:U(),terminal:U()});tt(se(oe(G({epoch:U(),effectiveSlot:U(),amount:U(),postBalance:U(),commission:he(oe(U()))}))));const f3=se(G({slot:U(),prioritizationFee:U()})),d3=G({total:U(),validator:U(),foundation:U(),epoch:U()}),h3=G({epoch:U(),slotIndex:U(),slotsInEpoch:U(),absoluteSlot:U(),blockHeight:he(U()),transactionCount:he(U())}),p3=G({slotsPerEpoch:U(),leaderScheduleSlotOffset:U(),warmup:Tr(),firstNormalEpoch:U(),firstNormalSlot:U()}),m3=Sw(ne(),se(U())),bs=oe(_n([G({}),ne()])),g3=G({err:bs}),y3=yt("receivedSignature");G({"solana-core":ne(),"feature-set":he(U())});const v3=G({program:ne(),programId:Tt,parsed:Ao()}),w3=G({programId:Tt,accounts:se(Tt),data:ne()});vr(G({err:oe(_n([G({}),ne()])),logs:oe(se(ne())),accounts:he(oe(se(oe(G({executable:Tr(),owner:ne(),lamports:U(),data:se(ne()),rentEpoch:he(U())}))))),unitsConsumed:he(U()),returnData:he(oe(G({programId:ne(),data:Ep([ne(),yt("base64")])}))),innerInstructions:he(oe(se(G({index:U(),instructions:se(_n([v3,w3]))}))))}));vr(G({byIdentity:Sw(ne(),se(U())),range:G({firstSlot:U(),lastSlot:U()})}));tt(c3);tt(d3);tt(f3);tt(h3);tt(p3);tt(m3);tt(U());vr(G({total:U(),circulating:U(),nonCirculating:U(),nonCirculatingAccounts:se(Tt)}));const x3=G({amount:ne(),uiAmount:oe(U()),decimals:U(),uiAmountString:he(ne())});vr(se(G({address:Tt,amount:ne(),uiAmount:oe(U()),decimals:U(),uiAmountString:he(ne())})));vr(se(G({pubkey:Tt,account:G({executable:Tr(),owner:Tt,lamports:U(),data:Ap,rentEpoch:U()})})));const Gd=G({program:ne(),parsed:Ao(),space:U()});vr(se(G({pubkey:Tt,account:G({executable:Tr(),owner:Tt,lamports:U(),data:Gd,rentEpoch:U()})})));vr(se(G({lamports:U(),address:Tt})));const Bp=G({executable:Tr(),owner:Tt,lamports:U(),data:Ap,rentEpoch:U()});G({pubkey:Tt,account:Bp});const _3=Xa(_n([Sp(Te.Buffer),Gd]),_n([Fw,Gd]),t=>Array.isArray(t)?Ra(t,Ap):t),b3=G({executable:Tr(),owner:Tt,lamports:U(),data:_3,rentEpoch:U()});G({pubkey:Tt,account:b3});G({state:_n([yt("active"),yt("inactive"),yt("activating"),yt("deactivating")]),active:U(),inactive:U()});tt(se(G({signature:ne(),slot:U(),err:bs,memo:oe(ne()),blockTime:he(oe(U()))})));tt(se(G({signature:ne(),slot:U(),err:bs,memo:oe(ne()),blockTime:he(oe(U()))})));G({subscription:U(),result:Ec(Bp)});const k3=G({pubkey:Tt,account:Bp});G({subscription:U(),result:Ec(k3)});const S3=G({parent:U(),slot:U(),root:U()});G({subscription:U(),result:S3});const E3=_n([G({type:_n([yt("firstShredReceived"),yt("completed"),yt("optimisticConfirmation"),yt("root")]),slot:U(),timestamp:U()}),G({type:yt("createdBank"),parent:U(),slot:U(),timestamp:U()}),G({type:yt("frozen"),slot:U(),timestamp:U(),stats:G({numTransactionEntries:U(),numSuccessfulTransactions:U(),numFailedTransactions:U(),maxTransactionsPerEntry:U()})}),G({type:yt("dead"),slot:U(),timestamp:U(),err:ne()})]);G({subscription:U(),result:E3});G({subscription:U(),result:Ec(_n([g3,y3]))});G({subscription:U(),result:U()});G({pubkey:ne(),gossip:oe(ne()),tpu:oe(ne()),rpc:oe(ne()),version:oe(ne())});const Km=G({votePubkey:ne(),nodePubkey:ne(),activatedStake:U(),epochVoteAccount:Tr(),epochCredits:se(Ep([U(),U(),U()])),commission:U(),lastVote:U(),rootSlot:oe(U())});tt(G({current:se(Km),delinquent:se(Km)}));const C3=_n([yt("processed"),yt("confirmed"),yt("finalized")]),R3=G({slot:U(),confirmations:oe(U()),err:bs,confirmationStatus:he(C3)});vr(se(oe(R3)));tt(U());const $w=G({accountKey:Tt,writableIndexes:se(U()),readonlyIndexes:se(U())}),Pp=G({signatures:se(ne()),message:G({accountKeys:se(ne()),header:G({numRequiredSignatures:U(),numReadonlySignedAccounts:U(),numReadonlyUnsignedAccounts:U()}),instructions:se(G({accounts:se(U()),data:ne(),programIdIndex:U()})),recentBlockhash:ne(),addressTableLookups:he(se($w))})}),Vw=G({pubkey:Tt,signer:Tr(),writable:Tr(),source:he(_n([yt("transaction"),yt("lookupTable")]))}),Kw=G({accountKeys:se(Vw),signatures:se(ne())}),Ww=G({parsed:Ao(),program:ne(),programId:Tt}),Hw=G({accounts:se(Tt),data:ne(),programId:Tt}),I3=_n([Hw,Ww]),T3=_n([G({parsed:Ao(),program:ne(),programId:ne()}),G({accounts:se(ne()),data:ne(),programId:ne()})]),Zw=Xa(I3,T3,t=>"accounts"in t?Ra(t,Hw):Ra(t,Ww)),qw=G({signatures:se(ne()),message:G({accountKeys:se(Vw),instructions:se(Zw),recentBlockhash:ne(),addressTableLookups:he(oe(se($w)))})}),Gu=G({accountIndex:U(),mint:ne(),owner:he(ne()),programId:he(ne()),uiTokenAmount:x3}),Gw=G({writable:se(Tt),readonly:se(Tt)}),Cc=G({err:bs,fee:U(),innerInstructions:he(oe(se(G({index:U(),instructions:se(G({accounts:se(U()),data:ne(),programIdIndex:U()}))})))),preBalances:se(U()),postBalances:se(U()),logMessages:he(oe(se(ne()))),preTokenBalances:he(oe(se(Gu))),postTokenBalances:he(oe(se(Gu))),loadedAddresses:he(Gw),computeUnitsConsumed:he(U()),costUnits:he(U())}),Np=G({err:bs,fee:U(),innerInstructions:he(oe(se(G({index:U(),instructions:se(Zw)})))),preBalances:se(U()),postBalances:se(U()),logMessages:he(oe(se(ne()))),preTokenBalances:he(oe(se(Gu))),postTokenBalances:he(oe(se(Gu))),loadedAddresses:he(Gw),computeUnitsConsumed:he(U()),costUnits:he(U())}),Bo=_n([yt(0),yt("legacy")]),ks=G({pubkey:ne(),lamports:U(),postBalance:oe(U()),rewardType:oe(ne()),commission:he(oe(U()))});tt(oe(G({blockhash:ne(),previousBlockhash:ne(),parentSlot:U(),transactions:se(G({transaction:Pp,meta:oe(Cc),version:he(Bo)})),rewards:he(se(ks)),blockTime:oe(U()),blockHeight:oe(U())})));tt(oe(G({blockhash:ne(),previousBlockhash:ne(),parentSlot:U(),rewards:he(se(ks)),blockTime:oe(U()),blockHeight:oe(U())})));tt(oe(G({blockhash:ne(),previousBlockhash:ne(),parentSlot:U(),transactions:se(G({transaction:Kw,meta:oe(Cc),version:he(Bo)})),rewards:he(se(ks)),blockTime:oe(U()),blockHeight:oe(U())})));tt(oe(G({blockhash:ne(),previousBlockhash:ne(),parentSlot:U(),transactions:se(G({transaction:qw,meta:oe(Np),version:he(Bo)})),rewards:he(se(ks)),blockTime:oe(U()),blockHeight:oe(U())})));tt(oe(G({blockhash:ne(),previousBlockhash:ne(),parentSlot:U(),transactions:se(G({transaction:Kw,meta:oe(Np),version:he(Bo)})),rewards:he(se(ks)),blockTime:oe(U()),blockHeight:oe(U())})));tt(oe(G({blockhash:ne(),previousBlockhash:ne(),parentSlot:U(),rewards:he(se(ks)),blockTime:oe(U()),blockHeight:oe(U())})));tt(oe(G({blockhash:ne(),previousBlockhash:ne(),parentSlot:U(),transactions:se(G({transaction:Pp,meta:oe(Cc)})),rewards:he(se(ks)),blockTime:oe(U())})));tt(oe(G({blockhash:ne(),previousBlockhash:ne(),parentSlot:U(),signatures:se(ne()),blockTime:oe(U())})));tt(oe(G({slot:U(),meta:oe(Cc),blockTime:he(oe(U())),transaction:Pp,version:he(Bo)})));tt(oe(G({slot:U(),transaction:qw,meta:oe(Np),blockTime:he(oe(U())),version:he(Bo)})));vr(G({blockhash:ne(),lastValidBlockHeight:U()}));vr(Tr());const M3=G({slot:U(),numTransactions:U(),numSlots:U(),samplePeriodSecs:U()});tt(se(M3));vr(oe(G({feeCalculator:G({lamportsPerSignature:U()})})));tt(ne());tt(ne());const A3=G({err:bs,logs:se(ne()),signature:ne()});G({result:Ec(A3),subscription:U()});Object.freeze({CreateLookupTable:{index:0,layout:de([ge("instruction"),bo("recentSlot"),ze("bumpSeed")])},FreezeLookupTable:{index:1,layout:de([ge("instruction")])},ExtendLookupTable:{index:2,layout:de([ge("instruction"),bo(),vn(Pe(),ns(ge(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:de([ge("instruction")])},CloseLookupTable:{index:4,layout:de([ge("instruction")])}});new Re("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:de([ze("instruction"),ge("units"),ge("additionalFee")])},RequestHeapFrame:{index:1,layout:de([ze("instruction"),ge("bytes")])},SetComputeUnitLimit:{index:2,layout:de([ze("instruction"),ge("units")])},SetComputeUnitPrice:{index:3,layout:de([ze("instruction"),bo("microLamports")])}});new Re("ComputeBudget111111111111111111111111111111");de([ze("numSignatures"),ze("padding"),Yn("signatureOffset"),Yn("signatureInstructionIndex"),Yn("publicKeyOffset"),Yn("publicKeyInstructionIndex"),Yn("messageDataOffset"),Yn("messageDataSize"),Yn("messageInstructionIndex")]);new Re("Ed25519SigVerify111111111111111111111111111");YC.utils.isValidPrivateKey;de([ze("numSignatures"),Yn("signatureOffset"),ze("signatureInstructionIndex"),Yn("ethAddressOffset"),ze("ethAddressInstructionIndex"),Yn("messageDataOffset"),Yn("messageDataSize"),ze("messageInstructionIndex"),st(20,"ethAddress"),st(64,"signature"),ze("recoveryId")]);new Re("KeccakSecp256k11111111111111111111111111111");var Yw;new Re("StakeConfig11111111111111111111111111111111");class Jw{constructor(e,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=n,this.custodian=r}}Yw=Jw;Jw.default=new Yw(0,0,Re.default);Object.freeze({Initialize:{index:0,layout:de([ge("instruction"),n3(),r3()])},Authorize:{index:1,layout:de([ge("instruction"),Pe("newAuthorized"),ge("stakeAuthorizationType")])},Delegate:{index:2,layout:de([ge("instruction")])},Split:{index:3,layout:de([ge("instruction"),jn("lamports")])},Withdraw:{index:4,layout:de([ge("instruction"),jn("lamports")])},Deactivate:{index:5,layout:de([ge("instruction")])},Merge:{index:7,layout:de([ge("instruction")])},AuthorizeWithSeed:{index:8,layout:de([ge("instruction"),Pe("newAuthorized"),ge("stakeAuthorizationType"),Ys("authoritySeed"),Pe("authorityOwner")])}});new Re("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:de([ge("instruction"),i3()])},Authorize:{index:1,layout:de([ge("instruction"),Pe("newAuthorized"),ge("voteAuthorizationType")])},Withdraw:{index:3,layout:de([ge("instruction"),jn("lamports")])},UpdateValidatorIdentity:{index:4,layout:de([ge("instruction")])},AuthorizeWithSeed:{index:10,layout:de([ge("instruction"),s3()])}});new Re("Vote111111111111111111111111111111111111111");new Re("Va1idator1nfo111111111111111111111111111111");G({name:ne(),website:he(ne()),details:he(ne()),iconUrl:he(ne()),keybaseUsername:he(ne())});new Re("Vote111111111111111111111111111111111111111");de([Pe("nodePubkey"),Pe("authorizedWithdrawer"),ze("commission"),Kt(),vn(de([Kt("slot"),ge("confirmationCount")]),ns(ge(),-8),"votes"),ze("rootSlotValid"),Kt("rootSlot"),Kt(),vn(de([Kt("epoch"),Pe("authorizedVoter")]),ns(ge(),-8),"authorizedVoters"),de([vn(de([Pe("authorizedPubkey"),Kt("epochOfLastAuthorizedSwitch"),Kt("targetEpoch")]),32,"buf"),Kt("idx"),ze("isEmpty")],"priorVoters"),Kt(),vn(de([Kt("epoch"),Kt("credits"),Kt("prevCredits")]),ns(ge(),-8),"epochCredits"),de([Kt("slot"),Kt("timestamp")],"lastTimestamp")]);const B3=t=>({request:t,signMessage:e=>t({method:"signMessage",params:{message:e}}),signTransaction:e=>t({method:"signTransaction",params:{transaction:e}}),signAndSendTransaction:e=>t({method:"signAndSendTransaction",params:e})});function Wm(t){return Buffer.from(t.serialize({verifySignatures:!1})).toString("base64")}function P3(t){const e=Buffer.from(t,"base64");return Tp.deserializeMessageVersion(e)==="legacy"?Mp.deserialize(e):qu.from(e)}function N3(t){return async n=>{if(n.method==="connect")return await t(n);if(n.method==="signMessage")return await t(n);if(n.method==="signAndSendTransaction"){const{transaction:r}=n.params,i={transaction:Wm(r)};return await t({method:"signAndSendTransaction",params:i})}if(n.method==="signTransaction"){const{transaction:r}=n.params,i={transaction:Wm(r)},{signedTransaction:s}=await t({method:"signTransaction",params:i});return{signedTransaction:P3(s)}}}}const O3=({miniAppHost:t,emitter:e})=>{let n,r=null;return{visible:!1,get onback(){return r},set onback(i){r&&e.removeListener("backNavigationTriggered",r),r=i,i&&e.addListener("backNavigationTriggered",i)},async show(){await t.updateBackState({visible:!0}),this.visible=!0},async hide(){await t.updateBackState({visible:!1}),this.visible=!1},async enableWebNavigation(){n=L3({back:this,emitter:e})},async disableWebNavigation(){n==null||n(),n=void 0}}};function L3({emitter:t,back:e}){const n=j3();if(n)return D3({emitter:t,back:e,navigation:n});if(typeof window<"u")return U3({emitter:t,back:e,window})}function j3(){if(typeof window<"u"&&window.navigation!==void 0)return window.navigation}function D3({emitter:t,back:e,navigation:n}){function r(){n.canGoBack?e.show():e.hide()}function i(){e.visible&&n.canGoBack&&n.back()}return n.addEventListener("navigatesuccess",r),t.addListener("backNavigationTriggered",i),()=>{n.removeEventListener("navigatesuccess",r),t.removeListener("backNavigationTriggered",i)}}function U3({emitter:t,back:e,window:n}){e.show();function r(){e.visible&&n.history.back()}return t.addListener("backNavigationTriggered",r),()=>{t.removeListener("backNavigationTriggered",r)}}const F3="0.1.1";function z3(){return F3}let $3=class Yd extends Error{constructor(e,n={}){const r=(()=>{var l;if(n.cause instanceof Yd){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return(l=n.cause)!=null&&l.message?n.cause.message:n.details})(),i=n.cause instanceof Yd&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||i?["",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${z3()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return Xw(this,e)}};function Xw(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?Xw(t.cause,e):e?null:t}function Qw(t,e={}){const{raw:n=!1}=e,r=t;if(n)return t;if(r.error){const{code:i}=r.error,s=i===ko.code?ko:i===Ia.code?Ia:i===ja.code?ja:i===Oa.code?Oa:i===Pa.code?Pa:i===La.code?La:i===Ba.code?Ba:i===Da.code?Da:i===Ta.code?Ta:i===Ma.code?Ma:i===Aa.code?Aa:i===Na.code?Na:Nn;throw new s(r.error)}return r.result}let Nn=class extends Error{constructor(e){const{code:n,message:r,data:i}=e;super(r),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.BaseError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n,this.data=i}};class Ia extends Nn{constructor(e={}){super({message:"Missing or invalid parameters.",...e,code:Ia.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidInputError"})}}Object.defineProperty(Ia,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Ta extends Nn{constructor(e={}){super({message:"Requested resource not found.",...e,code:Ta.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceNotFoundError"})}}Object.defineProperty(Ta,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Ma extends Nn{constructor(e={}){super({message:"Requested resource not available.",...e,code:Ma.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ResourceUnavailableError"})}}Object.defineProperty(Ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Aa extends Nn{constructor(e={}){super({message:"Transaction creation failed.",...e,code:Aa.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.TransactionRejectedError"})}}Object.defineProperty(Aa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ba extends Nn{constructor(e={}){super({message:"Method is not implemented.",...e,code:Ba.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotSupportedError"})}}Object.defineProperty(Ba,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Pa extends Nn{constructor(e={}){super({message:"Rate limit exceeded.",...e,code:Pa.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.LimitExceededError"})}}Object.defineProperty(Pa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Na extends Nn{constructor(e={}){super({message:"JSON-RPC version not supported.",...e,code:Na.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.VersionNotSupportedError"})}}Object.defineProperty(Na,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Oa extends Nn{constructor(e={}){super({message:"Input is not a valid JSON-RPC request.",...e,code:Oa.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidRequestError"})}}Object.defineProperty(Oa,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class La extends Nn{constructor(e={}){super({message:"Method does not exist.",...e,code:La.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.MethodNotFoundError"})}}Object.defineProperty(La,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ja extends Nn{constructor(e={}){super({message:"Invalid method parameters.",...e,code:ja.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InvalidParamsError"})}}Object.defineProperty(ja,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class ko extends Nn{constructor(e={}){super({message:"Internal JSON-RPC error.",...e,code:ko.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.InternalErrorError"})}}Object.defineProperty(ko,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Da extends Nn{constructor(e={}){super({message:"Failed to parse JSON-RPC response.",...e,code:Da.code}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcResponse.ParseError"})}}Object.defineProperty(Da,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Ss extends Error{constructor(e,n){super(n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=e,this.details=n}}class ex extends Ss{constructor({message:e="The user rejected the request."}={}){super(4001,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UserRejectedRequestError"})}}Object.defineProperty(ex,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class tx extends Ss{constructor({message:e="The requested method and/or account has not been authorized by the user."}={}){super(4100,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnauthorizedError"})}}Object.defineProperty(tx,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class nx extends Ss{constructor({message:e="The provider does not support the requested method."}={}){super(4200,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.UnsupportedMethodError"})}}Object.defineProperty(nx,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class rx extends Ss{constructor({message:e="The provider is disconnected from all chains."}={}){super(4900,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.DisconnectedError"})}}Object.defineProperty(rx,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ix extends Ss{constructor({message:e="The provider is not connected to the requested chain."}={}){super(4901,e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.ChainDisconnectedError"})}}Object.defineProperty(ix,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});function V3(){const t=new Aw;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}function K3(t,e={}){var r,i;const{includeEvents:n=!0}=e;if(!t)throw new W3;return{...n?{on:(r=t.on)==null?void 0:r.bind(t),removeListener:(i=t.removeListener)==null?void 0:i.bind(t)}:{},async request(s){const o=await t.request(s);return o&&typeof o=="object"&&"jsonrpc"in o?Qw(o):o}}}class W3 extends $3{constructor(){super("`provider` is undefined."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Provider.IsUndefinedError"})}}function H3(t={}){let e=t.id??0;return{prepare(n){return Z3({id:e++,...n})},get id(){return e}}}function Z3(t){return{...t,jsonrpc:"2.0"}}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sx=Symbol("Comlink.proxy"),q3=Symbol("Comlink.endpoint"),G3=Symbol("Comlink.releaseProxy"),Af=Symbol("Comlink.finalizer"),Yl=Symbol("Comlink.thrown"),ox=t=>typeof t=="object"&&t!==null||typeof t=="function",Y3={canHandle:t=>ox(t)&&t[sx],serialize(t){const{port1:e,port2:n}=new MessageChannel;return lx(t,e),[n,[n]]},deserialize(t){return t.start(),cx(t)}},J3={canHandle:t=>ox(t)&&Yl in t,serialize({value:t}){let e;return t instanceof Error?e={isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:e={isError:!1,value:t},[e,[]]},deserialize(t){throw t.isError?Object.assign(new Error(t.value.message),t.value):t.value}},ax=new Map([["proxy",Y3],["throw",J3]]);function X3(t,e){for(const n of t)if(e===n||n==="*"||n instanceof RegExp&&n.test(e))return!0;return!1}function lx(t,e=globalThis,n=["*"]){e.addEventListener("message",function r(i){if(!i||!i.data)return;if(!X3(n,i.origin)){console.warn(`Invalid origin '${i.origin}' for comlink proxy`);return}const{id:s,type:o,path:a}=Object.assign({path:[]},i.data),l=(i.data.argumentList||[]).map(Ki);let c;try{const m=a.slice(0,-1).reduce((y,k)=>y[k],t),g=a.reduce((y,k)=>y[k],t);switch(o){case"GET":c=g;break;case"SET":m[a.slice(-1)[0]]=Ki(i.data.value),c=!0;break;case"APPLY":c=g.apply(m,l);break;case"CONSTRUCT":{const y=new g(...l);c=i4(y)}break;case"ENDPOINT":{const{port1:y,port2:k}=new MessageChannel;lx(t,k),c=r4(y,[y])}break;case"RELEASE":c=void 0;break;default:return}}catch(m){c={value:m,[Yl]:0}}Promise.resolve(c).catch(m=>({value:m,[Yl]:0})).then(m=>{const[g,y]=Xu(m);e.postMessage(Object.assign(Object.assign({},g),{id:s}),y),o==="RELEASE"&&(e.removeEventListener("message",r),ux(e),Af in t&&typeof t[Af]=="function"&&t[Af]())}).catch(m=>{const[g,y]=Xu({value:new TypeError("Unserializable return value"),[Yl]:0});e.postMessage(Object.assign(Object.assign({},g),{id:s}),y)})}),e.start&&e.start()}function Q3(t){return t.constructor.name==="MessagePort"}function ux(t){Q3(t)&&t.close()}function cx(t,e){const n=new Map;return t.addEventListener("message",function(i){const{data:s}=i;if(!s||!s.id)return;const o=n.get(s.id);if(o)try{o(s)}finally{n.delete(s.id)}}),Jd(t,n,[],e)}function Tl(t){if(t)throw new Error("Proxy has been released and is not useable")}function fx(t){return Ls(t,new Map,{type:"RELEASE"}).then(()=>{ux(t)})}const Yu=new WeakMap,Ju="FinalizationRegistry"in globalThis&&new FinalizationRegistry(t=>{const e=(Yu.get(t)||0)-1;Yu.set(t,e),e===0&&fx(t)});function e4(t,e){const n=(Yu.get(e)||0)+1;Yu.set(e,n),Ju&&Ju.register(t,e,t)}function t4(t){Ju&&Ju.unregister(t)}function Jd(t,e,n=[],r=function(){}){let i=!1;const s=new Proxy(r,{get(o,a){if(Tl(i),a===G3)return()=>{t4(s),fx(t),e.clear(),i=!0};if(a==="then"){if(n.length===0)return{then:()=>s};const l=Ls(t,e,{type:"GET",path:n.map(c=>c.toString())}).then(Ki);return l.then.bind(l)}return Jd(t,e,[...n,a])},set(o,a,l){Tl(i);const[c,m]=Xu(l);return Ls(t,e,{type:"SET",path:[...n,a].map(g=>g.toString()),value:c},m).then(Ki)},apply(o,a,l){Tl(i);const c=n[n.length-1];if(c===q3)return Ls(t,e,{type:"ENDPOINT"}).then(Ki);if(c==="bind")return Jd(t,e,n.slice(0,-1));const[m,g]=Hm(l);return Ls(t,e,{type:"APPLY",path:n.map(y=>y.toString()),argumentList:m},g).then(Ki)},construct(o,a){Tl(i);const[l,c]=Hm(a);return Ls(t,e,{type:"CONSTRUCT",path:n.map(m=>m.toString()),argumentList:l},c).then(Ki)}});return e4(s,t),s}function n4(t){return Array.prototype.concat.apply([],t)}function Hm(t){const e=t.map(Xu);return[e.map(n=>n[0]),n4(e.map(n=>n[1]))]}const dx=new WeakMap;function r4(t,e){return dx.set(t,e),t}function i4(t){return Object.assign(t,{[sx]:!0})}function s4(t,e=globalThis,n="*"){return{postMessage:(r,i)=>t.postMessage(r,n,i),addEventListener:e.addEventListener.bind(e),removeEventListener:e.removeEventListener.bind(e)}}function Xu(t){for(const[e,n]of ax)if(n.canHandle(t)){const[r,i]=n.serialize(t);return[{type:"HANDLER",name:e,value:r},i]}return[{type:"RAW",value:t},dx.get(t)||[]]}function Ki(t){switch(t.type){case"HANDLER":return ax.get(t.name).deserialize(t.value);case"RAW":return t.value}}function Ls(t,e,n,r){return new Promise(i=>{const s=o4();e.set(s,i),t.start&&t.start(),t.postMessage(Object.assign({id:s},n),r)})}function o4(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}const a4={postMessage(){},addEventListener:()=>{},removeEventListener:()=>{}},l4={postMessage:t=>{window.ReactNativeWebView.postMessage(JSON.stringify(t))},addEventListener:(t,e,...n)=>{document.addEventListener("FarcasterFrameCallback",e,...n)},removeEventListener:(t,e)=>{document.removeEventListener("FarcasterFrameCallback",e)}},u4=typeof window>"u"?a4:window!=null&&window.ReactNativeWebView?l4:s4((window==null?void 0:window.parent)??window),Ee=cx(u4),Op=V3(),c4=H3();function f4({code:t,details:e}){switch(t){case 4001:return new ex;case 4100:return new tx;case 4200:return new nx;case 4900:return new rx;case 4901:return new ix;default:return new Ss(t,e??"Unknown provider RPC error")}}const Ua=K3({...Op,async request(t){const e=c4.prepare(t);try{const n=await Ee.ethProviderRequestV2(e).then(r=>Qw(r,{request:e,raw:!0}));if(n.error)throw f4(n.error);return n.result}catch(n){if(n instanceof Error&&n.message.match(/cannot read property 'apply'/i))return await Ee.ethProviderRequest(e);throw n instanceof Ss||n instanceof Nn?n:new ko({message:n instanceof Error?n.message:void 0})}}});async function d4(){try{const t=await Ee.getCapabilities();return!t.includes("wallet.getEthereumProvider")&&!t.includes("wallet.getEvmProvider")?void 0:Ua}catch{return Ua}}function hx(t){const e=new CustomEvent("eip6963:announceProvider",{detail:Object.freeze(t)});window.dispatchEvent(e);const n=()=>window.dispatchEvent(e);return window.addEventListener("eip6963:requestProvider",n),()=>window.removeEventListener("eip6963:requestProvider",n)}typeof document<"u"&&(document.addEventListener("eip6963:requestProvider",()=>{Ee.eip6963RequestProvider()}),document.addEventListener("FarcasterFrameEthProviderEvent",t=>{if(t instanceof MessageEvent){const e=t.data;Op.emit(e.event,...e.params)}}),document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="eip6963:announceProvider"&&hx({info:e.info,provider:Ua})}}));typeof window<"u"&&(window.addEventListener("eip6963:requestProvider",()=>{Ee.eip6963RequestProvider()}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEthProviderEvent"){const e=t.data;Op.emit(e.event,...e.params)}}),window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="eip6963:announceProvider"&&hx({info:e.info,provider:Ua})}}));new TextEncoder;const px=new TextDecoder,h4=t=>{const e=atob(t),n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n},p4=t=>{let e=t;e instanceof Uint8Array&&(e=px.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return h4(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},m4=p4;function g4(t){return typeof t=="object"&&t!==null}function y4(t){if(!g4(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}class Sn extends Error{constructor(e,n){var r;super(e,n),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}Sn.code="ERR_JOSE_GENERIC";class v4 extends Sn{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_CLAIM_VALIDATION_FAILED",this.claim=r,this.reason=i,this.payload=n}}v4.code="ERR_JWT_CLAIM_VALIDATION_FAILED";class w4 extends Sn{constructor(e,n,r="unspecified",i="unspecified"){super(e,{cause:{claim:r,reason:i,payload:n}}),this.code="ERR_JWT_EXPIRED",this.claim=r,this.reason=i,this.payload=n}}w4.code="ERR_JWT_EXPIRED";class x4 extends Sn{constructor(){super(...arguments),this.code="ERR_JOSE_ALG_NOT_ALLOWED"}}x4.code="ERR_JOSE_ALG_NOT_ALLOWED";class _4 extends Sn{constructor(){super(...arguments),this.code="ERR_JOSE_NOT_SUPPORTED"}}_4.code="ERR_JOSE_NOT_SUPPORTED";class b4 extends Sn{constructor(e="decryption operation failed",n){super(e,n),this.code="ERR_JWE_DECRYPTION_FAILED"}}b4.code="ERR_JWE_DECRYPTION_FAILED";class k4 extends Sn{constructor(){super(...arguments),this.code="ERR_JWE_INVALID"}}k4.code="ERR_JWE_INVALID";class S4 extends Sn{constructor(){super(...arguments),this.code="ERR_JWS_INVALID"}}S4.code="ERR_JWS_INVALID";class ui extends Sn{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}}ui.code="ERR_JWT_INVALID";class E4 extends Sn{constructor(){super(...arguments),this.code="ERR_JWK_INVALID"}}E4.code="ERR_JWK_INVALID";class C4 extends Sn{constructor(){super(...arguments),this.code="ERR_JWKS_INVALID"}}C4.code="ERR_JWKS_INVALID";class R4 extends Sn{constructor(e="no applicable key found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_NO_MATCHING_KEY"}}R4.code="ERR_JWKS_NO_MATCHING_KEY";class I4 extends Sn{constructor(e="multiple matching keys found in the JSON Web Key Set",n){super(e,n),this.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}I4.code="ERR_JWKS_MULTIPLE_MATCHING_KEYS";class T4 extends Sn{constructor(e="request timed out",n){super(e,n),this.code="ERR_JWKS_TIMEOUT"}}T4.code="ERR_JWKS_TIMEOUT";class M4 extends Sn{constructor(e="signature verification failed",n){super(e,n),this.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}M4.code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED";function A4(t){if(typeof t!="string")throw new ui("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:n}=t.split(".");if(n===5)throw new ui("Only JWTs using Compact JWS serialization can be decoded");if(n!==3)throw new ui("Invalid JWT");if(!e)throw new ui("JWTs must contain a payload");let r;try{r=m4(e)}catch{throw new ui("Failed to base64url decode the payload")}let i;try{i=JSON.parse(px.decode(r))}catch{throw new ui("Failed to parse the decoded payload as JSON")}if(!y4(i))throw new ui("Invalid JWT Claims Set");return i}function B4(t){return A4(t)}class Rc extends Error{constructor(e,n={}){const r=(()=>{var s;if(n.cause instanceof Rc){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details})(),i=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r?["",r?`Details: ${r}`:void 0]:[]].filter(s=>typeof s=="string").join(`
`);super(i,n.cause?{cause:n.cause}:void 0),this.name="BaseError",this.cause=n.cause,this.details=r,this.shortMessage=e}}class mx extends Rc{constructor({status:e}){super(`Request failed with status ${e}`),this.name="RequestFailedError"}}class P4 extends Rc{constructor(e){super(e),this.name="InvalidToken"}}async function N4({origin:t}){const e=await fetch(`${t}/nonce`,{method:"POST"});if(!e.ok)throw new mx({status:e.status});return await e.json()}async function O4({origin:t},e){const n=await fetch(`${t}/verify-siwf`,{method:"POST",headers:new Headers({"Content-Type":"application/json"}),body:JSON.stringify(e)});if(!n.ok)throw new mx({status:n.status});const r=await n.json();if(r.valid===!1)throw new P4(r.message??"unknown");return{token:r.token}}function L4(t={}){return{origin:t.origin??"https://auth.farcaster.xyz"}}function j4(t={}){const e=L4(t);return{generateNonce:()=>N4(e),verifySiwf:n=>O4(e,n)}}const D4=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,U4=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function F4(t){var g,y,k;const{scheme:e,statement:n,...r}=((g=t.match(D4))==null?void 0:g.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:l,...c}=((y=t.match(U4))==null?void 0:y.groups)??{},m=(k=t.split("Resources:")[1])==null?void 0:k.split(`
- `).slice(1);return{...r,...c,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...l?{requestId:l}:{},...m?{resources:m}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const Zm=(()=>{let t,e;async function n(r){const i=j4({origin:r.quickAuthServerOrigin}),{nonce:s}=await i.generateNonce(),o=await Ee.signIn({nonce:s,acceptAuthAddress:!0});if(o.result){const a=F4(o.result.message);if(!a.domain)throw new Error("Missing domain on SIWE message");const l=await i.verifySiwf({domain:a.domain,message:o.result.message,signature:o.result.signature});return t={token:l.token,payload:B4(l.token)},l}throw o.error.type==="rejected_by_user"?new c1:new Error("Unreachable")}return{get token(){if(t&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3))return t.token},async getToken(r={}){const i=r.force??!1;return t&&!i&&new Date(t.payload.exp*1e3)>new Date(Date.now()+15e3)?{token:t.token}:(e||(e=n(r)),e.finally(()=>{e=void 0}),e)},async fetch(r,i){const{token:s}=await this.getToken(),o=new Headers(i==null?void 0:i.headers);return o.set("Authorization",`Bearer ${s}`),fetch(r,{...i,headers:o})}}})();function z4(){const t=new Aw;return{get eventNames(){return t.eventNames.bind(t)},get listenerCount(){return t.listenerCount.bind(t)},get listeners(){return t.listeners.bind(t)},addListener:t.addListener.bind(t),emit:t.emit.bind(t),off:t.off.bind(t),on:t.on.bind(t),once:t.once.bind(t),removeAllListeners:t.removeAllListeners.bind(t),removeListener:t.removeListener.bind(t)}}const ln=z4(),{solanaProviderRequest:qm}=Ee;let gx;qm&&(gx=B3(N3(qm)));async function Gm(){let t;try{t=await Ee.getCapabilities()}catch{}if(t!=null&&t.includes("wallet.getSolanaProvider"))return gx}let Ym=null;async function $4(t=1e3){if(Ym===!0)return!0;if(typeof window>"u"||!window.ReactNativeWebView&&window===window.parent)return!1;const e=await Promise.race([Ee.context.then(n=>!!n),new Promise(n=>{setTimeout(()=>n(!1),t)})]).catch(()=>!1);return e&&(Ym=!0),e}const Jm=async()=>{const t=await Ee.addFrame();if(t.result)return t.result;throw t.error.type==="invalid_domain_manifest"?new Y2:t.error.type==="rejected_by_user"?new J2:new Error("Unreachable")},V4={...ln,getCapabilities:Ee.getCapabilities,getChains:Ee.getChains,isInMiniApp:$4,context:Ee.context,back:O3({miniAppHost:Ee,emitter:ln}),quickAuth:Zm,actions:{setPrimaryButton:Ee.setPrimaryButton.bind(Ee),ready:async(t={})=>await Ee.ready(t),close:Ee.close.bind(Ee),viewCast:Ee.viewCast.bind(Ee),viewProfile:Ee.viewProfile.bind(Ee),openMiniApp:Ee.openMiniApp.bind(Ee),signIn:async t=>{const e=await Ee.signIn({...t,acceptAuthAddress:t.acceptAuthAddress??!0});if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new c1:new Error("Unreachable")},openUrl:t=>{const e=typeof t=="string"?t:t.url;return Ee.openUrl(e.trim())},addFrame:Jm,addMiniApp:Jm,composeCast(t={}){return Ee.composeCast(t)},viewToken:Ee.viewToken.bind(Ee),sendToken:Ee.sendToken.bind(Ee),swapToken:Ee.swapToken.bind(Ee),requestCameraAndMicrophoneAccess:Ee.requestCameraAndMicrophoneAccess.bind(Ee)},experimental:{getSolanaProvider:Gm,signManifest:async t=>{const e=await Ee.signManifest(t);if(e.result)return e.result;throw e.error.type==="rejected_by_user"?new X2:e.error.type==="invalid_domain"?new Q2:e.error.type==="generic_error"?new ek(e.error.message):new Error("Unreachable")},quickAuth(t){return Zm.getToken(t)}},wallet:{ethProvider:Ua,getEthereumProvider:d4,getSolanaProvider:Gm},haptics:{impactOccurred:Ee.impactOccurred.bind(Ee),notificationOccurred:Ee.notificationOccurred.bind(Ee),selectionChanged:Ee.selectionChanged.bind(Ee)}};typeof document<"u"&&document.addEventListener("FarcasterFrameEvent",t=>{if(t instanceof MessageEvent){const e=t.data;e.event==="primary_button_clicked"?ln.emit("primaryButtonClicked"):e.event==="miniapp_added"?ln.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?ln.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?ln.emit("miniAppRemoved"):e.event==="notifications_enabled"?ln.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?ln.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&ln.emit("backNavigationTriggered")}});typeof window<"u"&&window.addEventListener("message",t=>{if(t instanceof MessageEvent&&t.data.type==="frameEvent"){const e=t.data.event;e.event==="primary_button_clicked"?ln.emit("primaryButtonClicked"):e.event==="miniapp_added"?ln.emit("miniAppAdded",{notificationDetails:e.notificationDetails}):e.event==="miniapp_add_rejected"?ln.emit("miniAppAddRejected",{reason:e.reason}):e.event==="miniapp_removed"?ln.emit("miniAppRemoved"):e.event==="notifications_enabled"?ln.emit("notificationsEnabled",{notificationDetails:e.notificationDetails}):e.event==="notifications_disabled"?ln.emit("notificationsDisabled"):e.event==="back_navigation_triggered"&&ln.emit("backNavigationTriggered")}});typeof console<"u"&&console.warn&&console.warn("@farcaster/frame-sdk is deprecated. Please use @farcaster/miniapp-sdk instead.");const _i=V4;let Xm=!1;new Proxy(Ee,{get(t,e,n){return!Xm&&typeof console<"u"&&console.warn&&(Xm=!0,console.warn("frameHost is deprecated. Please use miniAppHost instead.")),Reflect.get(t,e,n)}});const Qm=async()=>{try{console.log("Attempting to call sdk.actions.ready()..."),await _i.actions.ready(),console.log("sdk.actions.ready() call successful."),setTimeout(()=>{console.log("Retrying ready (1)..."),_i.actions.ready().catch(()=>{})},500),setTimeout(()=>{console.log("Retrying ready (2)..."),_i.actions.ready().catch(()=>{})},1e3),setTimeout(()=>{console.log("Retrying ready (3)..."),_i.actions.ready().catch(()=>{})},2e3)}catch(t){console.debug("Farcaster SDK ready call failed (likely not in a frame)",t)}},eg=async()=>{const e=new URLSearchParams(window.location.search).get("fid");if(e)return console.log("Using Mock FID from URL:",e),{fid:parseInt(e),username:`user${e}`,displayName:`User ${e}`,pfpUrl:`https://avatar.vercel.sh/${e}`};try{const n=_i.context,r=new Promise(s=>setTimeout(()=>s(null),1e3)),i=await Promise.race([n,r]);return i&&i.user?{fid:i.user.fid,username:i.user.username,displayName:i.user.displayName,pfpUrl:i.user.pfpUrl}:null}catch(n){return console.debug("Failed to get Farcaster context",n),null}},tg=t=>{try{_i.actions.openUrl(t)}catch(e){console.warn("SDK openUrl failed, falling back to window.open",e),window.open(t,"_blank")}},K4=async()=>{var t;try{const e=_i,n=e.actions.addMiniApp?await e.actions.addMiniApp():await e.actions.addFrame();if(n&&n.added){const r=await _i.context,i=(t=r==null?void 0:r.client)==null?void 0:t.notificationDetails;return i!=null&&i.token&&(i!=null&&i.url)&&(localStorage.setItem("fc_notification_token",i.token),localStorage.setItem("fc_notification_url",i.url)),{token:i==null?void 0:i.token,url:i==null?void 0:i.url,added:!0}}return{added:!1}}catch{return{added:!1}}},W4=async(t,e,n)=>{try{const r=localStorage.getItem("fc_notification_url"),i=localStorage.getItem("fc_notification_token");return!r||!i?!1:(await fetch("/api/notify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:r,token:i,title:t,body:e,targetUrl:n})})).ok}catch{return!1}};var ng={},H4="@vercel/speed-insights",Z4="1.2.0",q4=()=>{window.si||(window.si=function(...e){(window.siq=window.siq||[]).push(e)})};function G4(){return typeof window<"u"}function Y4(){try{const t="production"}catch{}return"production"}function yx(){return Y4()==="development"}function J4(t){return t.scriptSrc?t.scriptSrc:yx()?"https://va.vercel-scripts.com/v1/speed-insights/script.debug.js":t.dsn?"https://va.vercel-scripts.com/v1/speed-insights/script.js":t.basePath?`${t.basePath}/speed-insights/script.js`:"/_vercel/speed-insights/script.js"}function X4(t={}){var e;if(!G4()||t.route===null)return null;q4();const n=J4(t);if(document.head.querySelector(`script[src*="${n}"]`))return null;t.beforeSend&&((e=window.si)==null||e.call(window,"beforeSend",t.beforeSend));const r=document.createElement("script");return r.src=n,r.defer=!0,r.dataset.sdkn=H4+(t.framework?`/${t.framework}`:""),r.dataset.sdkv=Z4,t.sampleRate&&(r.dataset.sampleRate=t.sampleRate.toString()),t.route&&(r.dataset.route=t.route),t.endpoint?r.dataset.endpoint=t.endpoint:t.basePath&&(r.dataset.endpoint=`${t.basePath}/speed-insights/vitals`),t.dsn&&(r.dataset.dsn=t.dsn),yx()&&t.debug===!1&&(r.dataset.debug="false"),r.onerror=()=>{console.log(`[Vercel Speed Insights] Failed to load script from ${n}. Please check if any content blockers are enabled and try again.`)},document.head.appendChild(r),{setRoute:i=>{r.dataset.route=i??void 0}}}function Q4(){if(!(typeof process>"u"||typeof ng>"u"))return ng.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function eR(t){me.useEffect(()=>{var n;t.beforeSend&&((n=window.si)==null||n.call(window,"beforeSend",t.beforeSend))},[t.beforeSend]);const e=me.useRef(null);return me.useEffect(()=>{if(e.current)t.route&&e.current(t.route);else{const n=X4({framework:t.framework??"react",basePath:t.basePath??Q4(),...t});n&&(e.current=n.setRoute)}},[t.route]),null}const tR=()=>{const[t,e]=me.useState(Z0()),[n,r]=me.useState(Ce.RED),[i,s]=me.useState(null),[o,a]=me.useState([]),[l,c]=me.useState(null),[m,g]=me.useState(Fe.PVAI),[y,k]=me.useState(!1),[M,P]=me.useState(null),[L,S]=me.useState(!1),[R,C]=me.useState(!1),[j,V]=me.useState(!1),[W,Z]=me.useState(!0),[q,$]=me.useState(null),[H,ee]=me.useState(null),[Q,b]=me.useState(ni(null)),[u,p]=me.useState(null),[v,E]=me.useState([]),_=me.useRef(null),[T,B]=me.useState(""),x=me.useRef(null),[d,A]=me.useState(""),[te,J]=me.useState(!1),[re,we]=me.useState(null),[ve,ye]=me.useState("checkers"),[$e,Ve]=me.useState(null),[Ze,hn]=me.useState(""),[Ke,nt]=me.useState(!1),[sr,Ye]=me.useState(null),[at,Ui]=me.useState(!1),[Xe,Ue]=me.useState("Share Invite"),[Xt,Qe]=me.useState(""),[lt,$t]=me.useState("Invite Friend"),[ut,w]=me.useState(!1),[f,h]=me.useState(null),[I,O]=me.useState(!1),[D,z]=me.useState(!1),[Ie,ke]=me.useState(!0),[xe,Je]=me.useState(!0),pe=Ce.RED,ct=Ce.WHITE;me.useEffect(()=>((async()=>{try{const ue=await eg();if(ue){console.log("Farcaster user detected:",ue);const Ne=`fc-${ue.fid}`;ee(ue),$(Ne);let He=ni(Ne);(ue.username||ue.pfpUrl)&&(He={...He,username:ue.username,pfpUrl:ue.pfpUrl},em(He,Ne)),b(He),Z(!1);const On=new URLSearchParams(window.location.search).get("join");On&&(hn(On),setTimeout(()=>pt(On),1e3));return}const _e=await xv();_e&&($(_e),b(ni(_e))),new URLSearchParams(window.location.search).get("join")&&w(!0)}catch(ue){console.error("Initialization error:",ue)}finally{Z(!1)}})(),_v(ue=>{H||($(ue),b(ni(ue)),or())}),()=>{ri.destroy()}),[]),me.useEffect(()=>{Qm()},[]),me.useEffect(()=>{ri.onMessage(K=>{if(K.type==="MOVE"){const ue=K.payload;rt(ue,!0)}else K.type==="RESET"&&or(!0)})},[t,n,m]),me.useEffect(()=>{const K=gv(t,n);if(K&&!l){c(K);const ue=m===Fe.ONLINE?K===sr:K===pe;if(m!==Fe.PVP||K===Ce.RED){const Me=_2(Q,ue);b(Me),em(Me,q),p(ue?50:10)}ft(ue?"win":"lose")}},[t,l]),me.useEffect(()=>{m===Fe.PVAI&&n===ct&&!l&&(async()=>{k(!0);const ue=await tm(t,ct,4,M);k(!1),ue?rt(ue):c(pe)})()},[n,m,l,t,M]),me.useEffect(()=>{x.current&&(clearTimeout(x.current),x.current=null),B("");const K=m===Fe.PVAI&&n===pe||m===Fe.PVP||m===Fe.ONLINE&&n===sr;if(!l&&K){const ue=window.setTimeout(()=>{B("Time is running..."),ft("prompt")},2e4);x.current=ue}return()=>{x.current&&(clearTimeout(x.current),x.current=null)}},[n,m,l,sr]);const Qa=K=>{if(l||y||m===Fe.PVAI&&n===ct||m===Fe.ONLINE&&n!==sr)return;const ue=t[K.row][K.col],_e=o.find(Me=>Me.to.row===K.row&&Me.to.col===K.col);if(_e){rt(_e);return}if(!M)if(ue&&ue.player===n){s(K);const qn=ro(t,n,null).filter(Ne=>Ne.from.row===K.row&&Ne.from.col===K.col);a(qn)}else ue||(s(null),a([]))},rt=(K,ue=!1)=>{E(Ne=>[...Ne,{board:t,currentPlayer:n,selectedPos:i,validMoves:o,mustCaptureFrom:M,winner:l}]);const{newBoard:_e}=_u(t,K);e(_e),ue||(B(""),ft(K.isCapture?"capture":"move")),m===Fe.ONLINE&&!ue&&ri.sendMessage({type:"MOVE",payload:K});let Me=n,qn=null;if(K.isCapture){const Ne=ro(_e,n,K.to).filter(He=>He.isCapture);Ne.length>0?(qn=K.to,(m===Fe.ONLINE&&n===sr||m!==Fe.ONLINE&&(n===pe||m===Fe.PVP))&&!ue?(s(K.to),a(Ne)):(s(null),a([]))):(Me=n===Ce.RED?Ce.WHITE:Ce.RED,s(null),a([]))}else Me=n===Ce.RED?Ce.WHITE:Ce.RED,s(null),a([]);P(qn),r(Me),A(""),we(null)},xt=()=>{m===Fe.ONLINE||y||E(K=>{if(K.length===0)return K;const ue=[...K],_e=ue.pop();return e(_e.board),r(_e.currentPlayer),s(_e.selectedPos),a(_e.validMoves),P(_e.mustCaptureFrom),c(_e.winner),A(""),ue})},or=(K=!1)=>{e(Z0()),r(Ce.RED),c(null),s(null),a([]),P(null),A(""),we(null),k(!1),p(null),E([]),B(""),x.current&&(clearTimeout(x.current),x.current=null),m===Fe.ONLINE&&!K&&ri.sendMessage({type:"RESET",payload:null})},ht=K=>{K===Fe.ONLINE&&m===Fe.ONLINE||(g(K),or(),K!==Fe.ONLINE&&(Ve(null),nt(!1),Ye(null),ri.destroy()),K===Fe.ONLINE&&nl())},_t=async()=>{if(l)return;J(!0);const K=await g2(t,n),ue=await tm(t,n,3,M);A(K),we(ue||null),J(!1)},el=()=>{if(!_.current){const K=window.AudioContext||window.webkitAudioContext;_.current=new K}return _.current},We=(K,ue,_e={})=>{const{vol:Me=.05,type:qn="sine",attack:Ne=.01,lp:He=1400,delayMs:Es=0}=_e,On=el(),Pr=On.createOscillator(),wr=On.createGain(),Qr=On.createBiquadFilter();Pr.type=qn,Pr.frequency.value=K,Qr.type="lowpass",Qr.frequency.value=He,wr.gain.value=0,Pr.connect(wr),wr.connect(Qr),Qr.connect(On.destination);const ei=On.currentTime+Es/1e3,Cs=ei+ue/1e3;wr.gain.setValueAtTime(0,ei),wr.gain.linearRampToValueAtTime(Me,ei+Ne),wr.gain.linearRampToValueAtTime(1e-4,Cs),Pr.start(ei),Pr.stop(Cs+.02)},ft=K=>{K==="move"?We(420,120,{vol:.045,type:"sine",attack:.01,lp:1500}):K==="capture"?We(560,160,{vol:.05,type:"triangle",attack:.01,lp:1400}):K==="win"?(We(523.25,160,{vol:.05}),We(659.25,180,{vol:.05,delayMs:120}),We(783.99,200,{vol:.05,delayMs:250})):K==="lose"?(We(659.25,160,{vol:.045}),We(523.25,160,{vol:.045,delayMs:120}),We(392,160,{vol:.045,delayMs:240})):K==="prompt"&&We(880,200,{vol:.045,type:"sine",attack:.02,lp:1600})},tl=async()=>{if(!H)try{const K=await wv();K&&($(K),b(ni(K)),await $l(),or())}catch(K){console.error("Connection failed",K),alert(K.message||"Failed to connect wallet.")}},bt=async()=>{if(!H)try{const K=await(await H0(async()=>{const{connectWithMetaMask:ue}=await Promise.resolve().then(()=>nm);return{connectWithMetaMask:ue}},void 0)).connectWithMetaMask();K&&($(K),b(ni(K)),await $l(),or())}catch(K){console.error("Connection failed",K),alert(K.message||"Failed to connect MetaMask.")}},kt=async()=>{if(!H)try{const K=await(await H0(async()=>{const{connectWithCoinbase:ue}=await Promise.resolve().then(()=>nm);return{connectWithCoinbase:ue}},void 0)).connectWithCoinbase();K&&($(K),b(ni(K)),await $l(),or())}catch(K){console.error("Connection failed",K),alert(K.message||"Failed to connect Coinbase Wallet.")}},nl=()=>{$e||(ri.init(K=>{Ve(K),Ye(Ce.RED)}),ri.onMessage(K=>{K.type==="MOVE"&&rt(K.payload,!0),K.type==="RESET"&&or(!0)}))},pt=K=>{const ue=K||Ze;ue&&(m!==Fe.ONLINE&&g(Fe.ONLINE),Ye(Ce.WHITE),V(!0),console.log("Connecting to:",ue),ri.connect(ue,()=>{nt(!0)}))},mt=async()=>{if(!$e)return;const K=new URL(window.location.href);K.searchParams.set("join",$e);const ue=K.toString(),_e="Play Checkers with me!  vs ";if(H){Ue("Opening Warpcast...");const Me=`https://warpcast.com/~/compose?text=${encodeURIComponent(_e)}&embeds[]=${encodeURIComponent(ue)}`;tg(Me),setTimeout(()=>Ue("Share Invite"),2e3)}else{try{await navigator.clipboard.writeText(ue),Ue("Link Copied!")}catch{Ue("Failed to copy")}setTimeout(()=>Ue("Share Invite"),2e3)}},rl=async()=>{if(!$e)return;if(!H){mt();return}const K=Xt.replace(/^@/,"").trim();if(!K){$t("Enter @username"),setTimeout(()=>$t("Invite Friend"),1500);return}const ue=new URL(window.location.href);ue.searchParams.set("join",$e);const _e=ue.toString(),Me=`@${K} Play Checkers vs me  tap to join!`;$t("Opening...");const qn=`https://warpcast.com/~/compose?text=${encodeURIComponent(Me)}&embeds[]=${encodeURIComponent(_e)}`;tg(qn),setTimeout(()=>$t("Invite Friend"),2e3),setTimeout(()=>$t("Invite Friend"),2e3)};if(W)return N.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center justify-center text-slate-400 gap-4",children:[N.jsx(X0,{className:"w-12 h-12 animate-spin text-indigo-500"}),N.jsx("p",{className:"text-sm font-medium animate-pulse",children:"Loading Checkers..."})]});const St=b2(Q);return N.jsxs("div",{className:"min-h-screen bg-slate-900 flex flex-col items-center p-2 md:p-6 gap-6 overflow-y-auto pb-24 md:pb-10",children:[N.jsxs("div",{className:"flex flex-col items-center justify-center w-full max-w-[600px]",children:[N.jsx("div",{className:"w-full aspect-square relative",children:N.jsx(m2,{board:t,selectedPos:i,validMoves:o,onSquareClick:Qa,isRotated:j,hintMove:re,theme:ve})}),N.jsxs("div",{className:"flex w-full gap-2 mt-4",children:[N.jsxs("button",{onClick:xt,disabled:v.length===0||m===Fe.ONLINE||y,className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg flex items-center justify-center gap-1 border border-slate-700 disabled:opacity-50",children:[N.jsx(yv,{className:"w-4 h-4"})," ",N.jsx("span",{className:"text-xs font-bold",children:"Undo"})]}),N.jsxs("button",{onClick:()=>or(),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg flex items-center justify-center gap-1 border border-slate-700",children:[N.jsx(a2,{className:"w-4 h-4"})," ",N.jsx("span",{className:"text-xs font-bold",children:"Reset"})]}),N.jsxs("button",{onClick:()=>V(!j),className:"flex-1 py-3 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg flex items-center justify-center gap-1 border border-slate-700",children:[N.jsx(o2,{className:"w-4 h-4"})," ",N.jsx("span",{className:"text-xs font-bold",children:"Rotate"})]}),N.jsxs("button",{onClick:_t,disabled:te||!!l,className:"flex-[1.5] py-3 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg flex items-center justify-center gap-1 shadow-lg shadow-indigo-500/20 disabled:opacity-50",children:[N.jsx(n2,{className:"w-4 h-4"})," ",N.jsx("span",{className:"text-xs font-bold",children:d?"Advice":"AI Hint"})]})]}),d&&N.jsx("div",{className:"mt-2 p-3 bg-indigo-900/90 border border-indigo-500/50 rounded-lg text-xs text-indigo-100 w-full animate-in fade-in slide-in-from-bottom-2",children:N.jsxs("div",{className:"flex justify-between items-start",children:[N.jsx("p",{className:"pl-4",children:d}),N.jsx("button",{onClick:()=>A(""),children:N.jsx(_l,{className:"w-3 h-3 text-indigo-400"})})]})})]}),N.jsxs("div",{className:"flex flex-col gap-4 w-full max-w-[600px] shrink-0",children:[N.jsxs("div",{className:"bg-slate-800 rounded-xl p-3 md:p-4 shadow-lg border border-slate-700 flex flex-row items-center gap-3",children:[N.jsx("div",{className:`w-12 h-12 md:w-14 md:h-14 shrink-0 rounded-full bg-gradient-to-br flex items-center justify-center border-2 border-white/10 shadow-inner overflow-hidden ${q?"from-emerald-500 to-teal-600":"from-indigo-500 to-purple-600"}`,children:Q.pfpUrl?N.jsx("img",{src:Q.pfpUrl,alt:"Avatar",className:"w-full h-full object-cover"}):N.jsx(d2,{className:"text-white w-6 h-6"})}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("div",{className:"flex justify-between items-baseline mb-1",children:[N.jsxs("h2",{className:"font-bold text-white text-base truncate pl-2",children:[Q.username?`@${Q.username}`:Q.rankTitle," ",N.jsx("span",{className:"text-[10px] text-slate-500 ml-1",children:"(v2.1)"})]}),N.jsxs("span",{className:"text-xs text-slate-400 font-mono shrink-0",children:["LVL ",Q.level]})]}),N.jsx("div",{className:"w-full h-1.5 bg-slate-700 rounded-full overflow-hidden mb-1.5",children:N.jsx("div",{className:`h-full transition-all duration-1000 ${q?"bg-emerald-400":"bg-indigo-400"}`,style:{width:`${Q.xp/Q.nextLevelXp*100}%`}})}),N.jsxs("div",{className:"flex gap-3 text-[10px] md:text-xs text-slate-400",children:[N.jsxs("span",{className:"flex items-center gap-1",children:[N.jsx(c2,{className:"w-3 h-3 text-amber-400"})," ",Q.wins]}),N.jsxs("span",{className:"flex items-center gap-1",children:[N.jsx(_l,{className:"w-3 h-3 text-rose-400"})," ",Q.losses]}),!H&&!q&&N.jsxs("button",{onClick:()=>w(!0),className:"ml-auto text-orange-400 hover:underline flex items-center gap-1",children:[N.jsx(h2,{className:"w-3 h-3"})," Connect Wallet"]})]})]})]}),N.jsxs("div",{className:"bg-slate-800 rounded-xl p-3 md:p-6 shadow-lg border border-slate-700",children:[N.jsxs("div",{className:"flex bg-slate-900 p-1 rounded-lg mb-4 border border-slate-700 gap-1",children:[N.jsxs("button",{onClick:()=>ht(Fe.PVAI),className:`flex-1 py-1.5 text-[10px] font-bold rounded flex justify-center items-center gap-1 ${m===Fe.PVAI?"bg-indigo-600 text-white":"text-slate-500"}`,children:[N.jsx(Y0,{className:"w-3 h-3"})," Play AI"]}),N.jsxs("button",{onClick:()=>ht(Fe.ONLINE),className:`flex-1 py-1.5 text-[10px] font-bold rounded flex justify-center items-center gap-1 ${m===Fe.ONLINE?"bg-emerald-600 text-white":"text-slate-500"}`,children:[N.jsx(s2,{className:"w-3 h-3"})," Play Friend"]})]}),N.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[N.jsx("span",{className:"text-[10px] text-slate-400",children:"Theme"}),N.jsxs("select",{value:ve,onChange:K=>ye(K.target.value),className:"text-[10px] bg-slate-900 border border-slate-700 rounded px-2 py-1 text-slate-300",children:[N.jsx("option",{value:"checkers",children:"Checkers"}),N.jsx("option",{value:"classic",children:"Classic"}),N.jsx("option",{value:"neon",children:"Neon"})]})]}),N.jsxs("div",{className:"flex justify-between items-center bg-slate-900/50 p-2 rounded-lg border border-slate-700/50",children:[N.jsx("span",{className:"text-slate-400 text-xs font-medium",children:"Turn"}),N.jsxs("div",{className:"flex items-center gap-2",children:[y&&N.jsx(Y0,{className:"w-3 h-3 animate-pulse text-indigo-400"}),N.jsxs("span",{className:`px-3 py-0.5 rounded-full font-bold text-xs ${n===Ce.RED?"bg-blue-500/20 text-blue-300 border border-blue-500/50":"bg-slate-200/20 text-slate-200 border border-slate-200/50"}`,children:[n===Ce.RED?"BLUE":"WHITE",m===Fe.ONLINE&&n===sr&&" (YOU)"]})]})]}),N.jsx("div",{className:"mt-3 text-center min-h-[1.5em]",children:l?N.jsxs("span",{className:"text-amber-400 font-bold animate-pulse text-sm",children:[l===Ce.RED?"Blue Wins!":"White Wins!"," ",u&&`(+${u} XP)`]}):M?N.jsx("span",{className:"text-orange-400 text-xs font-bold animate-pulse",children:"Must Jump!"}):N.jsx("span",{className:"text-slate-500 text-xs",children:m===Fe.ONLINE&&!Ke&&!$e?"Setting up game...":T||"Make your move"})}),m===Fe.ONLINE&&!Ke&&N.jsx("div",{className:"mt-3 flex flex-col gap-2",children:$e?N.jsxs("div",{className:"animate-in fade-in zoom-in duration-300",children:[H?N.jsxs("button",{onClick:mt,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-500 text-white text-xs font-bold rounded flex items-center justify-center gap-2 mb-2 animate-pulse shadow-lg shadow-emerald-500/20 transition-all active:scale-95",children:[Xe==="Copied!"?N.jsx(r2,{className:"w-4 h-4"}):N.jsx(l2,{className:"w-4 h-4"})," ",Xe]}):N.jsxs("button",{onClick:()=>w(!0),className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white text-xs font-bold rounded flex items-center justify-center gap-2 mb-2 shadow-lg shadow-indigo-500/20 transition-all active:scale-95",children:[N.jsx(J0,{className:"w-4 h-4"})," Connect Farcaster to Invite"]}),H&&N.jsxs("div",{className:"flex gap-2 mt-1",children:[N.jsx("input",{value:Xt,onChange:K=>Qe(K.target.value),placeholder:"@friend",className:"flex-1 bg-black/30 border border-slate-600 rounded px-3 py-2 text-xs text-white placeholder:text-slate-500 focus:outline-none focus:border-violet-500 text-left"}),N.jsxs("button",{onClick:rl,className:"px-4 bg-violet-600 hover:bg-violet-500 text-white text-xs rounded font-bold flex items-center gap-1",children:[N.jsx(f2,{className:"w-3 h-3"})," ",lt]})]}),H&&(at?N.jsxs("div",{className:"text-center mt-2 animate-in fade-in slide-in-from-top-2",children:[N.jsxs("div",{className:"flex gap-2",children:[N.jsx("input",{value:Ze,onChange:K=>hn(K.target.value),placeholder:"Paste Code",className:"flex-1 bg-black/30 border border-slate-600 rounded px-3 py-2 text-xs text-white placeholder:text-slate-500 focus:outline-none focus:border-blue-500 text-left"}),N.jsx("button",{onClick:()=>pt(),className:"px-4 bg-slate-700 hover:bg-slate-600 text-white text-xs rounded font-bold",children:"Join"})]}),N.jsx("button",{onClick:()=>Ui(!1),className:"text-[10px] text-slate-500 mt-2 hover:text-slate-400",children:"Cancel"})]}):N.jsx("div",{className:"text-center mt-2",children:N.jsxs("button",{onClick:()=>Ui(!0),className:"text-[10px] text-slate-400 underline hover:text-white flex items-center justify-center gap-1 w-full",children:[N.jsx(J0,{className:"w-3 h-3"})," Have a code? Enter it here"]})}))]}):N.jsxs("div",{className:"flex items-center justify-center gap-2 py-4",children:[N.jsx(X0,{className:"w-4 h-4 animate-spin text-emerald-500"}),N.jsx("span",{className:"text-xs text-slate-400",children:"Creating Room..."})]})}),m===Fe.ONLINE&&Ke&&N.jsx("div",{className:"mt-3 bg-emerald-500/10 border border-emerald-500/30 rounded p-2 text-center",children:N.jsxs("span",{className:"text-emerald-400 text-xs font-bold flex items-center justify-center gap-2",children:[N.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"})," Connected"]})})]})]}),L&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:N.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 max-w-lg w-full max-h-[80vh] overflow-y-auto p-6 relative shadow-2xl",children:[N.jsx("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-white",children:N.jsx(_l,{className:"w-6 h-6"})}),N.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[N.jsx(G0,{className:"w-5 h-5 text-indigo-400"})," Checkers Rules"]}),N.jsxs("ul",{className:"list-disc pl-5 space-y-2 text-sm text-slate-300",children:[N.jsxs("li",{children:["Pieces move ",N.jsx("strong",{children:"forward"})," or ",N.jsx("strong",{children:"sideways"})," (left/right) one square."]}),N.jsx("li",{children:"No backward moves or diagonal moves for ordinary pieces."}),N.jsxs("li",{children:[N.jsx("strong",{children:"Forced Capture:"})," If you can capture, you MUST capture."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Multi-jumps:"})," You must continue jumping if possible."]}),N.jsxs("li",{children:[N.jsx("strong",{children:"Kings (Flying Kings):"})," Move any distance vertically or horizontally."]})]}),N.jsx("button",{onClick:()=>S(!1),className:"w-full mt-6 py-3 bg-indigo-600 hover:bg-indigo-500 rounded-xl text-white font-bold transition-colors",children:"Close"})]})}),R&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in",children:N.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 max-w-md w-full max-h-[80vh] overflow-hidden flex flex-col relative shadow-2xl",children:[N.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center bg-slate-900/50",children:[N.jsxs("h2",{className:"text-lg font-bold text-white flex items-center gap-2",children:[N.jsx(q0,{className:"w-5 h-5 text-amber-400"})," Leaderboard"]}),N.jsx("button",{onClick:()=>C(!1),className:"text-slate-400 hover:text-white",children:N.jsx(_l,{className:"w-5 h-5"})})]}),N.jsx("div",{className:"overflow-y-auto p-0",children:St.map((K,ue)=>{const _e=K.username===Q.username;return N.jsxs("div",{className:`flex items-center gap-3 p-3 border-b border-slate-700/50 ${_e?"bg-indigo-900/20":""}`,children:[N.jsxs("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs shrink-0 ${ue<3?"bg-amber-500 text-black":"bg-slate-700 text-slate-300"}`,children:["#",ue+1]}),N.jsxs("div",{className:"flex-1 min-w-0",children:[N.jsxs("p",{className:`text-sm font-bold truncate ${_e?"text-indigo-300":"text-slate-200"}`,children:[K.username||K.rankTitle,_e&&N.jsx("span",{className:"ml-2 text-[10px] bg-indigo-600 px-1 rounded text-white",children:"YOU"})]}),N.jsxs("p",{className:"text-[10px] text-slate-400",children:["Level ",K.level,"  ",K.rankTitle]})]}),N.jsxs("div",{className:"text-right",children:[N.jsxs("p",{className:"text-sm font-mono text-emerald-400 font-bold",children:[K.wins," W"]}),N.jsxs("p",{className:"text-[10px] text-slate-500",children:[K.xp.toLocaleString()," XP"]})]})]},ue)})}),N.jsx("div",{className:"p-4 border-t border-slate-700 bg-slate-900/30",children:N.jsx("button",{onClick:()=>C(!1),className:"w-full py-2 bg-slate-700 hover:bg-slate-600 rounded-lg text-white font-bold text-sm",children:"Close"})})]})}),N.jsx("div",{className:"fixed bottom-4 left-0 right-0 z-40 flex justify-center",children:N.jsxs("div",{className:"bg-slate-800/90 backdrop-blur border border-slate-700 rounded-full px-3 py-2 shadow-xl flex gap-2",children:[N.jsxs("button",{onClick:()=>C(!0),className:"px-3 py-2 rounded-full text-amber-300 hover:text-amber-200 hover:bg-slate-700/50 flex items-center gap-2",children:[N.jsx(q0,{className:"w-5 h-5"}),N.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Leaderboard"})]}),N.jsxs("button",{onClick:()=>S(!0),className:"px-3 py-2 rounded-full text-slate-200 hover:text-white hover:bg-slate-700/50 flex items-center gap-2",children:[N.jsx(G0,{className:"w-5 h-5"}),N.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Checkers Rules"})]}),N.jsxs("button",{onClick:()=>z(!0),className:"px-3 py-2 rounded-full text-violet-300 hover:text-violet-200 hover:bg-slate-700/50 flex items-center gap-2",children:[N.jsx(Q0,{className:"w-5 h-5"}),N.jsx("span",{className:"text-xs font-bold hidden sm:inline",children:"Add Mini App"})]})]})}),ut&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:N.jsx("div",{className:"bg-white rounded-2xl max-w-sm w-full overflow-hidden",children:N.jsxs("div",{className:"p-5",children:[N.jsx("h3",{className:"text-xl font-bold text-center text-blue-500",children:"Connect Your Wallet"}),N.jsx("p",{className:"text-center text-slate-400 text-xs mt-1",children:"Connect Wallet for the best experience"}),N.jsxs("div",{className:"mt-4 space-y-3",children:[N.jsxs("button",{onClick:()=>{h("farcaster"),O(!0)},className:`w-full px-4 py-3 rounded-lg bg-emerald-600 hover:bg-emerald-500 text-white font-bold flex items-center gap-2 ${f==="farcaster"?"ring-4 ring-black":""}`,children:[N.jsx("span",{className:"w-6 h-6 bg-white/20 rounded"})," Farcaster"]}),N.jsxs("button",{onClick:()=>{h("metamask"),w(!1),bt()},className:"w-full px-4 py-3 rounded-lg bg-blue-600 hover:bg-blue-500 text-white font-bold flex items-center gap-2",children:[N.jsx("span",{className:"w-6 h-6 bg-white/20 rounded"})," MetaMask"]}),N.jsxs("button",{onClick:()=>{h("coinbase"),w(!1),kt()},className:"w-full px-4 py-3 rounded-lg bg-blue-500 hover:bg-blue-400 text-white font-bold flex items-center gap-2",children:[N.jsx("span",{className:"w-6 h-6 bg-white/20 rounded"})," Coinbase Wallet"]}),N.jsxs("button",{onClick:()=>{h("rabby"),w(!1),tl()},className:"w-full px-4 py-3 rounded-lg bg-teal-600 hover:bg-teal-500 text-white font-bold flex items-center gap-2",children:[N.jsx("span",{className:"w-6 h-6 bg-white/20 rounded"})," Rabby Wallet"]}),N.jsxs("button",{onClick:()=>{h("haha")},className:"w-full px-4 py-3 rounded-lg bg-slate-700 hover:bg-slate-600 text-white font-bold flex items-center gap-2",children:[N.jsx("span",{className:"w-6 h-6 bg-white/20 rounded"})," HaHa Wallet"]})]}),N.jsx("button",{onClick:()=>w(!1),className:"mt-4 w-full py-2 text-slate-500",children:"Close"})]})})}),I&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:N.jsx("div",{className:"bg-slate-900 rounded-2xl max-w-sm w-full overflow-hidden",children:N.jsxs("div",{className:"p-6",children:[N.jsx("div",{className:"w-24 h-40 mx-auto bg-slate-800 rounded-xl mb-4"}),N.jsx("h3",{className:"text-white text-xl font-bold text-center",children:"Confirm it's you"}),N.jsx("p",{className:"text-slate-400 text-xs text-center mt-1",children:"Click Continue below and tap Approve on your Farcaster mobile app to start using your wallet on web."}),N.jsx("button",{onClick:async()=>{try{await Qm();const K=await eg();if(K){const ue=`fc-${K.fid}`;ee(K),$(ue),b(ni(ue)),O(!1),w(!1),z(!0)}}catch{}},className:"mt-6 w-full py-3 bg-violet-600 hover:bg-violet-500 text-white font-bold rounded-full",children:"Continue"}),N.jsx("p",{className:"text-slate-500 text-[10px] text-center mt-2",children:"You'll stay signed in for 30 days on this browser."}),N.jsx("button",{onClick:()=>{O(!1)},className:"mt-2 w-full py-2 text-slate-500",children:"Cancel"})]})})}),D&&N.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm",children:N.jsx("div",{className:"bg-slate-900 rounded-2xl max-w-sm w-full overflow-hidden",children:N.jsxs("div",{className:"p-6",children:[N.jsxs("div",{className:"w-16 h-16 mx-auto rounded-xl overflow-hidden mb-3 relative",children:[N.jsx("img",{src:"/checkers-logo.png",alt:"Checkers Logo",className:"w-full h-full object-cover"}),N.jsx("div",{className:"absolute -top-1 -right-1 bg-violet-600 text-white rounded-full p-1 shadow",children:N.jsx(Q0,{className:"w-3 h-3"})})]}),N.jsx("h3",{className:"text-white text-lg font-bold text-center",children:"Add Mini App: Checkers"}),N.jsxs("div",{className:"mt-3 space-y-2",children:[N.jsxs("label",{className:"flex items-center justify-between bg-slate-800 rounded-lg p-3 text-slate-200 text-sm",children:[N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(u2,{className:"w-4 h-4 text-violet-400"})," Add to Farcaster"]}),N.jsx("input",{type:"checkbox",checked:Ie,onChange:K=>ke(K.target.checked)})]}),N.jsxs("label",{className:"flex items-center justify-between bg-slate-800 rounded-lg p-3 text-slate-200 text-sm",children:[N.jsxs("span",{className:"flex items-center gap-2",children:[N.jsx(t2,{className:"w-4 h-4 text-violet-400"})," Enable notifications"]}),N.jsx("input",{type:"checkbox",checked:xe,onChange:K=>Je(K.target.checked)})]})]}),N.jsxs("div",{className:"mt-4 flex gap-2",children:[N.jsx("button",{onClick:()=>{z(!1)},className:"flex-1 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-bold",children:"Cancel"}),N.jsx("button",{onClick:async()=>{(await K4()).added&&xe&&await W4("Welcome","Checkers ready",window.location.href),z(!1)},className:"flex-1 py-2 bg-violet-600 hover:bg-violet-500 text-white rounded-lg font-bold",children:"Confirm"})]})]})})}),N.jsx(eR,{})]})},vx=document.getElementById("root");if(!vx)throw new Error("Could not find root element to mount to");const nR=Bf.createRoot(vx);nR.render(N.jsx(Dx.StrictMode,{children:N.jsx(tR,{})}));
